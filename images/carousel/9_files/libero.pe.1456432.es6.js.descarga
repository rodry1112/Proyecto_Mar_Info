(()=>{var dd=Object.create;var Ys=Object.defineProperty;var cd=Object.getOwnPropertyDescriptor;var hd=Object.getOwnPropertyNames;var ud=Object.getPrototypeOf,md=Object.prototype.hasOwnProperty;var ne=(r,e)=>()=>(r&&(e=r(r=0)),e);var pe=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ye=(r,e)=>{for(var t in e)Ys(r,t,{get:e[t],enumerable:!0})},fd=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of hd(e))!md.call(r,a)&&a!==t&&Ys(r,a,{get:()=>e[a],enumerable:!(i=cd(e,a))||i.enumerable});return r};var Yi=(r,e,t)=>(t=r!=null?dd(ud(r)):{},fd(e||!r||!r.__esModule?Ys(t,"default",{value:r,enumerable:!0}):t,r));var W,S=ne(()=>{W={adsmovil:`<div class="mgheader">
	<span class="mghead">%WIDGET_TITLE%</span>
	<div class="mg_addad%id">
		<a href="#" style="display: flex !important; align-items: center; justify-content: center; position: static;">
			<object aria-label="logo" width="58" height="26">
				<a style="position: static !important; margin-right: 3px !important; width: 55px; height: 26px"
				   href="https://widgets.mgid.com/%lang/%utm%id" target="_blank">
					<img style="display: inline-block; width: 55px !important; height: 26px !important;
					margin: 0 !important; position: static;" src="https://cdn.mgid.com/images/logos/MGID_plus.svg"
					    width="55" height="26" alt />
				</a>
			</object>
			<object aria-label="logo" width="20" height="26">
				<a style="position: static !important; margin: 0 !important; width: 20px; height: 26px"
				   href="https://www.mgid.com/services/privacy-policy" target="_blank">
					<img style="display: inline-block; width: 20px !important; height: 20px !important;
					margin: 0 !important; position: static;" src="https://cdn.mgid.com/images/logos/Adchoices.svg"
					    width="20" height="20" alt />
				</a>
			</object>
		</a>
	</div>
</div>
<style>
    .mghead {
        font-weight: 700;
        font-size: 14px;
        text-transform: uppercase;
        text-align: left;
        font-family: Verdana, sans-serif;
        color: #4555a7;
        display: block;
        margin: 5px 0 0px 5px;
        float: left;
    }

    .mgheader {
        display: table !Important;
        width: 100% !important;
        margin-bottom: 0px;
    }

    div.mg_addad%id {
                     text-align: right;
                     opacity: 0.5;
                     margin-right: 10px;
                     display: inline-block;
                     float: right;
                 }

    div.mg_addad%id:hover {
                     opacity: 1
                 }

    div.mg_addad%id a {
                     color: #000000;
                     font: normal 10px Myriad Pro;
                     text-decoration: none;
                 }

    div.mg_addad%id img {
                     margin: 0px -5px 0px 0px;
                     border: 0px;
                     float: none;
                     padding: 0px;
                 }

	div.mg_addad%id object a {
					 height: 26px;
					 display: flex;
					 align-items: center;
				 }
</style>
`}});var U,_=ne(()=>{U={}});var V,k=ne(()=>{V=["make cl[i1!]ck","(cl[i!1]ck|cl[i!1]que|kl[i!1]kone|shtyp|kl[i!1]k|kl[i!1]kn[i!1]\u0435e) ((on|[i!1]n the) )?(h[e3]re|me|please|ads|to|en cualqu[i!1]er anunc[i!1]o|qu\u1EA3ng c\xE1o|na [i!1]megen|nje nga reklamat|no an\xFAnc[i!1]o|reklamen|em alguma propaganda|[i!1]klan atan|below banner)","pres[i1!]ona \u0441ualqu[i1!]er [i1!]magen","toca la pr[i1!]mera [i1!]magen ","(cl[i!1]ck|cl[i!1]que|kl[i!1]kone|shtyp|kl[i!1]k|kl[i!1]kn[i!1]\u0435e) ((on|[i!1]n the) )?([i!1]zpod)"]});var j,C=ne(()=>{j={"[GO]":"IR","[INFORMER_BACK_BUTTON_BANNER_TEXT]":"M\xE1s historias para ver antes de irte","[INFORMER_BTN_DISCOVER_MORE]":"Discover More","[INFORMER_BUTTON_MORE]":"Detallado","[INFORMER_CLOSE_AD_BUTTON]":"Cerrar anuncio","[INFORMER_CTA_LEARN_MORE]":"Lea m\xE1s aqu\xED","[INFORMER_OPEN_BUTTON]":"Abierto","[INFORMER_VIDEO_CLICK_TEXT]":"M\xE1s informaci\xF3n","[LS_CAB_SITE_BLOCK_ANTIFRAUD_SUBJECT_V2]":"Su sitio web %s ha sido bloqueado (%s)","[LS_INFORMERS_CLOSE_BUTTON]":"Cerrar","[LS_INFORMERS_MOBILEMODAL_GO]":"Go","[LS_INFORMERS_WIDGET_MOBILE_CONTINUE]":"Continue","[WIDGET_TITLE_CHECK_THIS_OUT]":"Mira esto","[WIDGET_TITLE_INTERESTING]":"Interesante en la red","[WIDGET_TITLE_INTERESTING_FOR_YOU]":"Interesante para usted","[WIDGET_TITLE_MORE_COOL_STUFF]":"M\xE1s material novedoso","[WIDGET_TITLE_MORE_FROM_AROUND_THE_WEB]":"Algo m\xE1s acerca de la web","[WIDGET_TITLE_PARTNERS_NEWS]":"Noticias del socio","[WIDGET_TITLE_POPULAR]":"Popular en la red","[WIDGET_TITLE_PROMOTED_CONTENT]":"Contenido promocionado","[WIDGET_TITLE_SMI]":"En otros medios","[WIDGET_TITLE_SPONSORED_CONTENT]":"Contenido patrocinado","[WIDGET_TITLE_SUGGESTED_NEWS]":"Noticias sugeridas","[WIDGET_TITLE_YOU_MAY_LIKE]":"Le podr\xEDa gustar"}});var I=ne(()=>{});var z,D=ne(()=>{z=["es","vi","it","hi","pl","ru","uk"]});var E=ne(()=>{});var $,ge=ne(()=>{S();_();k();C();I();D();E();$=class{constructor(e){this.app=e}addHook(e,t,i=0){{let a=i!==0;this.app[e].push(s=>{let n=this.name||this.constructor.name,l=[];return l.push(this.app.lifeCycleBlock.execute(`${e} hook ${n}`,c=>{try{a?(s=s||[],s.push(c),t.apply(this,s)):(t.apply(this,s),c())}catch(h){this.app.log(`${e} hook ${n}:`,"error",h),c()}},0,!1,!0)),a&&i!==999999&&l.push(this.app.lifeCycleBlock.execute("",c=>{c()},i,!1,!0)),Promise.race(l)})}}}});var Sa,Nn=ne(()=>{S();_();k();C();I();D();E();ge();Sa=class extends ${constructor(e){super(e),this.isDebugEnabled=!1,this.isProfilerEnabled=!1,this.app.log=this.log.bind(this),this.app.time=this.time.bind(this),this.app.timeEnd=this.timeEnd.bind(this)}initDebugger(){this.isDebugEnabled=this.app.getQueryParameterByName("mgwdebug")==="1"||!1,this.isProfilerEnabled=this.app.getQueryParameterByName("mgwprofile")==="1"||!1}log(e,t="log",i=null){if(this.isDebugEnabled){let s=["log","info","warn","error"].indexOf(t)!==-1?t:"log";typeof console[s]!="function"&&(s="log"),i&&i.stack&&i.message?console[s](`WIDGET_${1456432}_${this.app.uniqId}`,e,i.stack):console[s](`WIDGET_${1456432}_${this.app.uniqId}`,e)}}time(e){this.isProfilerEnabled&&typeof console.time=="function"&&console.time(`WIDGET_${1456432}_${this.app.uniqId} ${e}`)}timeEnd(e){this.isProfilerEnabled&&typeof console.timeEnd=="function"&&console.timeEnd(`WIDGET_${1456432}_${this.app.uniqId} ${e}`)}}});var fe,Se,ii,bt=ne(()=>{S();_();k();C();I();D();E();(function(r){r.Teaser="teaser",r.Banner="banner",r.Gpt="gpt"})(fe||(fe={}));(function(r){r.Wages="w",r.Exchange="e",r.InternalExchange="i",r.Video="v",r.DirectPublisherDemand="dpd"})(Se||(Se={}));(function(r){r.Desktop="desktop",r.Mobile="mobile",r.Tablet="tablet",r.SmartTV="smarttv"})(ii||(ii={}))});var He=pe(Et=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Et,"__esModule",{value:!0});Et.Debug=Et.setDebugFlag=Et.getDebugFlag=Et.mgForceSend=Et.mgDebug=void 0;var St,Td=function(){function r(e,t){var i=r.queryString();t&&t.mgRec&&t.mgRec.config&&t.mgRec.config.debug&&(this.debugMode=t.mgRec.config.debug);var a=e?e.Helpers.getCookie("mgwdebug"):void 0;if((i.mgwdebug||a!==void 0)&&(this.debugMode||(this.debugMode=i.mgwdebug||a),this.copyToConsole=!0),this.debugMode&&(this.debugFlag=!0),t){t.mgRec&&t.mgRec.cid?this.cid=t.mgRec.cid:this.cid=0,this.sensorUrl=t.libConfig.videoSensorUrlTemplate,this.sensorUrl=this.sensorUrl.replace("{{DOMAIN}}",t.mgRec.countersDomain||"c.".concat(t.mgRec.subnetDomain));var s=document.location.protocol;s=s.indexOf("http")===0?s:"https:",this.sensorUrl="".concat(s).concat(this.sensorUrl)}}return r.init=function(e){if(!e){St=new r;return}e.debug||(St=new r(e.modules,e),e.debug=St.debug,e.remoteMessage=St.remoteMessage);var t=this.queryString(),i=e.mgRec.config.debug;(t.mgwdebug||t["mgwdebug_".concat(e.mgRec.cid)]||i&&typeof i!="string"||typeof i=="string"&&parseInt(i,10)||e.block.getAttribute("data-mgwdebug"))&&(St.debugFlag=!0)},r.queryString=function(){var e={},t=window.location!==window.parent.location?document.referrer:document.location.href;if(t===document.referrer)try{t=window.parent.location.href}catch{}var i=t.match(/\?\S+/);if(i)for(var a=i[0].substring(1).split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(typeof e[n[0]]>"u")e[n[0]]=decodeURIComponent(n[1]);else if(typeof e[n[0]]=="string"){var l=[e[n[0]],decodeURIComponent(n[1])];e[n[0]]=l}else e[n[0]].push(decodeURIComponent(n[1]))}return e},r.prototype.debug=function(e,t){if(t===void 0&&(t=!1),this.debugFlag||t){var i=e;typeof i!="object"&&(i="".concat(new Date().toISOString().replace("Z","MG")," ").concat(i)),this.debugMode==="remote"||t?(this.remoteMessage(i),this.copyToConsole&&console.debug(i)):console.debug(i)}},r.prototype.remoteMessage=function(e){var t=new Image;this.sensorUrl&&(t.src="".concat(this.sensorUrl,"?e=mgwdebug&iid=").concat(this.cid)+"&o=".concat(encodeURIComponent(e),"&c=").concat(Math.floor(Math.random()*65535)))},r}();Et.Debug=Td;function wd(r){St&&St.debug(r)}Et.mgDebug=wd;function Sd(r){St&&St.debug(r,!0)}Et.mgForceSend=Sd;function _d(){return St&&St.debugFlag}Et.getDebugFlag=_d;function kd(r){St&&(St.debugFlag=r)}Et.setDebugFlag=kd});var Gn=pe(_a=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(_a,"__esModule",{value:!0});_a.Config=void 0;var Cd=function(){function r(){}return r.init=function(e){var t=e.modules.Helpers.getUrlParam("mgwtest")||e.modules.Helpers.getUrlParam("mgwtest".concat(e.mgRec.cid))||e.modules.Helpers.getCookie("mgwtest");if(t){var i="test".concat(t.replace(/(_|^)(\w)/g,function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return a[2].toUpperCase()}));e.modules.Helpers&&e.modules.Helpers.mergeObjects&&e.mgRec.config[i]&&e.setConfig(e.modules.Helpers.mergeObjects(e.mgRec.config,e.mgRec.config[i],!0))}},r}();_a.Config=Cd});var wi=pe(ka=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ka,"__esModule",{value:!0});ka.Loader=void 0;var Id=function(){function r(e,t,i){i===void 0&&(i="0");var a=this;this.config=e,this.callback=t,this.widgetIndex=i,this.loaded={},this.loading={},this.allLoaded=!1,this.checkAgain=!1;var s=document.location.protocol;this.protocol=s.indexOf("http")===0?s:"https:",Object.keys(this.config).forEach(function(n){if(Object.prototype.hasOwnProperty.call(a.config[n],"exists"))if(a.loading[n]=!1,!document.getElementById("".concat(n,"_").concat(a.widgetIndex))&&!window["".concat(n,"_").concat(a.widgetIndex)]){var l=document.createElement("script");l.id="".concat(n,"_").concat(a.widgetIndex),l.innerHTML="(function(){window.mg".concat(n,"_").concat(a.widgetIndex)+" = function () { return !!(".concat(a.config[n].exists,");};})();"),document.head.insertBefore(l,document.head.querySelector("script")||document.head.lastChild),a.loaded[n]=window["mg".concat(n,"_").concat(a.widgetIndex)]()}else window["mg".concat(n,"_").concat(a.widgetIndex)]&&(a.loaded[n]=window["mg".concat(n,"_").concat(a.widgetIndex)]())})}return r.prototype.checkLoaded=function(){var e=this;this.allLoaded=!0,this.checkAgain=!1,Object.keys(this.loaded).forEach(function(t){if(!e.loaded[t]){var i=!0;if(Object.prototype.hasOwnProperty.call(e.config[t],"dep"))for(var a=0;a<e.config[t].dep.length;a++)e.loaded[e.config[t].dep[a]]||(i=!1);i&&(e.allLoaded=e.allLoaded&&e.createScript(t))}}),this.checkAgain?this.checkLoaded():this.allLoaded&&this.callback()},r.prototype.createScript=function(e){var t=this,i=document.getElementById(e);if(!i)i=document.createElement("script"),i.id=e,this.config[e].url.indexOf("http")===0?i.src=this.config[e].url:i.src="".concat(this.protocol).concat(this.config[e].url),i.addEventListener("load",function(){t.onLoadScript(i)}),document.head.appendChild(i),this.loading[e]=!0;else if(!i.getAttribute("data-loaded")&&!this.loading[e])this.loading[e]=!0,i.addEventListener("load",function(){t.onLoadScript(i)});else if(i.getAttribute("data-loaded"))return this.loaded[e]=!0,this.checkAgain=!0,!0;return!1},r.prototype.onLoadScript=function(e,t){t===void 0&&(t=null),e.setAttribute("data-loaded",!0),this.loaded[e.id]=!0,this.checkLoaded(),t&&t()},r}();ka.Loader=Id});var Vn=pe(()=>{S();_();k();C();I();D();E();(function(){"use strict";if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function r(w){try{return w.defaultView&&w.defaultView.frameElement||null}catch{return null}}var e=function(w){for(var M=w,H=r(M);H;)M=H.ownerDocument,H=r(M);return M}(window.document),t=[],i=null,a=null;function s(w){this.time=w.time,this.target=w.target,this.rootBounds=P(w.rootBounds),this.boundingClientRect=P(w.boundingClientRect),this.intersectionRect=P(w.intersectionRect||b()),this.isIntersecting=!!w.intersectionRect;var M=this.boundingClientRect,H=M.width*M.height,ie=this.intersectionRect,Z=ie.width*ie.height;H?this.intersectionRatio=Number((Z/H).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function n(w,M){var H=M||{};if(typeof w!="function")throw new Error("callback must be a function");if(H.root&&H.root.nodeType!=1)throw new Error("root must be an Element");this._checkForIntersections=c(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=w,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(H.rootMargin),this.thresholds=this._initThresholds(H.threshold),this.root=H.root||null,this.rootMargin=this._rootMarginValues.map(function(ie){return ie.value+ie.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n._setupCrossOriginUpdater=function(){return i||(i=function(w,M){!w||!M?a=b():a=x(w,M),t.forEach(function(H){H._checkForIntersections()})}),i},n._resetCrossOriginUpdater=function(){i=null,a=null},n.prototype.observe=function(w){var M=this._observationTargets.some(function(H){return H.element==w});if(!M){if(!(w&&w.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:w,entry:null}),this._monitorIntersections(w.ownerDocument),this._checkForIntersections()}},n.prototype.unobserve=function(w){this._observationTargets=this._observationTargets.filter(function(M){return M.element!=w}),this._unmonitorIntersections(w.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var w=this._queuedEntries.slice();return this._queuedEntries=[],w},n.prototype._initThresholds=function(w){var M=w||[0];return Array.isArray(M)||(M=[M]),M.sort().filter(function(H,ie,Z){if(typeof H!="number"||isNaN(H)||H<0||H>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return H!==Z[ie-1]})},n.prototype._parseRootMargin=function(w){var M=w||"0px",H=M.split(/\s+/).map(function(ie){var Z=/^(-?\d*\.?\d+)(px|%)$/.exec(ie);if(!Z)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(Z[1]),unit:Z[2]}});return H[1]=H[1]||H[0],H[2]=H[2]||H[0],H[3]=H[3]||H[1],H},n.prototype._monitorIntersections=function(w){var M=w.defaultView;if(!!M&&this._monitoringDocuments.indexOf(w)==-1){var H=this._checkForIntersections,ie=null,Z=null;if(this.POLL_INTERVAL?ie=M.setInterval(H,this.POLL_INTERVAL):(h(M,"resize",H,!0),h(w,"scroll",H,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in M&&(Z=new M.MutationObserver(H),Z.observe(w,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(w),this._monitoringUnsubscribes.push(function(){var te=w.defaultView;te&&(ie&&te.clearInterval(ie),g(te,"resize",H,!0)),g(w,"scroll",H,!0),Z&&Z.disconnect()}),w!=(this.root&&this.root.ownerDocument||e)){var Q=r(w);Q&&this._monitorIntersections(Q.ownerDocument)}}},n.prototype._unmonitorIntersections=function(w){var M=this._monitoringDocuments.indexOf(w);if(M!=-1){var H=this.root&&this.root.ownerDocument||e,ie=this._observationTargets.some(function(te){var ae=te.element.ownerDocument;if(ae==w)return!0;for(;ae&&ae!=H;){var me=r(ae);if(ae=me&&me.ownerDocument,ae==w)return!0}return!1});if(!ie){var Z=this._monitoringUnsubscribes[M];if(this._monitoringDocuments.splice(M,1),this._monitoringUnsubscribes.splice(M,1),Z(),w!=H){var Q=r(w);Q&&this._unmonitorIntersections(Q.ownerDocument)}}}},n.prototype._unmonitorAllIntersections=function(){var w=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var M=0;M<w.length;M++)w[M]()},n.prototype._checkForIntersections=function(){if(!(!this.root&&i&&!a)){var w=this._rootIsInDom(),M=w?this._getRootRect():b();this._observationTargets.forEach(function(H){var ie=H.element,Z=T(ie),Q=this._rootContainsTarget(ie),te=H.entry,ae=w&&Q&&this._computeTargetAndRootIntersection(ie,Z,M),me=H.entry=new s({time:l(),target:ie,boundingClientRect:Z,rootBounds:i&&!this.root?null:M,intersectionRect:ae});te?w&&Q?this._hasCrossedThreshold(te,me)&&this._queuedEntries.push(me):te&&te.isIntersecting&&this._queuedEntries.push(me):this._queuedEntries.push(me)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},n.prototype._computeTargetAndRootIntersection=function(w,M,H){if(window.getComputedStyle(w).display!="none"){for(var ie=M,Z=O(w),Q=!1;!Q&&Z;){var te=null,ae=Z.nodeType==1?window.getComputedStyle(Z):{};if(ae.display=="none")return null;if(Z==this.root||Z.nodeType==9)if(Q=!0,Z==this.root||Z==e)i&&!this.root?!a||a.width==0&&a.height==0?(Z=null,te=null,ie=null):te=a:te=H;else{var me=O(Z),se=me&&T(me),ue=me&&this._computeTargetAndRootIntersection(me,se,H);se&&ue?(Z=me,te=x(se,ue)):(Z=null,ie=null)}else{var Me=Z.ownerDocument;Z!=Me.body&&Z!=Me.documentElement&&ae.overflow!="visible"&&(te=T(Z))}if(te&&(ie=y(te,ie)),!ie)break;Z=Z&&O(Z)}return ie}},n.prototype._getRootRect=function(){var w;if(this.root)w=T(this.root);else{var M=e.documentElement,H=e.body;w={top:0,left:0,right:M.clientWidth||H.clientWidth,width:M.clientWidth||H.clientWidth,bottom:M.clientHeight||H.clientHeight,height:M.clientHeight||H.clientHeight}}return this._expandRectByRootMargin(w)},n.prototype._expandRectByRootMargin=function(w){var M=this._rootMarginValues.map(function(ie,Z){return ie.unit=="px"?ie.value:ie.value*(Z%2?w.width:w.height)/100}),H={top:w.top-M[0],right:w.right+M[1],bottom:w.bottom+M[2],left:w.left-M[3]};return H.width=H.right-H.left,H.height=H.bottom-H.top,H},n.prototype._hasCrossedThreshold=function(w,M){var H=w&&w.isIntersecting?w.intersectionRatio||0:-1,ie=M.isIntersecting?M.intersectionRatio||0:-1;if(H!==ie)for(var Z=0;Z<this.thresholds.length;Z++){var Q=this.thresholds[Z];if(Q==H||Q==ie||Q<H!=Q<ie)return!0}},n.prototype._rootIsInDom=function(){return!this.root||B(e,this.root)},n.prototype._rootContainsTarget=function(w){return B(this.root||e,w)&&(!this.root||this.root.ownerDocument==w.ownerDocument)},n.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},n.prototype._unregisterInstance=function(){var w=t.indexOf(this);w!=-1&&t.splice(w,1)};function l(){return window.performance&&performance.now&&performance.now()}function c(w,M){var H=null;return function(){H||(H=setTimeout(function(){w(),H=null},M))}}function h(w,M,H,ie){typeof w.addEventListener=="function"?w.addEventListener(M,H,ie||!1):typeof w.attachEvent=="function"&&w.attachEvent("on"+M,H)}function g(w,M,H,ie){typeof w.removeEventListener=="function"?w.removeEventListener(M,H,ie||!1):typeof w.detatchEvent=="function"&&w.detatchEvent("on"+M,H)}function y(w,M){var H=Math.max(w.top,M.top),ie=Math.min(w.bottom,M.bottom),Z=Math.max(w.left,M.left),Q=Math.min(w.right,M.right),te=Q-Z,ae=ie-H;return te>=0&&ae>=0&&{top:H,bottom:ie,left:Z,right:Q,width:te,height:ae}||null}function T(w){var M;try{M=w.getBoundingClientRect()}catch{}return M?(M.width&&M.height||(M={top:M.top,right:M.right,bottom:M.bottom,left:M.left,width:M.right-M.left,height:M.bottom-M.top}),M):b()}function b(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function P(w){return!w||"x"in w?w:{top:w.top,y:w.top,bottom:w.bottom,left:w.left,x:w.left,right:w.right,width:w.width,height:w.height}}function x(w,M){var H=M.top-w.top,ie=M.left-w.left;return{top:H,left:ie,height:M.height,width:M.width,bottom:H+M.height,right:ie+M.width}}function B(w,M){for(var H=M;H;){if(H==w)return!0;H=O(H)}return!1}function O(w){var M=w.parentNode;return w.nodeType==9&&w!=e?r(w):M&&M.nodeType==11&&M.host?M.host:M&&M.assignedSlot?M.assignedSlot.parentNode:M}window.IntersectionObserver=n,window.IntersectionObserverEntry=s})()});var Ce=pe(Si=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Si,"__esModule",{value:!0});Si.Helpers=Si.getInObject=void 0;Vn();var Dd=function(){function r(){this.elements=[],this.listeners=[],this.interceptEventsListeners()}return r.init=function(){window.listTracker||(window.listTracker=new r)},r.registerElement=function(e){if(window.listTracker.elements.indexOf(e)===-1){var t=[{},{}];window.listTracker.elements.push(e),window.listTracker.listeners.push(t)}return window.listTracker.listeners[window.listTracker.elements.indexOf(e)]},r.prototype.interceptEventsListeners=function(){this.superObj={addEventListener:HTMLElement.prototype.addEventListener,removeEventListener:HTMLElement.prototype.removeEventListener},Element.prototype.addEventListener=function(e,t,i){var a=r.registerElement(this);window.listTracker.superObj.addEventListener.apply(this,arguments);var s=i?1:0;a[s][e]||(a[s][e]=[]),a[s][e].push(t)},Element.prototype.removeEventListener=function(e,t,i){var a=r.registerElement(this);window.listTracker.superObj.removeEventListener.apply(this,arguments);var s=i?1:0;if(!!a[s][e]){var n=a[s][e].indexOf(t);n>-1&&a[s][e].splice(n,1)}},Element.prototype.getEventListeners=function(e){for(var t=r.registerElement(this),i=[],a=function(c,h){h=t[c],typeof e=="string"?h[e]&&Object.keys(h[e]).forEach(function(g){i.push({type:e,listener:h[e][g],useCapture:!!c})}):Object.keys(h).forEach(function(g){Object.keys(h[e]).forEach(function(y){i.push({curType:g,listener:h[g][y],useCapture:!!c})})}),s=h},s,n=0,l=void 0;t[n];n++)a(n,l),l=s;return i}},r}(),Ed=function(){function r(){}return r.safeAdd=function(e,t){var i=(e&65535)+(t&65535),a=(e>>16)+(t>>16)+(i>>16);return a<<16|i&65535},r.bitRotateLeft=function(e,t){return e<<t|e>>>32-t},r.md5cmn=function(e,t,i,a,s,n){return r.safeAdd(r.bitRotateLeft(r.safeAdd(r.safeAdd(t,e),r.safeAdd(a,n)),s),i)},r.md5ff=function(e,t,i,a,s,n,l){return r.md5cmn(t&i|~t&a,e,t,s,n,l)},r.md5gg=function(e,t,i,a,s,n,l){return r.md5cmn(t&a|i&~a,e,t,s,n,l)},r.md5hh=function(e,t,i,a,s,n,l){return r.md5cmn(t^i^a,e,t,s,n,l)},r.md5ii=function(e,t,i,a,s,n,l){return r.md5cmn(i^(t|~a),e,t,s,n,l)},r.binlMD5=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=null,a=null,s=null,n=null,l=1732584193,c=-271733879,h=-1732584194,g=271733878,y=0;y<e.length;y+=16)i=l,a=c,s=h,n=g,l=r.md5ff(l,c,h,g,e[y],7,-680876936),g=r.md5ff(g,l,c,h,e[y+1],12,-389564586),h=r.md5ff(h,g,l,c,e[y+2],17,606105819),c=r.md5ff(c,h,g,l,e[y+3],22,-1044525330),l=r.md5ff(l,c,h,g,e[y+4],7,-176418897),g=r.md5ff(g,l,c,h,e[y+5],12,1200080426),h=r.md5ff(h,g,l,c,e[y+6],17,-1473231341),c=r.md5ff(c,h,g,l,e[y+7],22,-45705983),l=r.md5ff(l,c,h,g,e[y+8],7,1770035416),g=r.md5ff(g,l,c,h,e[y+9],12,-1958414417),h=r.md5ff(h,g,l,c,e[y+10],17,-42063),c=r.md5ff(c,h,g,l,e[y+11],22,-1990404162),l=r.md5ff(l,c,h,g,e[y+12],7,1804603682),g=r.md5ff(g,l,c,h,e[y+13],12,-40341101),h=r.md5ff(h,g,l,c,e[y+14],17,-1502002290),c=r.md5ff(c,h,g,l,e[y+15],22,1236535329),l=r.md5gg(l,c,h,g,e[y+1],5,-165796510),g=r.md5gg(g,l,c,h,e[y+6],9,-1069501632),h=r.md5gg(h,g,l,c,e[y+11],14,643717713),c=r.md5gg(c,h,g,l,e[y],20,-373897302),l=r.md5gg(l,c,h,g,e[y+5],5,-701558691),g=r.md5gg(g,l,c,h,e[y+10],9,38016083),h=r.md5gg(h,g,l,c,e[y+15],14,-660478335),c=r.md5gg(c,h,g,l,e[y+4],20,-405537848),l=r.md5gg(l,c,h,g,e[y+9],5,568446438),g=r.md5gg(g,l,c,h,e[y+14],9,-1019803690),h=r.md5gg(h,g,l,c,e[y+3],14,-187363961),c=r.md5gg(c,h,g,l,e[y+8],20,1163531501),l=r.md5gg(l,c,h,g,e[y+13],5,-1444681467),g=r.md5gg(g,l,c,h,e[y+2],9,-51403784),h=r.md5gg(h,g,l,c,e[y+7],14,1735328473),c=r.md5gg(c,h,g,l,e[y+12],20,-1926607734),l=r.md5hh(l,c,h,g,e[y+5],4,-378558),g=r.md5hh(g,l,c,h,e[y+8],11,-2022574463),h=r.md5hh(h,g,l,c,e[y+11],16,1839030562),c=r.md5hh(c,h,g,l,e[y+14],23,-35309556),l=r.md5hh(l,c,h,g,e[y+1],4,-1530992060),g=r.md5hh(g,l,c,h,e[y+4],11,1272893353),h=r.md5hh(h,g,l,c,e[y+7],16,-155497632),c=r.md5hh(c,h,g,l,e[y+10],23,-1094730640),l=r.md5hh(l,c,h,g,e[y+13],4,681279174),g=r.md5hh(g,l,c,h,e[y],11,-358537222),h=r.md5hh(h,g,l,c,e[y+3],16,-722521979),c=r.md5hh(c,h,g,l,e[y+6],23,76029189),l=r.md5hh(l,c,h,g,e[y+9],4,-640364487),g=r.md5hh(g,l,c,h,e[y+12],11,-421815835),h=r.md5hh(h,g,l,c,e[y+15],16,530742520),c=r.md5hh(c,h,g,l,e[y+2],23,-995338651),l=r.md5ii(l,c,h,g,e[y],6,-198630844),g=r.md5ii(g,l,c,h,e[y+7],10,1126891415),h=r.md5ii(h,g,l,c,e[y+14],15,-1416354905),c=r.md5ii(c,h,g,l,e[y+5],21,-57434055),l=r.md5ii(l,c,h,g,e[y+12],6,1700485571),g=r.md5ii(g,l,c,h,e[y+3],10,-1894986606),h=r.md5ii(h,g,l,c,e[y+10],15,-1051523),c=r.md5ii(c,h,g,l,e[y+1],21,-2054922799),l=r.md5ii(l,c,h,g,e[y+8],6,1873313359),g=r.md5ii(g,l,c,h,e[y+15],10,-30611744),h=r.md5ii(h,g,l,c,e[y+6],15,-1560198380),c=r.md5ii(c,h,g,l,e[y+13],21,1309151649),l=r.md5ii(l,c,h,g,e[y+4],6,-145523070),g=r.md5ii(g,l,c,h,e[y+11],10,-1120210379),h=r.md5ii(h,g,l,c,e[y+2],15,718787259),c=r.md5ii(c,h,g,l,e[y+9],21,-343485551),l=r.safeAdd(l,i),c=r.safeAdd(c,a),h=r.safeAdd(h,s),g=r.safeAdd(g,n);return[l,c,h,g]},r.binl2rstr=function(e){for(var t="",i=e.length*32,a=0;a<i;a+=8)t+=String.fromCharCode(e[a>>5]>>>a%32&255);return t},r.rstr2binl=function(e){var t=[];t[(e.length>>2)-1]=void 0;for(var i=0;i<t.length;i+=1)t[i]=0;for(var a=e.length*8,i=0;i<a;i+=8)t[i>>5]|=(e.charCodeAt(i/8)&255)<<i%32;return t},r.rstrMD5=function(e){return r.binl2rstr(r.binlMD5(r.rstr2binl(e),e.length*8))},r.rstrHMACMD5=function(e,t){var i=r.rstr2binl(e),a=[],s=[];a[15]=void 0,s[15]=void 0,i.length>16&&(i=r.binlMD5(i,e.length*8));for(var n=0;n<16;n+=1)a[n]=i[n]^909522486,s[n]=i[n]^1549556828;var l=r.binlMD5(a.concat(r.rstr2binl(t)),512+t.length*8);return r.binl2rstr(r.binlMD5(s.concat(l),512+128))},r.rstr2hex=function(e){var t="0123456789abcdef",i="",a=null,s;for(s=0;s<e.length;s+=1)a=e.charCodeAt(s),i+=t.charAt(a>>>4&15)+t.charAt(a&15);return i},r.str2rstrUTF8=function(e){return unescape(encodeURIComponent(e))},r.rawMD5=function(e){return r.rstrMD5(r.str2rstrUTF8(e))},r.hexMD5=function(e){return r.rstr2hex(r.rawMD5(e))},r.rawHMACMD5=function(e,t){return r.rstrHMACMD5(r.str2rstrUTF8(e),r.str2rstrUTF8(t))},r.hexHMACMD5=function(e,t){return r.rstr2hex(r.rawHMACMD5(e,t))},r.md5=function(e,t,i){return t===void 0&&(t=void 0),i===void 0&&(i=!1),t?i?r.rawHMACMD5(t,e):r.hexHMACMD5(t,e):i?r.rawMD5(e):r.hexMD5(e)},r}(),Pd=function(){function r(){}return r.isScrolledIntoView=function(e,t,i){t===void 0&&(t=1),i===void 0&&(i=0);var a=r.getViewTop(),s=this.getWindowHeight(),n=a+s,l=this.getOffsetTop(e),c=l;if(e.offsetHeight)c+=e.offsetHeight;else{var h=this.getParentBlockByClass(e,"mgline");h&&(c+=h.offsetHeight)}return i>0&&(c+=i),c-(1-t)*e.offsetHeight<=n&&l+(1-t)*e.offsetHeight>=a},r.onVisible=function(e,t,i,a,s,n){i===void 0&&(i=1),a===void 0&&(a=.5),s===void 0&&(s=0),n===void 0&&(n=0);var l=new IntersectionObserver(function(c){c.forEach(function(h){return t(Math.floor(h.intersectionRatio*100)>i*.9*100)})},{threshold:[a,i],rootMargin:"".concat(n,"px 0px ").concat(s,"px 0px")});return l.POLL_INTERVAL=100,l.observe(e),l},r.getOffsetTop=function(e){var t=e.getBoundingClientRect(),i=document.body,a=document.documentElement,s=window.pageYOffset||a.scrollTop||i.scrollTop,n=a.clientTop||i.clientTop||0,l=t.top+s-n;return Math.round(l)},r.getOffsetLeft=function(e){var t=e.getBoundingClientRect(),i=document.body,a=document.documentElement,s=window.pageXOffset||a.scrollLeft||i.scrollLeft,n=a.clientLeft||i.clientLeft||0,l=t.left+s-n;return Math.round(l)},r.getViewTop=function(){return window.pageYOffset||document.documentElement.scrollTop},r.getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},r.getParentBlockByClass=function(e,t){for(var i=e;i!==document&&i.parentNode;){if(i.className&&i.className.indexOf(t)>=0)return i;i=i.parentNode}return null},r.getTeaserAlign=function(e,t){t===void 0&&(t=1);var i=document.body.scrollWidth,a=this.getRect(e,!0);return a.right*t<.3*i?"left":a.left*(1+(1-t))>=.7*i?"right":"center"},r.getRect=function(e,t){var i=e.getBoundingClientRect(),a={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height?i.height:i.bottom-i.top,width:i.width?i.width:i.right-i.left};if(t){var s=this.getScroll();a.top+=s.top,a.bottom+=s.top,a.left+=s.left,a.right+=s.left}return a},r.getAtf=function(e){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=this.getOffsetTop(e);return i<t},r.getScroll=function(){return{top:document.body.scrollTop||document.documentElement.scrollTop||0,left:document.body.scrollLeft||document.documentElement.scrollLeft||0}},r.removeClass=function(e,t){e&&typeof e.className<"u"&&(e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t),"g"),""))},r.addClass=function(e,t){var i=t;if(!(!e||typeof e.className>"u")){var a=e.className;a.indexOf(i)===-1&&(a!==""&&(i=" ".concat(i)),e.className=a+i)}},r.mergeObjects=function(e,t,i){var a=this;return i===void 0&&(i=!1),t&&Object.keys(t).forEach(function(s){i&&typeof t[s]=="object"&&t[s]!==null&&Object.prototype.hasOwnProperty.call(e,s)?Array.isArray(t[s])&&Array.isArray(e[s])?t[s].forEach(function(n,l){n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(e[s],l)?e[s][l]=a.mergeObjects(e[s][l],n,!0):e[s][l]=n}):e[s]=a.mergeObjects(e[s],t[s],!0):e[s]=t[s]}),e},r.isEqual=function(e,t){var i=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);if(i.length!==a.length)return!1;for(var s=0;s<i.length;s++){var n=i[s];if(e[n]!==t[n])return!1}return!0},r.isChrome=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},r.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},r.isIE=function(){return/MSIE\s|Trident\/|EDGE\//i.test(window.navigator.userAgent)},r.isFF=function(){return/firefox/i.test(window.navigator.userAgent)},r.iOSversion=function(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=[];return e!=null?(t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||"0",10)],parseFloat(t.join("."))):!1},r.createImg=function(e,t,i){t===void 0&&(t=null),i===void 0&&(i=null);var a=new Image;i&&a.addEventListener("load",function(s){i(s)}),t&&a.addEventListener("error",function(s){t(s)}),a.src=e},r.createScriptAndRun=function(e,t){if(!document.getElementById(e)&&!window["mg".concat(e)]){var i=document.createElement("script");i.id=e,i.innerHTML="(function(){window.mg".concat(e," = function () { ").concat(t," };})();"),document.head.appendChild(i),window["mg".concat(e)]()}else window["mg".concat(e)]&&window["mg".concat(e)]()},r.repaintSafari=function(){if(this.isSafari()){var e=document.styleSheets;if(e){var t=e.length,i=void 0;for(i=0;i<t;i++)if(e[i].rules!==null){e[i].addRule(".mgReload","color: red;"),e[i].removeRule(e[i].rules.length-1);break}}}},r.setCustomEventListenerManager=function(){Dd.init()},r.isPortrait=function(){return window.matchMedia("(orientation: portrait)").matches},r.isLandscape=function(){return window.matchMedia("(orientation: landscape)").matches},r.fromAscii=function(e){var t=e.replace(/\\u([\d\w]{4})/gi,function(i,a){return String.fromCharCode(parseInt(a,16))});return t=t.replace(/\\"/g,'"').replace(/\\[nt]/g," "),t},r.getUrlParam=function(e){e===void 0&&(e="");var t=window.location!==window.parent.location?document.referrer:document.location.href;if(t===document.referrer)try{t=window.parent.location.href}catch{}if(e){var i=t.match(/\?\S+/);if(i){for(var a=i[0].substring(1).split("&"),s=0;s<a.length;s++)if(a[s].indexOf(e)!==-1){var n=a[s].split("=")[1];return n?decodeURIComponent(n):!0}}return!1}return t},r.getPlayerPos=function(e,t,i,a,s,n,l,c,h){var g;h===void 0&&(h=null);var y,T,b,P,x=t,B=1,O=t,w=h||document,M=e.getBoundingClientRect(),H;if(l&&w.querySelector(l)===e)H={width:M.width,height:M.height,top:e.className.indexOf("mgbox")>-1?0:this.getOffsetTop(e),left:e.className.indexOf("mgbox")>-1?0:this.getOffsetLeft(e),single:!0,pHeight:0,pWidth:0};else if(l&&w.querySelector(l)){var ie=w.querySelector(l).getBoundingClientRect();H={width:ie.width,height:ie.height,top:ie.top-M.top,left:ie.left-M.left,single:!0,pHeight:0,pWidth:0}}else{var Z=e.querySelectorAll(".mgline");if(Z&&Z.length>0&&(Z[O]?y=Z[O].getBoundingClientRect():(O=0,y=Z[0].getBoundingClientRect())),T=y,b=y,Z[O]&&Z[O].clientWidth<301&&!c){for(var Q=O+1;Q<Z.length;Q++)if(Z[Q]&&(P=Z[Q].getBoundingClientRect(),T.right===y.right&&P.top===y.top&&(T=P,x=Q),b.top===y.top&&y.bottom<P.top)){b=P;break}}var te=O+i-1;if(i>1){Z.length<te-1&&(te=Z.length-1);for(var Q=te;Q>x;Q--)if(Z[Q]&&(P=Z[Q].getBoundingClientRect(),P.top===y.top)){T=P;break}}if(a>1)for(var Q=0;Q<Z.length&&a>B;Q++)Z[Q]&&(P=Z[Q].getBoundingClientRect(),Math.floor(P.right)===Math.floor(y.right)&&P.bottom>y.bottom&&(b=P,B+=1));H={width:T.right-y.left,height:a===1?y.bottom-y.top:b.bottom-y.top,top:y.top-M.top,left:y.left-M.left,single:T.right===y.right,pHeight:0,pWidth:0},s==="bottom-right"&&Z&&Z.length>0&&(P=Z[Z.length-1].getBoundingClientRect(),H.top=P.bottom-H.height-M.top,H.left=P.right-H.width-M.left)}var ae=H.width,me=ae/(n.width/n.height||1.777);return me>H.height&&(me=H.height,ae=me*(n.width/n.height||1.777)),g=this.adjustPlayerSize(ae,me,n),ae=g[0],me=g[1],H.pHeight=me,H.pWidth=ae,H.pWidth>H.width&&(H.width=H.pWidth),H.pHeight>H.height&&(H.height=H.pHeight),H},r.adjustPlayerSize=function(e,t,i){var a=[e,t],s=a[0],n=a[1];n=Math.floor(n)-2,n%2===1&&(n+=1);for(var l=n+8,c=s,h=n,g=1;n<=l;){n+=2,s=n*(i.width/i.height||1.777);var y=Math.floor(s);if(s-y<.2){s=y;break}if(s-y>.8){s=y+1;break}var T=s-y;T>.5&&(T=1-T,y+=1),g>T&&(g=T,c=y,h=n)}return n>l&&(s=c,n=h),[s,n]},r.formatTime=function(e){var t=Math.floor(e/60/60),i="";t===0?i="":t<10?i="0".concat(t,":"):i="".concat(t,":");var a=Math.floor(e/60),s=Math.floor(e%60);return"".concat(i).concat(a<10?"0":"").concat(a,":").concat(s<10?"0":"").concat(s)},r.parseTime=function(e){var t=new Date("1970-01-01T".concat(e,"Z"));return Math.trunc(t.getTime()/1e3)},r.getImgSizeByUrl=function(e){if(!e)return!1;var t=e.toString().match(/[?&]h=(\d+).*[?&]w=(\d+)/m);return t?{width:parseInt(t[2],10),height:parseInt(t[1],10)}:(t=e.toString().match(/[?&]w=(\d+).*[?&]h=(\d+)/m)||e.toString().match(/\/(\d+)x(\d+)\//m),t?{width:parseInt(t[1],10),height:parseInt(t[2],10)}:!1)},r.getElemWidth=function(e){var t=e.getBoundingClientRect();return t&&t.width?t.width:e.clientWidth||e.offsetWidth||e.parentNode.clientWidth||e.parentNode.offsetWidth},r.getElemHeight=function(e){var t=e.getBoundingClientRect();return t.height?t.height:e.clientHeight||e.offsetHeight||e.parentNode.clientHeight||e.parentNode.offsetHeight},r.checkIframe=function(e){try{var t=e.contentDocument||e.contentWindow.document;return t&&(!e.src||!r.getHostFromUrl(e.src))?t:!1}catch{return!1}},r.getHostFromUrl=function(e){try{return new URL(e).host}catch{return""}},r.getTranslated=function(e,t,i){var a=e.get("language","en");return e.get("lang.".concat(t,".").concat(a),e.get("libConfig.lang.".concat(t,".").concat(a)))||e.get("lang.".concat(t,".en"),e.get("libConfig.lang.".concat(t,".en"),i))},r.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )".concat(e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return t?decodeURIComponent(t[1]):void 0},r.parseXml=function(e){var t;return window.DOMParser?t=new DOMParser().parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)),t},r.getFromDocumentByTagName=function(e,t){var i,a="",s=e.getElementsByTagName(t);return s&&s[0]&&(a=((i=s[0].textContent)!==null&&i!==void 0?i:"").trim()),a},r.cyrb53=function(e,t){t===void 0&&(t=0);for(var i=3735928559^t,a=1103547991^t,s=0,n=void 0;s<e.length;s++)n=e.charCodeAt(s),i=Math.imul(i^n,2654435761),a=Math.imul(a^n,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),(4294967296*(2097151&a)+(i>>>0)).toString()},r.md5=function(e){return Ed.md5(e)},r.getConsentData=function(){if(!this.consentObject.consentData)try{if(this.getMostTopWindow().localStorage){var e=JSON.parse(this.getMostTopWindow().localStorage.getItem("MG_ConsentData"));e!=null&&typeof e.gdprApplies<"u"&&typeof e.consentData<"u"&&(e.gdprApplies&&(this.consentObject.gdpr=!0),this.consentObject.consentData=e.consentData),e=JSON.parse(this.getMostTopWindow().localStorage.getItem("MG_tcfv2Data")),e!=null&&typeof e.gdprApplies<"u"&&typeof e.tcString<"u"&&(e.gdprApplies&&(this.consentObject.gdpr=!0),this.consentObject.consentData=e.tcString)}}catch{}return this.consentObject},r.replaceAll=function(e,t,i){return e.split(t).join(i)},r.getMostTopWindow=function(){if(!this.topWindow){for(var e=window;e!==e.parent;)try{var t=e.parent.document.body;e=e.parent}catch{break}this.topWindow=e}return this.topWindow},r.getMostTopWindowUrl=function(){var e=r.getMostTopWindow();return r.isAMP()?e?.context.canonicalUrl:e.location.href},r.getMostTopWindowReferrer=function(){var e=r.getMostTopWindow();return r.isAMP()?e?.context.referrer.length?e?.context.referrer:new URL(r.getMostTopWindowUrl()).host:e.document.referrer.length?e.document.referrer:e.location.host},r.isAMP=function(){var e,t=r.getMostTopWindow();return(e=t?.ampSeen)!==null&&e!==void 0?e:!1},r.parseUrl=function(e){var t=new RegExp(/(http|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@^=%&\\/~+#-]*)/),i=t.exec(decodeURI(e));return i?i[0]:null},r.callScriptURL=function(){var e,t=new Error,i=((e=t.stack)!==null&&e!==void 0?e:"").trim().split(".js?r=");if(i){var a=i[i.length-1];return r.parseUrl(a)}return null},r.getPageScriptsList=function(){var e=Array.from(document.getElementsByTagName("script")),t=[];return t.push(window.location.href.split("?")[0]),e.forEach(function(i){i.src&&t.push(r.parseUrl(i.src))}),t},r.getDntVal=function(){var e=typeof navigator.doNotTrack<"u"?navigator.doNotTrack:typeof window.doNotTrack<"u"?window.doNotTrack:typeof navigator.msDoNotTrack<"u"?navigator.msDoNotTrack:null;return parseInt(e,10)===1||e==="yes"?"1":"0"},r.getCcpa=function(){var e=null;try{e=r.getCookie("usprivacy")||r.getMostTopWindow().localStorage.MG_uspString}catch{}return e},r.prepareAdSourceMacroses=function(e){if(e.indexOf("{")===-1)return e;var t=r.replaceAll(e,"{dnt}",r.getDntVal());return t=r.replaceAll(t,"{url}",encodeURIComponent(r.getMostTopWindowUrl())),t=r.replaceAll(t,"{referer_url}",encodeURIComponent(r.getMostTopWindowReferrer())),t=r.replaceAll(t,"{ccpa}",r.getCcpa()||"1---"),t=r.replaceAll(t,"{gdpr_consent}",r.getConsentData().consentData),t=r.attachRequestParams(t),t},r.tryCorrectZeroSizes=function(e,t,i){t<1&&i<1&&(t=r.getElemWidth(e),i=r.getElemHeight(e));var a=16/9;return t<1&&i>=1?t=i*a:i<1&&t>=1&&(i=t/a),{width:t,height:i}},r.vitalCall=function(e,t){if(e&&typeof e=="function")t?setTimeout(function(){return e()},0):e();else throw new Error("callback must be a function")},r.replaceAdSource=function(e,t){var i=e.replace("vpaid","vast");return i=i.replace(/\?.*/,"").concat("?mgwteaser=",t),i},r.initClientHintData=function(e){var t;(t=r.getMostTopWindow().navigator.userAgentData)===null||t===void 0||t.getHighEntropyValues(Object.keys(r.userAgentDataParams)).then(function(i){Object.keys(i).forEach(function(a){var s=i[a],n="";typeof s=="object"&&(n=s.map(function(l){return'"'.concat(l.brand,'";v="').concat(l.version,'"')}).join(", ")),typeof s=="boolean"&&(n=s?"?1":"?0"),typeof s=="string"&&s.length&&(n=s),Array.isArray(s)&&s.length&&(n=s.reduce(function(l,c,h,g){return"".concat(l,'"').concat(c.brand,'";v="').concat(c.version,'"')+"".concat(h!==g.length-1?", ":"")},"")),r.requestParams[r.userAgentDataParams[a]]=encodeURIComponent(n)}),typeof e=="function"&&e()})},r.attachRequestParams=function(e){var t=new URL(e);Object.entries(r.requestParams).forEach(function(a){var s=a[0],n=a[1];t.searchParams.append(s,n.toString())});var i=t.href;return i=r.replaceAll(i,"%7B","{"),i=r.replaceAll(i,"%7D","}"),i},r.requestParams={},r.consentObject={consentData:"",gdpr:!1},r.userAgentDataParams={architecture:"scua",bitness:"scub",brands:"scu",fullVersionList:"scufvl",mobile:"scum",model:"scumd",platform:"scup",platformVersion:"scupv",uaFullVersion:"scufv",wow64:"scuw"},r}();Si.Helpers=Pd;function Ad(r,e,t){t===void 0&&(t=null);var i=r;return e.forEach(function(a){i&&Object.prototype.hasOwnProperty.call(i,a)?i=i[a]:i=t}),i}Si.getInObject=Ad;Math.imul||(Math.imul=function(r,e){var t=r>>>16&65535,i=r&65535,a=e>>>16&65535,s=e&65535;return i*s+(t*s+i*a<<16>>>0)|0})});var Wn=pe(Ca=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.Script=void 0;var Ld=wi(),qn=Ce(),Bd=function(){function r(){}return r.init=function(e){var t=this,i=new Ld.Loader((0,qn.getInObject)(e,["mgRec","config","extLibraries"],{}),function(){t.addCustomScripts(e)},"".concat((0,qn.getInObject)(e,["mgRec","cid"],0),"_").concat(e.getWidgets().length));i.checkLoaded()},r.addCustomScripts=function(e){for(var t=e.block.querySelectorAll("script"),i="".concat(e.mgRec.cid,"_").concat(e.getWidgets().length),a=0;a<t.length;a++){var s=document.getElementById("Custom_".concat(i,"_").concat(a));if(!s){var n=document.createElement("script");n.innerHTML=t[a].innerHTML,n.id="Custom_".concat(i,"_").concat(a),document.head.appendChild(n)}}},r}();Ca.Script=Bd});var Zs=pe((Qf,Zt)=>{S();_();k();C();I();D();E();function $s(r){return Zt.exports=$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt.exports.__esModule=!0,Zt.exports.default=Zt.exports,$s(r)}Zt.exports=$s,Zt.exports.__esModule=!0,Zt.exports.default=Zt.exports});var jn=pe((eg,$i)=>{S();_();k();C();I();D();E();var Un=Zs().default;function Od(r,e){if(Un(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(Un(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}$i.exports=Od,$i.exports.__esModule=!0,$i.exports.default=$i.exports});var zn=pe((tg,Zi)=>{S();_();k();C();I();D();E();var Md=Zs().default,Rd=jn();function Hd(r){var e=Rd(r,"string");return Md(e)==="symbol"?e:String(e)}Zi.exports=Hd,Zi.exports.__esModule=!0,Zi.exports.default=Zi.exports});var Fn=pe((ig,Xi)=>{S();_();k();C();I();D();E();var Nd=zn();function Gd(r,e,t){return e=Nd(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}Xi.exports=Gd,Xi.exports.__esModule=!0,Xi.exports.default=Xi.exports});var $n=pe((ag,Ji)=>{S();_();k();C();I();D();E();var Vd=Fn();function Yn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,i)}return t}function qd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yn(Object(t),!0).forEach(function(i){Vd(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}Ji.exports=qd,Ji.exports.__esModule=!0,Ji.exports.default=Ji.exports});var Qn=pe(Xt=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Xt,"__esModule",{value:!0});var Wd=$n();function Ud(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var Zn=Ud(Wd);function pt(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var Xn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Xs=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ki={INIT:"@@redux/INIT"+Xs(),REPLACE:"@@redux/REPLACE"+Xs(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Xs()}};function jd(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function Js(r,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(pt(1));return t(Js)(r,e)}if(typeof r!="function")throw new Error(pt(2));var a=r,s=e,n=[],l=n,c=!1;function h(){l===n&&(l=n.slice())}function g(){if(c)throw new Error(pt(3));return s}function y(x){if(typeof x!="function")throw new Error(pt(4));if(c)throw new Error(pt(5));var B=!0;return h(),l.push(x),function(){if(!!B){if(c)throw new Error(pt(6));B=!1,h();var w=l.indexOf(x);l.splice(w,1),n=null}}}function T(x){if(!jd(x))throw new Error(pt(7));if(typeof x.type>"u")throw new Error(pt(8));if(c)throw new Error(pt(9));try{c=!0,s=a(s,x)}finally{c=!1}for(var B=n=l,O=0;O<B.length;O++){var w=B[O];w()}return x}function b(x){if(typeof x!="function")throw new Error(pt(10));a=x,T({type:Ki.REPLACE})}function P(){var x,B=y;return x={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(pt(11));function M(){w.next&&w.next(g())}M();var H=B(M);return{unsubscribe:H}}},x[Xn]=function(){return this},x}return T({type:Ki.INIT}),i={dispatch:T,subscribe:y,getState:g,replaceReducer:b},i[Xn]=P,i}var zd=Js;function Fd(r){Object.keys(r).forEach(function(e){var t=r[e],i=t(void 0,{type:Ki.INIT});if(typeof i>"u")throw new Error(pt(12));if(typeof t(void 0,{type:Ki.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function Yd(r){for(var e=Object.keys(r),t={},i=0;i<e.length;i++){var a=e[i];typeof r[a]=="function"&&(t[a]=r[a])}var s=Object.keys(t),n,l;try{Fd(t)}catch(c){l=c}return function(h,g){if(h===void 0&&(h={}),l)throw l;if(!1)var y;for(var T=!1,b={},P=0;P<s.length;P++){var x=s[P],B=t[x],O=h[x],w=B(O,g);if(typeof w>"u"){var M=g&&g.type;throw new Error(pt(14))}b[x]=w,T=T||w!==O}return T=T||s.length!==Object.keys(h).length,T?b:h}}function Jn(r,e){return function(){return e(r.apply(this,arguments))}}function $d(r,e){if(typeof r=="function")return Jn(r,e);if(typeof r!="object"||r===null)throw new Error(pt(16));var t={};for(var i in r){var a=r[i];typeof a=="function"&&(t[i]=Jn(a,e))}return t}function Kn(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,a){return function(){return i(a.apply(void 0,arguments))}})}function Zd(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(i){return function(){var a=i.apply(void 0,arguments),s=function(){throw new Error(pt(15))},n={getState:a.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=e.map(function(c){return c(n)});return s=Kn.apply(void 0,l)(a.dispatch),Zn.default(Zn.default({},a),{},{dispatch:s})}}}Xt.__DO_NOT_USE__ActionTypes=Ki;Xt.applyMiddleware=Zd;Xt.bindActionCreators=$d;Xt.combineReducers=Yd;Xt.compose=Kn;Xt.createStore=Js;Xt.legacy_createStore=zd});var Pe=pe(ce=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ce,"__esModule",{value:!0});ce.deleteProperty=ce.setPlayerInSight=ce.setPlayerSticky=ce.setPopupVisible=ce.setPlayerTeaserPosition=ce.setPlayerMouseOver=ce.setPlayerExpanded=ce.setPlayerMuted=ce.setPlayerInit=ce.setPlayerVisible=ce.setPlayerStatus=ce.upsertPlayerState=ce.upsertTeaser=ce.setWidgetBlurred=ce.setWidgetInSight=ce.setAdInSight=ce.setAdEnabled=ce.setAdMuted=ce.setAdInit=ce.setAdVisible=ce.setAdStatus=ce.upsertAdState=ce.setFormatConfig=ce.setTriggerToTrue=ce.setTriggerToFalse=ce.setTriggerToFalseGlobal=ce.upsertGlobalState=ce.upsertState=ce.setState=void 0;function Xd(r){return{type:"SET_STATE",state:r}}ce.setState=Xd;function Jd(r){return{type:"UPSERT_STATE",state:r}}ce.upsertState=Jd;function Kd(r){return{type:"UPSERT_GLOBAL_STATE",state:r}}ce.upsertGlobalState=Kd;function Qd(r){return{type:"TRIGGER_TO_FALSE_GLOBAL",value:r}}ce.setTriggerToFalseGlobal=Qd;function ec(r){return{type:"TRIGGER_TO_FALSE",state:r}}ce.setTriggerToFalse=ec;function tc(r){return{type:"TRIGGER_TO_TRUE",state:r}}ce.setTriggerToTrue=tc;function ic(r){return{type:"FORMAT_CONFIG",state:r}}ce.setFormatConfig=ic;function ac(r){return{type:"AD_STATE",state:r}}ce.upsertAdState=ac;function sc(r,e){var t;return e===void 0&&(e="ad"),{type:"AD_STATUS",state:(t={},t[e]={status:r},t)}}ce.setAdStatus=sc;function rc(r,e){var t;return e===void 0&&(e="ad"),{type:"AD_VISIBLE",state:(t={},t[e]={visible:r},t)}}ce.setAdVisible=rc;function nc(r,e){var t;return e===void 0&&(e="ad"),{type:"AD_INIT",state:(t={},t[e]={init:r},t)}}ce.setAdInit=nc;function oc(r){return{type:"AD_MUTE",state:r}}ce.setAdMuted=oc;function lc(r){return{type:"AD_ENABLED",state:r}}ce.setAdEnabled=lc;function pc(r){return{type:"AD_IN_SIGHT",state:r}}ce.setAdInSight=pc;function dc(r){return{type:"WIDGET_IN_SIGHT",state:r}}ce.setWidgetInSight=dc;function cc(r){return{type:"WIDGET_BLURRED",state:r}}ce.setWidgetBlurred=cc;function hc(r){return{type:"UPSERT_TEASER",state:r}}ce.upsertTeaser=hc;function uc(r){return{type:"PLAYER_STATE",state:r}}ce.upsertPlayerState=uc;function mc(r){return{type:"PLAYER_STATUS",state:r}}ce.setPlayerStatus=mc;function fc(r){return{type:"PLAYER_VISIBLE",state:r}}ce.setPlayerVisible=fc;function gc(r){return{type:"PLAYER_INIT",state:r}}ce.setPlayerInit=gc;function yc(r){return{type:"PLAYER_MUTE",state:r}}ce.setPlayerMuted=yc;function vc(r){return{type:"PLAYER_EXPANDED",state:r}}ce.setPlayerExpanded=vc;function bc(r){return{type:"PLAYER_MOUSE_OVER",state:r}}ce.setPlayerMouseOver=bc;function xc(r){return{type:"PLAYER_TEASER_POSITION",state:r}}ce.setPlayerTeaserPosition=xc;function Tc(r){return{type:"POPUP_VISIBLE",state:r}}ce.setPopupVisible=Tc;function wc(r){return{type:"PLAYER_STICKY",state:r}}ce.setPlayerSticky=wc;function Sc(r){return{type:"PLAYER_IN_SIGHT",state:r}}ce.setPlayerInSight=Sc;function _c(r){return{type:"DELETE_PROPERTY",state:r}}ce.deleteProperty=_c});var to=pe(ui=>{"use strict";S();_();k();C();I();D();E();var le=ui&&ui.__assign||function(){return le=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},le.apply(this,arguments)};Object.defineProperty(ui,"__esModule",{value:!0});ui.pathToArray=void 0;var kc=Ce(),Cc={};function Qs(r){var e=r;return typeof e=="string"?e=e.split("."):Array.isArray(e)||(e=e.getPath()),e}ui.pathToArray=Qs;function ai(r,e){return kc.Helpers.mergeObjects(r,e,!0)}function eo(r,e){return e.length===1?delete r[e[0]]:Object.prototype.hasOwnProperty.call(r,e[0])&&(typeof r[e[0]]!="object"?delete r[e[0]]:r[e[0]]=eo(r[e[0]],e.slice(1))),r}function Ks(r,e,t){for(var i=Qs(e),a=i.length-1,s=0;s<a;++s){var n=i[s];n in r||(r[n]={}),r=r[n]}r[i[a]]=t}function Ic(r,e){return le(le({},r),{formatConfig:e})}function Dc(r,e){return le(le({},r),{ad:le(le({},r.ad),{muted:e})})}function Ec(r,e){return le(le({},r),{ad:le(le({},r.ad),{enabled:e})})}function Pc(r,e){return le(le({},r),{ad:le(le({},r.ad),{inSight:e})})}function Ac(r,e){return le(le({},r),{widget:le(le({},r.widget),{inSight:e})})}function Lc(r,e){return le(le({},r),{widget:le(le({},r.widget),{blurred:e})})}function Bc(r,e){return le(le({},r),{player:le(le({},r.player),{status:e})})}function Oc(r,e){return le(le({},r),{player:le(le({},r.player),{visible:e})})}function Mc(r,e){return le(le({},r),{player:le(le({},r.player),{init:e})})}function Rc(r,e){return le(le({},r),{player:le(le({},r.player),{muted:e})})}function Hc(r,e){return le(le({},r),{player:le(le({},r.player),{expanded:e})})}function Nc(r,e){return le(le({},r),{player:le(le({},r.player),{mouseOver:e})})}function Gc(r,e){return le(le({},r),{player:le(le({},r.player),{teaserPosition:e})})}function Vc(r,e){return le(le({},r),{popup:le(le({},r.popup),{visible:e})})}function qc(r,e){return le(le({},r),{player:le(le({},r.player),{isSticky:e})})}function Wc(r,e){return le(le({},r),{player:le(le({},r.player),{inSight:e})})}function Uc(r,e){return eo(r,Qs(e))}function jc(r,e){r===void 0&&(r=Cc);var t=e.type,i=e.value,a=e.ambyNamespace,s=JSON.parse(JSON.stringify(r));if(!a&&["TRIGGER_TO_FALSE_GLOBAL","UPSERT_GLOBAL_STATE"].indexOf(t)===-1)return s;var n=s[a];switch(n===void 0&&(n={}),t){case"SET_STATE":n=JSON.parse(JSON.stringify(i));break;case"UPSERT_STATE":n=ai(n,i);break;case"UPSERT_GLOBAL_STATE":s=ai(s,i);break;case"TRIGGER_TO_FALSE_GLOBAL":Ks(s,i,!1);break;case"TRIGGER_TO_FALSE":Ks(n,i,!1);break;case"TRIGGER_TO_TRUE":Ks(n,i,!0);break;case"FORMAT_CONFIG":n=Ic(n,i);break;case"AD_STATE":{n=ai(n,{ad:i});break}case"AD_STATUS":n=ai(n,i);break;case"AD_VISIBLE":n=ai(n,i);break;case"AD_INIT":n=ai(n,i);break;case"AD_MUTE":n=Dc(n,i);break;case"AD_ENABLED":n=Ec(n,i);break;case"AD_IN_SIGHT":n=Pc(n,i);break;case"WIDGET_IN_SIGHT":n=Ac(n,i);break;case"WIDGET_BLURRED":n=Lc(n,i);break;case"UPSERT_TEASER":{var l=[];l[i.index]=i.teaser,n=ai(n,{teasers:l});break}case"PLAYER_STATE":{n=ai(n,{player:i});break}case"PLAYER_STATUS":n=Bc(n,i);break;case"PLAYER_VISIBLE":n=Oc(n,i);break;case"PLAYER_INIT":n=Mc(n,i);break;case"PLAYER_MUTE":n=Rc(n,i);break;case"PLAYER_EXPANDED":n=Hc(n,i);break;case"PLAYER_MOUSE_OVER":n=Nc(n,i);break;case"PLAYER_TEASER_POSITION":n=Gc(n,i);break;case"POPUP_VISIBLE":n=Vc(n,i);break;case"PLAYER_STICKY":n=qc(n,i);break;case"PLAYER_IN_SIGHT":n=Wc(n,i);break;case"DELETE_PROPERTY":n=Uc(n,i);break}return s[a]=n,s}ui.default=jc});var aa=pe(Qe=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.clearListeners=Qe.removeTriggerListener=Qe.addTriggerListener=Qe.removeSubListener=Qe.addSubListener=Qe.mainListener=Qe.store=void 0;var zc=Qn(),Qi=Ce(),ao=Pe(),ia=to(),io,ea=[],ta=[],er={},Fc=Qi.Helpers.getMostTopWindowUrl().indexOf("mgwdebug")>-1;Qe.store=(0,zc.createStore)(ia.default,Fc?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():void 0);function so(){var r={},e=Qe.store.getState(),t=io;io=e,ea.forEach(function(i){var a=(0,Qi.getInObject)(t,i.path),s=(0,Qi.getInObject)(e,i.path);a!==s&&i.subListener(t)}),ta.forEach(function(i){var a=(0,Qi.getInObject)(t,i.path,!1),s=(0,Qi.getInObject)(e,i.path);s&&a!==s&&!er[i.path.join(".")]&&(er[i.path.join(".")]=i.path,r[i.path.join(".")]=i.path,i.subListener(t),delete er[i.path.join(".")])}),Object.keys(r).forEach(function(i){Qe.store.dispatch((0,ao.setTriggerToFalseGlobal)(r[i]))})}Qe.mainListener=so;Qe.store.subscribe(function(){so()});function Yc(r,e){var t=(0,ia.pathToArray)(r);ea.push({path:t,subListener:e})}Qe.addSubListener=Yc;function $c(r,e){var t=(0,ia.pathToArray)(r);ea.forEach(function(i,a){i.path.join(".")===t.join(".")&&i.subListener===e&&ea.splice(a,1)})}Qe.removeSubListener=$c;function Zc(r,e){var t=(0,ia.pathToArray)(r);Qe.store.dispatch((0,ao.setTriggerToFalseGlobal)(t)),ta.push({path:t,subListener:e})}Qe.addTriggerListener=Zc;function Xc(r,e){var t=(0,ia.pathToArray)(r);ta.forEach(function(i,a){i.path.join(".")===t.join(".")&&i.subListener===e&&ta.splice(a,1)})}Qe.removeTriggerListener=Xc;function Jc(){ea=[],ta=[]}Qe.clearListeners=Jc});var Ve=pe(Pt=>{"use strict";S();_();k();C();I();D();E();var _i=Pt&&Pt.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,s;i<a;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createAmby=Pt.proxyTree=Pt.vpaidModes=Pt.states=void 0;var ro=Ce(),_t=aa();Pt.states={STATUS_PLAYING:"playing",STATUS_PAUSED:"paused",STATUS_READY:"ready",STATUS_STOPPED:"stopped",STATUS_ERROR:"error",STATUS_INIT:"init",INIT_NEEDED:"needed",INIT_DONE:"done",INIT_RESET:"reset",INIT_IN_PROGRESS:"progress",INIT_STOP:"stop"};Pt.vpaidModes={INSECURE:"insecure",SECURE:"secure"};(function(r){r.Proxy||(r.Proxy=function(){function e(t,i){this.handlers=i,this.ambyNamespace=""}return e.prototype.dispatch=function(t){return this.handlers.get(null,"dispatch")(t)},e.prototype.subscribe=function(t){return this.handlers.get(null,"subscribe")(t)},e.prototype.get=function(t,i){return this.handlers.get(null,"get")(t,i)},e.prototype.putNS=function(t){return this.handlers.get(null,"putNS")(t)},e.prototype.getNS=function(){return this.handlers.get(null,"getNS")()},e.prototype.addSubListener=function(t,i){return this.handlers.get(null,"addSubListener")(t,i)},e.prototype.addTriggerListener=function(t,i){return this.handlers.get(null,"addTriggerListener")(t,i)},e}())})(typeof process<"u"&&{}.toString.call(process)==="[object process]"?global:self);function no(){var r="";function e(t){return new Proxy({},{get:function(i,a){if(t.length===0){if(a==="dispatch")return function(s){return _t.store.dispatch({type:s.type,value:s.state,ambyNamespace:r})};if(a==="subscribe")return function(s){return _t.store.subscribe({handler:s,ambyNamespace:r})};if(a==="get")return function(s,n){if(typeof s>"u")return _t.store.getState();var l=s.split(".");return l.forEach(function(c,h){parseInt(c,10).toString()===c&&(l[h]=parseInt(c,10))}),(0,ro.getInObject)(_t.store.getState()[r],l,n)};if(a==="getNS")return function(){return r};if(a==="putNS")return function(s){r=s};if(a==="addSubListener")return function(s,n){typeof s=="string"?(0,_t.addSubListener)("".concat(r,".").concat(s),n):(0,_t.addSubListener)(_i([r],s,!0),n)};if(a==="removeSubListener")return function(s,n){typeof s=="string"?(0,_t.removeSubListener)("".concat(r,".").concat(s),n):(0,_t.removeSubListener)(_i([r],s,!0),n)};if(a==="addTriggerListener")return function(s,n){typeof s=="string"?(0,_t.addTriggerListener)("".concat(r,".").concat(s),n):(0,_t.addTriggerListener)(_i([r],s,!0),n)};if(a==="removeTriggerListener")return function(s,n){typeof s=="string"?(0,_t.removeTriggerListener)("".concat(r,".").concat(s),n):(0,_t.removeTriggerListener)(_i([r],s,!0),n)}}else{if(a==="get")return function(s){return(0,ro.getInObject)(_t.store.getState()[r],t,s)};if(a==="getPath")return function(){return t}}return e(_i(_i([],t,!0),[a],!1))}})}return e([])}Pt.proxyTree=no;function Kc(r){var e=no();return e.putNS(r),e}Pt.createAmby=Kc});var sa=pe(Ia=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ia,"__esModule",{value:!0});Ia.DomManagerComponent=void 0;var Qc=function(){function r(){this.listenedElems=[],this.observedDocuments=[]}return r.prototype.checkForIframes=function(e){var t=this;if(e.querySelectorAll){var i=e.querySelectorAll("iframe");i&&(i=Array.apply(null,i),i.forEach(function(a){t.checkIframe(a)}))}},r.prototype.getObserver=function(e,t){var i=this;if(t===void 0&&(t=window),t===null||!(e instanceof t.Node))return null;var a=new MutationObserver(function(s){s.forEach(function(n){if(n.type==="childList"&&n.addedNodes.length){var l=Array.apply(null,n.addedNodes);l.forEach(function(c){i.observerAction(c)})}})});return a.observe(e,{childList:!0,subtree:!0}),a},r.prototype.checkIframe=function(e){this.listenedElems.indexOf(e)<0&&(this.listenedElems.push(e),this.checkIframeAction(e))},r.prototype.getMediaElements=function(e){var t=this,i=[];if(e.querySelectorAll){var a=Array.from(e.querySelectorAll("*"));a.forEach(function(s){(s.tagName==="VIDEO"||s.tagName==="AUDIO")&&i.push(s),s.shadowRoot&&(i.push.apply(i,t.getMediaElements(s.shadowRoot)),t.observedDocuments.indexOf(s.shadowRoot)===-1&&(t.observedDocuments.push(s.shadowRoot),t.getObserver(s.shadowRoot,s.ownerDocument.defaultView),setTimeout(function(){t.checkForIframes(s.shadowRoot)})))})}return i},r.prototype.inMgPlayer=function(e){var t=e.ownerDocument.defaultView;if(t.inMgPlayer)return!0;for(var i=e;i.parentElement&&i.parentElement!==i;)if(i=i.parentElement,i.classList.contains("vrline")||i.className.indexOf("mgAdPlayerDiv")>-1)return!0;return!1},r}();Ia.DomManagerComponent=Qc});var na=pe(ki=>{"use strict";S();_();k();C();I();D();E();var eh=ki&&ki.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(ki,"__esModule",{value:!0});ki.NoSoundComponent=void 0;var th=Ce(),ra=He(),ih=sa(),ah=Pe(),sh=function(r){eh(e,r);function e(t,i){var a=r.call(this)||this,s=i.playerDiv,n=i.adName;return a.playerDiv=s,a.adName=n,a.amby=t,a.noiframe=t.get("formatConfig.noiframe",!0),a.getObserver(a.playerDiv),a.checkSound(a.playerDiv),a}return e.prototype.observerAction=function(t){var i=this;(t.tagName==="VIDEO"||t.tagName==="AUDIO")&&this.listenedElems.indexOf(t)===-1&&(this.listenedElems.push(t),this.muteVolume(t),t.addEventListener("volumechange",function(a){i.onVolumeChange(a)})),t.tagName==="IFRAME"&&this.checkIframe(t),this.checkSound(t)},e.prototype.checkIframeAction=function(t){var i=th.Helpers.checkIframe(t);i?(this.getObserver(i,t.contentWindow),this.checkSound(i)):t.src.indexOf("imasdk.googleapis")===-1&&((0,ra.mgDebug)("Iframe detected: src: ".concat(t.src)),this.noiframe&&t.parentNode&&(t.parentNode.removeChild(t),(0,ra.mgDebug)("Iframe deleted: src: ".concat(t.src))))},e.prototype.checkSound=function(t){var i=this;if(t.querySelectorAll){var a=t.querySelectorAll("video, audio");a&&(a=Array.apply(null,a),a.forEach(function(s){s.classList.contains("mg2player__video")||(e.isPlaying(s)&&s.muted===!1&&i.amby.get("ad.initMuted",!0)&&!i.amby.get("ad.soundButtonClicked",!1)&&((0,ra.mgDebug)("Prevent Unmute Video violation."),s.muted=!0),i.listenedElems.indexOf(s)===-1&&(i.listenedElems.push(s),s.addEventListener("volumechange",function(n){i.onVolumeChange(n)})))}))}this.checkForIframes(t)},e.prototype.onVolumeChange=function(t){var i=this;setTimeout(function(){t&&t.target&&!t.target.muted&&i.amby.get("ad.initMuted",!0)&&!i.amby.get("ad.soundButtonClicked",!1)&&((0,ra.mgDebug)("Prevent Unmute violation."),t.target.muted=!0),i.amby.get("ad.soundButtonClicked",!1)&&i.amby.dispatch(ah.upsertAdState({soundButtonClicked:!1}))},0)},e.prototype.muteVolume=function(t){var i=this;setTimeout(function(){!t.muted&&i.amby.get("ad.initMuted",!0)&&((0,ra.mgDebug)("Mute violation."),t.muted=!0)},0)},e.isPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},e}(ih.DomManagerComponent);ki.NoSoundComponent=sh});var Da=pe(Ci=>{"use strict";S();_();k();C();I();D();E();var rh=Ci&&Ci.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.UnmuteDetectComponent=void 0;var nh=Pe(),oo=Ce(),oh=sa(),lh=function(r){rh(e,r);function e(t){var i=r.call(this)||this;i.widget=t,i.amby=t.amby,i.listenedElems=[],i.observedDocuments=[],i.sentSources=[],i.addPlayingWithSoundProp();var a=i.getMediaElements(document.body);return a&&a.forEach(function(s){i.addListener(s)}),setTimeout(function(){i.checkForIframes(document.body),setTimeout(function(){i.observedDocuments.push(document),i.getObserver(document)})}),i}return e.prototype.observerAction=function(t){var i=this;if(t instanceof HTMLElement&&((t.tagName==="VIDEO"||t.tagName==="AUDIO")&&this.addListener(t),t.querySelectorAll)){var a=this.getMediaElements(t);a&&a.forEach(function(s){i.addListener(s)})}setTimeout(function(){i.checkForIframes(t.ownerDocument)})},e.prototype.getVideoObserver=function(){var t=this;return this.videoObserver||(this.videoObserver=new MutationObserver(function(i){i.forEach(function(a){t.checkMedia(a.target)})})),this.videoObserver},e.prototype.addListener=function(t){var i=this;this.listenedElems.indexOf(t)===-1&&(this.listenedElems.push(t),this.checkMedia(t),t.addEventListener("volumechange",function(a){i.checkMedia(a.target)}),this.getVideoObserver().observe(t,{attributes:!0,attributeFilter:["src"]}))},e.prototype.checkMedia=function(t){var i=t.currentSrc||t.src;i&&this.sentSources.indexOf(i)===-1&&!t.muted&&t.volume>0&&(this.sentSources.push(i),this.amby.dispatch(nh.upsertAdState({unmuteraw:!0,unmuteMediaSrc:t.currentSrc})))},e.prototype.checkIframeAction=function(t){var i=this,a=oo.Helpers.checkIframe(t);if(a&&this.observedDocuments.indexOf(a)===-1){this.inMgPlayer(t)&&(a.defaultView.inMgPlayer=!0),this.observedDocuments.push(a);var s=this.getMediaElements(a);s&&s.forEach(function(l){i.addListener(l)});var n=a.getRootNode();this.getObserver(n,t.contentWindow),setTimeout(function(){i.checkForIframes(a)})}},e.prototype.addPlayingWithSoundProp=function(){Object.defineProperty(HTMLMediaElement.prototype,"playingWithSound",{get:function(){return this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2&&!this.muted&&this.volume>0},configurable:!0})},e.prototype.getUnMutedElements=function(){var t=this,i=[];return this.listenedElems.forEach(function(a){if(a.playingWithSound){var s=a.ownerDocument.defaultView;i.push({src:a.currentSrc,isIFrame:s.self!==s.top,inMgPlayer:t.inMgPlayer(a),xPath:t.getXPath(a)})}}),i},e.prototype.getXPath=function(t){for(var i=this.getElementName(t),a=t;a.parentElement&&a.parentElement!==a;)a=a.parentElement,i="".concat(this.getElementName(a),">").concat(i);return i},e.prototype.getElementName=function(t){var i=t.tagName,a=t.id,s=t.classList.value.replaceAll(" ",",.");return a&&(i="".concat(i,"#").concat(a)),s&&(i="".concat(i,".").concat(s)),i},e.prototype.findIframes=function(t){var i=this,a=[];return t.querySelectorAll&&Array.from(t.querySelectorAll("*")).forEach(function(s){if(s.tagName==="IFRAME"&&s.src)s.src!=="about:blank"&&a.push(s.src);else if(s.tagName==="IFRAME"){var n=oo.Helpers.checkIframe(s);n&&Array.prototype.push.apply(a,i.findIframes(n))}else s.shadowRoot&&Array.prototype.push.apply(a,i.findIframes(s.shadowRoot))}),a},e}(oh.DomManagerComponent);Ci.UnmuteDetectComponent=lh});var tr=pe(Ea=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.AniviewBase=void 0;var ph=He(),oa=Ce(),dh=function(){function r(e,t){this.amby=e.amby,this.ref1=t.ref1}return r.prototype.getRef1=function(){var e=this.amby.get("formatConfig.name");e==="attachedWidget"&&(e="outstream");var t="AV_CDIM1=".concat(this.amby.get("cappingData.dt","desktop"));try{t+="&AV_CUSTOM1=".concat(window.localStorage.mgMuidn)}catch(s){(0,ph.mgDebug)(s)}if(t+="&AV_CDIM2=".concat(this.amby.get("cappingData.isBot",0),"&AV_CDIM3=").concat(e)+"&AV_CDIM4=".concat(this.amby.get("sensorCid"),"&AV_CDIM5=").concat(this.amby.get("uuid"))+"&AV_CDIM6=".concat(this.amby.get("cappingData.iv",0))+"".concat(this.ref1?"&":"").concat(this.ref1||""),e==="native"){var i=this.getVideoExt(),a=this.amby.get("player.itemIndex",0);t+="&AV_CUSTOM2=".concat((0,oa.getInObject)(i,["duration"],0))+"&AV_CUSTOM3=".concat(encodeURIComponent(this.amby.get("playlist.".concat(a,".title"))))+"&AV_CUSTOM4=".concat(r.getKrono((0,oa.getInObject)(i,["duration"],0)))+"&AV_CUSTOM5=".concat(this.amby.get("formatConfig.sticky")?7:2)+"&AV_CUSTOM6=".concat(oa.Helpers.iOSversion()?1:3)+"&AV_CUSTOM7=".concat((0,oa.getInObject)(i,["gpmdCategory","cat1"],0))+"&AV_CUSTOM8=".concat((0,oa.getInObject)(i,["gpmdCategory","cat2"],0))}return t},r.getKrono=function(e){var t=0;return[30,30,30,30,60,60,60,300,300,900,1800,1800,1800,1800].reduce(function(i,a,s){return e>i&&(t=s),i+a}),t},r.prototype.getVideoExt=function(){var e=this.amby.get("playlist.".concat(this.amby.get("player.itemIndex"),".videoExt"));return typeof e=="string"&&(e=JSON.parse(atob(e))),e||!1},r}();Ea.AniviewBase=dh});var Pa=pe(Ii=>{"use strict";S();_();k();C();I();D();E();var ch=Ii&&Ii.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.ProxyConsoleComponent=void 0;var ir=Ce(),lo=He(),hh=sa(),uh=function(r){ch(e,r);function e(t,i){var a=r.call(this)||this,s=i.playerDiv;return a.playerDiv=s,a.noiframe=t.get("formatConfig.noiframe",!0),a.hideConsoleMessages(),a.getObserver(a.playerDiv),a.checkForIframes(a.playerDiv),a}return e.prototype.hideConsoleMessages=function(){var t=ir.Helpers.getPageScriptsList();window.console=new Proxy(window.console,{get:function(i,a){if(typeof a!="string")return null;if(a==="isProxy")return!0;var s=ir.Helpers.callScriptURL(),n=["log","debug","table","error","warn","exception","info"];return s&&t.indexOf(s)===-1&&n.indexOf(a)>-1?function(){}:i[a]}})},e.prototype.checkIframeAction=function(t){if(ir.Helpers.checkIframe(t)){if(!t.contentWindow.console.isProxy)try{t.contentWindow.console=window.console}catch{}this.checkForIframes(t)}else t.src.indexOf("imasdk.googleapis")===-1&&((0,lo.mgDebug)("Iframe detected: src: ".concat(t.src)),this.noiframe&&t.parentNode&&(t.parentNode.removeChild(t),(0,lo.mgDebug)("Iframe deleted: src: ".concat(t.src))))},e.prototype.observerAction=function(t){t.tagName==="IFRAME"&&this.checkIframe(t),this.checkForIframes(t)},e}(hh.DomManagerComponent);Ii.ProxyConsoleComponent=uh});var La=pe(Di=>{"use strict";S();_();k();C();I();D();E();var mh=Di&&Di.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Di,"__esModule",{value:!0});Di.AniViewComponent=void 0;var we=Ve(),he=Pe(),Ht=Ce(),Ae=He(),fh=wi(),gh=na(),yh=Da(),vh=tr(),bh=Pa(),Aa="mgAniViewLib",xh=function(r){mh(e,r);function e(t,i){var a=r.call(this,t,i)||this;a.amby=t.amby;var s=i.name,n=s===void 0?"ad":s,l=i.publisherId,c=i.channelId,h=i.playerDivId,g=i.playerDiv,y=g===void 0?null:g,T=i.vastRetry,b=i.errorLimit,P=i.maxrun,x=i.waterfall,B=i.logLevel,O=i.timeout,w=i.soundButton,M=i.pauseButton,H=i.timeLine,ie=i.aniviewParams,Z=i.nextAdTimeout,Q=i.skipoffset,te=i.noCompleteTimeout,ae=i.verifiedSources,me=i.initSize;return a.inited=!1,a.closed=!1,a.needToCreate=!1,a.name=n,a.playerDivId=h,a.rootElement=t.rootElement,a.playerDiv=y||a.rootElement.querySelector("#".concat(a.playerDivId)),a.resendTime=parseInt(a.amby.get("formatConfig.resendTime"),10),a.mgVideoIndex=a.amby.get("mgVideoIndex"),a.currentImpressions=0,a.errorsNumber=0,a.startRequestSent=!1,a.pauseRequestSent=!1,a.amby.get("formatConfig.forceMute",!1)&&(a.noSoundComponent=new gh.NoSoundComponent(a.amby,{playerDiv:a.playerDiv,adName:n})),a.amby.get("formatConfig.detectUnmute",!0)&&(a.unmuteDetectComponent=new yh.UnmuteDetectComponent(t)),a.amby.get("formatConfig.hideConsole",!1)&&window.location.href.indexOf("mgwdebug")===-1&&(a.proxyConsoleComponent=new bh.ProxyConsoleComponent(a.amby,{playerDiv:a.playerDiv})),Q&&(a.skipObserver=new MutationObserver(function(se){se.forEach(function(ue){ue.type==="attributes"&&ue.target.style&&ue.target.style.display!=="none"&&a.amby.dispatch(he.upsertState({skipBtn:{skipable:!0}}))})})),a.eventStack={},a.config={publisherId:l,channelId:c,width:100,height:0,HD:!1,autoPlay:!1,loop:a.amby.get("formatConfig.loop",!1),mode:0,soundButton:w??!0,pauseButton:M??!0,timelinemode:H||"bottom",skip:!!Q,skipTimer:parseInt(Q,10)||!1,closeButton:!1,position:a.playerDivId,positionDiv:a.playerDiv,logLevel:parseInt(B,10)||0,antihjck:!0,lastFrame:!a.amby.get("formatConfig.loop",!1)},P&&(a.config.maxrun=P),a.errorLimit=parseInt(b,10)||1,a.config.errorLimit=a.errorLimit,T&&(a.config.vastRetry=parseInt(T,10)),a.verifiedSources=[],ae&&(a.verifiedSources=ae),me&&(a.initSize=me),Array.isArray(x)&&x.length>0&&(a.config.updatewaterfall=function(se){Array.isArray(se)&&se.length>0&&se.forEach(function(ue,Me){x[Me]&&(ue.type="vast",ue.url=x[Me])})}),a.loadAdSrcNoUiList(),a.config.maximp=a.amby.get("formatConfig.maximp",5),a.config=Ht.Helpers.mergeObjects(a.config,ie||{}),a.stopRequestTime=O,a.nextAdTimeoutTime=Z||10,a.noCompleteTimeoutTime=te||60,a.amby.dispatch(he.setAdInit(null,a.name)),a.amby.addSubListener("".concat(a.name,".init"),function(){[we.states.INIT_NEEDED,we.states.INIT_RESET].indexOf(a.amby.get("".concat(a.name,".init")))>-1&&(0,Ae.mgDebug)("Ad starts search."),Ht.Helpers.vitalCall(function(){return a.initPlayer()},a.amby.get("isVital",!0))}),a.amby.addTriggerListener("".concat(a.name,".actionPlay"),function(){var se=a.amby.get("".concat(a.name,".status"));a.player&&(!se||se!==we.states.STATUS_PLAYING)&&!a.startRequestSent&&(a.apiAction=!0,a.startRequestSent=!0,!se||se===we.states.STATUS_READY?((0,Ae.mgDebug)("Aniview: StartAd requested."),a.player.startAd()):((0,Ae.mgDebug)("Aniview: ResumeAd requested."),a.player.resume())),(!a.player||!se||[we.states.STATUS_READY,we.states.STATUS_PAUSED].indexOf(se)===-1)&&(a.startRequested=!0)}),a.amby.addTriggerListener("".concat(a.name,".actionPause"),function(){var se=a.amby.get("".concat(a.name,".status"));a.player&&se===we.states.STATUS_PLAYING&&!a.pauseRequestSent&&(a.apiAction=!0,a.pauseRequestSent=!0,a.player.pause())}),a.amby.addTriggerListener("".concat(a.name,".actionStop"),function(){var se=a.amby.get("".concat(a.name,".status"));se!==we.states.STATUS_STOPPED&&(a.apiAction=!0,a.close())}),a.amby.addTriggerListener("".concat(a.name,".actionClose"),function(){a.amby.dispatch(he.setAdVisible(!1,a.name)),a.player&&[we.states.STATUS_PLAYING,we.states.STATUS_PAUSED].indexOf(a.amby.get("".concat(n,".status")))>-1&&(a.skipApiAction=!0,a.close())}),a.amby.addTriggerListener("ad.mute",function(){a.mute()}),a.amby.addTriggerListener("ad.unmute",function(){a.unmute()}),a.amby.addTriggerListener("ad.resize",function(){a.onResize()}),a.amby.addSubListener("popup.visible",function(){a.onPlayerChangedLocation()}),a.amby.get("formatConfig.moveToBody",!1)&&a.amby.addSubListener("player.isSticky",function(){a.onPlayerChangedLocation()}),a.amby.addSubListener("ad.mouseOver",function(){a.player&&a.amby.get("ad.isUnmuteOnHover")&&a.amby.get("ad.containerClicked")&&a.amby.get("deviceType")!=="mobile"&&a.amby.get("deviceType")!=="tablet"&&(a.amby.get("ad.mouseOver")?a.unmute():a.mute())}),window.addEventListener("keydown",function(se){if(!a.eventStackSent&&se.ctrlKey&&se.shiftKey&&se.code==="KeyA"&&(a.eventStackSent=!0,a.unmuteDetectComponent)){var ue=a.unmuteDetectComponent.getUnMutedElements(),Me=a.unmuteDetectComponent.findIframes(document.body),q={};Object.entries(a.eventStack).forEach(function(K){var X=K[0],ht=K[1],st=[];ht.forEach(function(ti){st.push(ti.event)}),q[X]=st});var ee={video:ue,iframes:Me,campaigns:q};(0,Ae.mgDebug)(ee),a.amby.dispatch(he.upsertState({soundNotify:JSON.stringify(ee)}))}}),a}return e.prototype.initPlayer=function(){var t=this;switch(this.amby.get("".concat(this.name,".init"))){case we.states.INIT_NEEDED:if(this.amby.dispatch(he.setAdInit(we.states.INIT_IN_PROGRESS,this.name)),document.getElementById(Aa)){window.avPlayer?this.amby.dispatch(he.setAdInit(we.states.INIT_RESET,this.name)):document.getElementById(Aa).getAttribute("data-loaded")?(this.createPlayer(),this.amby.dispatch(he.setAdInit(we.states.INIT_DONE,this.name)),this.inited=!0):document.getElementById(Aa).addEventListener("load",function(){t.createPlayer(),t.amby.dispatch(he.setAdInit(we.states.INIT_DONE,t.name)),t.inited=!0});return}this.stopRequestTime&&this.stopRequestTime>0&&(this.stopRequestTimeout=setTimeout(function(){(0,Ae.mgDebug)("Aniview StopRequestTimeout"),t.passback(),t.reset(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_ERROR,t.name))},this.stopRequestTime*1e3)),new Image().src="https://track1.aniview.com/track?pid=".concat(this.config.publisherId)+"&cid=".concat(this.config.channelId,"&e=playerLoaded&cb=").concat(Date.now()),this.script=document.createElement("script"),this.script.src=this.amby.get("ad.playerUrl")||"https://player.aniview.com/script/6.1/aniview.js",this.script.id=Aa,this.script.addEventListener("load",function(){t.script.setAttribute("data-loaded",!0),t.createPlayer(),t.amby.dispatch(he.setAdInit(we.states.INIT_DONE,t.name)),t.inited=!0}),document.head.appendChild(this.script);break;case we.states.INIT_RESET:this.amby.dispatch(he.setAdInit(we.states.INIT_IN_PROGRESS,this.name)),this.stopRequestTimeout&&(clearTimeout(this.stopRequestTimeout),this.stopRequestTimeout=null),this.stopRequestTime&&this.stopRequestTime>0&&(this.stopRequestTimeout=setTimeout(function(){(0,Ae.mgDebug)("Aniview StopRequestTimeout"),t.passback(),t.reset(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_ERROR,t.name))},this.stopRequestTime*1e3)),this.createPlayer(),this.amby.dispatch(he.setAdInit(we.states.INIT_DONE,this.name));break;case we.states.INIT_STOP:this.reset();break}},e.prototype.createPlayer=function(){var t=this,i,a;if(!this.amby.get("cappingData")){this.initRequested=!0,this.cappingDataListener||(this.amby.addSubListener("cappingData",function(){t.amby.get("cappingData")&&t.initRequested&&(t.initRequested=!1,t.createPlayer())}),this.cappingDataListener=!0);return}if(this.closed||[we.states.STATUS_PLAYING,we.states.STATUS_PAUSED,we.states.STATUS_READY].indexOf(this.amby.get("".concat(this.name,".status")))>-1){this.needToCreate=!0;return}if((0,Ae.mgDebug)("Creating aniview player."),this.amby.dispatch(he.setAdStatus(we.states.STATUS_INIT,this.name)),this.currentImpressions=0,this.errorsNumber=0,this.initSize)this.config.width=(i=this.initSize.width)!==null&&i!==void 0?i:this.amby.get("ad.size.width",300),this.config.height=(a=this.initSize.height)!==null&&a!==void 0?a:this.amby.get("ad.size.height",300);else{var s=this.amby.get("ad.size",{width:300,height:169});this.config.width=s.width,this.config.height=s.height}this.config.autoSound=!this.amby.get("ad.initMuted",!0),this.config.ref1=this.getRef1(),(this.amby.get("formatConfig.forceMute",!1)||!Ht.Helpers.iOSversion())&&(this.config.autoSound=!1),this.player=new window.avPlayer(this.config),this.player.onLoad=function(){(0,Ae.mgDebug)("Aniview onLoad event."),t.resetTimeout&&(clearTimeout(t.resetTimeout),t.resetTimeout=null),t.skipButton=t.playerDiv.querySelector("#skip-btn"),t.skipButton.innerHTML=Ht.Helpers.getTranslated(t.amby,"skipText","Skip"),t.skipObserver&&(t.skipObserver.disconnect(),t.skipObserver.observe(t.skipButton,{attributes:!0})),t.initSize&&t.onResize(),t.amby.get("formatConfig.forceMute",!1)&&(t.soundButton=t.playerDiv.querySelector("#sound"),t.soundButton&&t.soundButton.addEventListener("click",function(){t.amby.dispatch(he.upsertAdState({soundButtonClicked:!0}))})),t.startRequestSent=!1,t.amby.dispatch(he.setAdStatus(we.states.STATUS_READY,t.name)),t.startRequested&&(t.startRequested=!1,t.amby.dispatch(he.setTriggerToTrue("".concat(t.name,".actionPlay"))))},this.player.onPlay=function(n){var l,c,h=n.asid,g=n.videoUrl,y=n.clickThrough;(0,Ae.mgDebug)("Aniview onPlay event.");var T=(0,Ht.getInObject)(window,["_mgAdSrcNoUi"]);Array.isArray(T)&&T.indexOf(h)!==-1?((0,Ae.mgDebug)("Controls hided for AdSource ".concat(h)),Ht.Helpers.addClass(t.playerDiv,"adplayer-no-ui")):t.playerDiv.classList.contains("adplayer-no-ui")&&((0,Ae.mgDebug)("Controls showed for AdSource ".concat(h)),Ht.Helpers.removeClass(t.playerDiv,"adplayer-no-ui")),t.updateEventStack(h,{time:new Date().toISOString().replace("Z","MG"),adTag:h,event:"play",cid:t.amby.get("widgetId"),videoUrl:g,clickThrough:y}),t.amby.dispatch(he.upsertState({skipBtn:{skipable:!1}})),t.errorsNumber=0,t.stopRequestTimeout&&(clearTimeout(t.stopRequestTimeout),t.stopRequestTimeout=null),t.nextAdTimeout&&(clearTimeout(t.nextAdTimeout),t.nextAdTimeout=null);var b=y;y&&(b=y.toString().match(/[?&]_redirect=(.+)(&|$)/m),b?(l=b,b=l[1]):b=y),b&&(b=b.toString().replace(/(^\s+|\s+$)/gm,""));var P=g;if(g&&(P=g.toString().replace(/(^\s+|\s+$)/gm,"")),t.amby.dispatch(he.upsertAdState({adTag:h,videoUrl:P,vpaid:!0,adPlayer:1,adClickUrl:decodeURIComponent(b)})),t.apiAction||t.amby.dispatch(he.upsertPlayerState({isPlayingOnVisible:!0})),t.apiAction=!1,!t.amby.get("ad.initMuted",!0)&&!t.amby.get("formatConfig.forceMute",!1)&&!Ht.Helpers.iOSversion()?t.unmute():t.player.muted||t.mute(),t.amby.dispatch(he.upsertState((c={},c[t.name]={linkBtn:{link:y},clickCover:{link:y}},c))),t.startRequestSent=!1,t.amby.dispatch(he.upsertAdState({currentImpressions:t.amby.get("ad.currentImpressions",0)+1})),t.amby.dispatch(he.setAdStatus(we.states.STATUS_PLAYING,t.name)),t.noCompleteTimeoutTime&&((0,Ae.mgDebug)("Creating noCompleteTimeout"),t.noCompleteTimeoutTimer=0,t.runNoCompleteInterval()),t.amby.get("formatConfig.moveToBody",!1)){var x=t.playerDiv.querySelectorAll("video");x=Array.apply(null,x),x.forEach(function(B){B.paused||(t.currentVideoElem=B)})}t.resizeNeeded&&t.onResize()},this.player.onPlay100=function(){t.noCompleteTimeoutTime&&t.noCompleteTimeout&&((0,Ae.mgDebug)("Removing noCompleteTimeout"),clearInterval(t.noCompleteTimeout),t.noCompleteTimeout=null),t.amby.dispatch(he.setTriggerToTrue("ad.complete")),t.checkMuted(),t.currentImpressions+=1,!t.amby.get("formatConfig.loop",!1)||t.config.maximp<=t.currentImpressions?(t.close(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_STOPPED,t.name))):(t.nextAdTimeout&&(clearTimeout(t.nextAdTimeout),t.nextAdTimeout=null),t.nextAdTimeout=setTimeout(function(){t.amby.get("ad.status")===we.states.STATUS_STOPPED&&((0,Ae.mgDebug)("Next AD Timeout."),t.reset(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_STOPPED,t.name)))},t.nextAdTimeoutTime*1e3))},this.player.onPlay25=function(){t.amby.dispatch(he.upsertAdState({position:Math.ceil(t.player.getAdDuration()/4),duration:t.player.getAdDuration()}))},this.player.onPlay50=function(){t.amby.dispatch(he.upsertAdState({position:Math.ceil(t.player.getAdDuration()/2),duration:t.player.getAdDuration()}))},this.player.onPlay75=function(){t.amby.dispatch(he.upsertAdState({position:Math.ceil(t.player.getAdDuration()/4*3),duration:t.player.getAdDuration()}))},this.player.onResume=function(){t.apiAction||t.amby.dispatch(he.upsertPlayerState({isPlayingOnVisible:!0})),t.noCompleteTimeoutTime&&((0,Ae.mgDebug)("Resuming noCompleteTimeout"),t.runNoCompleteInterval()),t.apiAction=!1,t.startRequestSent=!1,t.amby.dispatch(he.setAdStatus(we.states.STATUS_PLAYING,t.name))},this.player.onPause=function(){!t.apiAction&&!t.skipApiAction&&t.amby.dispatch(he.upsertPlayerState({isPlayingOnVisible:!1})),t.noCompleteTimeoutTime&&((0,Ae.mgDebug)("Pausing noCompleteTimeout"),t.noCompleteTimeout&&(clearInterval(t.noCompleteTimeout),t.noCompleteTimeout=null)),t.apiAction=!1,t.skipApiAction=!1,t.pauseRequestSent=!1,t.amby.dispatch(he.setAdStatus(we.states.STATUS_PAUSED,t.name))},this.player.onError=function(n){t.errorsNumber+=1,(t.errorsNumber>t.errorLimit||n&&n.errorlimit)&&(t.noCompleteTimeoutTime&&t.noCompleteTimeout&&((0,Ae.mgDebug)("Removing noCompleteTimeout"),clearInterval(t.noCompleteTimeout),t.noCompleteTimeout=null),t.passback(),t.reset(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_ERROR,t.name))),t.resendTime&&(t.resendLimit||(t.resendLimit=parseInt(t.amby.get("formatConfig.resendLimit"),10)||1),(0,Ae.mgDebug)("No ads found. Retry in ".concat(t.resendTime," sec.")+" Iteration number: ".concat(t.amby.get("".concat(t.name,".resendNumber"),0)+1)),!t.resetTimeout&&t.amby.get("".concat(t.name,".resendNumber"),0)<t.resendLimit?t.resetTimeout=setTimeout(function(){var l;(0,Ae.mgDebug)("Resetting player..."),t.resetTimeout=null,t.amby.dispatch(he.upsertState((l={},l[t.name]={resendNumber:t.amby.get("".concat(t.name,".resendNumber"),0)+1},l))),t.amby.dispatch(he.setAdStatus(we.states.STATUS_INIT,t.name)),t.amby.dispatch(he.setAdInit(we.states.INIT_RESET,t.name))},t.resendTime*1e3):t.resendLimit&&(0,Ae.mgDebug)("Iteration limit is ".concat(t.resendLimit,". Iteration aborted.")))},this.player.onClose=function(){t.noCompleteTimeoutTime&&t.noCompleteTimeout&&((0,Ae.mgDebug)("Removing noCompleteTimeout"),clearInterval(t.noCompleteTimeout),t.noCompleteTimeout=null),t.checkMuted(),t.reset(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_STOPPED,t.name))},this.player.onSkip=function(){t.noCompleteTimeoutTime&&t.noCompleteTimeout&&((0,Ae.mgDebug)("Removing noCompleteTimeout"),clearInterval(t.noCompleteTimeout),t.noCompleteTimeout=null),t.checkMuted(),t.amby.dispatch(he.setTriggerToTrue("ad.skip"))},this.player.onMute=function(){(0,Ae.mgDebug)("Aniview AD muted."),!t.apiMuteAction&&(!t.noSoundComponent||t.amby.get("ad.soundButtonClicked",!1))&&(t.amby.dispatch(he.upsertAdState({isUnmuteOnHover:!1,initMuted:!0})),t.amby.dispatch(he.setTriggerToTrue("player.mute")),t.amby.dispatch(he.setTriggerToTrue("ad.mute"))),t.apiMuteAction=!1,t.amby.dispatch(he.setAdMuted(!0))},this.player.onUnmute=function(){(0,Ae.mgDebug)("Aniview AD unmuted."),!t.apiMuteAction&&(!t.noSoundComponent||t.amby.get("ad.soundButtonClicked",!1))&&(t.amby.dispatch(he.upsertAdState({isUnmuteOnHover:!0,initMuted:!1})),t.amby.dispatch(he.setTriggerToTrue("player.unmute")),t.amby.dispatch(he.setTriggerToTrue("ad.unmute"))),t.apiMuteAction=!1,t.amby.dispatch(he.setAdMuted(!1));var n=t.amby.get("ad.adTag");t.updateEventStack(n,{time:new Date().toISOString().replace("Z","MG"),adTag:n,event:"unmute",cid:t.amby.get("widgetId")})},this.player.onClick=function(){t.amby.dispatch(he.setTriggerToTrue("ad.clicked"))},this.player.onInventory=function(){(0,Ae.mgDebug)("Aniview onInventory fired."),t.amby.dispatch(he.setTriggerToTrue("ad.inventory"))},this.player.onEvent=function(n,l,c){if((0,Ae.mgDebug)("AniView onEvent: ".concat(n," ").concat(l," ").concat(JSON.stringify(c))),t.updateEventStack(l,{time:new Date().toISOString().replace("Z","MG"),adTag:l,event:n,cid:t.amby.get("widgetId"),params:JSON.stringify(c)}),n==="startAd"){var h=(0,Ht.getInObject)(window,["_mgAdTrSrc"]);(t.verifiedSources.indexOf(l)>-1||Array.isArray(h)&&h.indexOf(l)>-1)&&(t.amby.dispatch(he.upsertAdState({adTag:l,adPlayer:1})),t.amby.dispatch(he.setAdStatus(we.states.STATUS_PLAYING)),t.amby.dispatch(he.setAdVisible(!0,t.name)))}},this.player.play(this.config)},e.prototype.onResize=function(){if(this.player){var t=this.amby.get("ad.size",{width:300,height:169});this.player.resize(parseFloat(t.width),parseFloat(t.height))}[we.states.STATUS_READY,we.states.STATUS_PLAYING,we.states.STATUS_PAUSED].indexOf(this.amby.get("".concat(this.name,".status")))===-1&&(this.resizeNeeded=!0)},e.prototype.reset=function(){if(!(this.closed||this.closedTimeout)){for((0,Ae.mgDebug)("Aniview: Deleting AD player.".concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),this.close(),this.playerDiv||(this.playerDiv=this.rootElement.querySelector("#".concat(this.config.position)));this.playerDiv.firstChild;)this.playerDiv.removeChild(this.playerDiv.firstChild);var t=document.querySelectorAll("#AVLoader".concat(this.config.position));t=Array.apply(null,t),t.forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),this.startRequestSent=!1,this.pauseRequestSent=!1}},e.prototype.checkMuted=function(){this.player.muted&&this.amby.get("ad.initMuted",!0)?(this.amby.dispatch(he.upsertAdState({initMuted:!0})),this.amby.dispatch(he.setTriggerToTrue("player.mute"))):this.amby.get("ad.initMuted",!0)&&(this.amby.dispatch(he.upsertAdState({initMuted:!1})),this.amby.dispatch(he.setTriggerToTrue("player.unmute")))},e.prototype.onPlayerChangedLocation=function(){if(this.amby.get("player.isAdPlaying",!1)&&this.player&&this.amby.get("".concat(this.name,".status"))===we.states.STATUS_PLAYING&&this.amby.get("formatConfig.inlinePlacement"))if(this.currentVideoElem&&this.currentVideoElem.paused){var t=this.currentVideoElem.play();t!==void 0&&t.catch(function(i){(0,Ae.mgDebug)("ERROR: ".concat(i.message))})}else this.player.resume()},e.prototype.mute=function(){var t=this;Ht.Helpers.vitalCall(function(){t.player&&!t.player.muted&&t.player.getAdVolume()>0&&((0,Ae.mgDebug)("Aniview AD mute request sent."),t.apiMuteAction=!0,t.player.mute())},this.amby.get("isVital",!0))},e.prototype.unmute=function(){this.player&&this.player.muted&&this.player.getAdVolume()===0&&((0,Ae.mgDebug)("Aniview AD unmute request sent."),this.apiMuteAction=!0,this.player.unmute())},e.prototype.close=function(){var t=this;this.player&&((0,Ae.mgDebug)("AD closing... Ad source: ".concat(this.amby.get("ad.adTag"))),this.amby.dispatch(he.upsertAdState({adTag:null})),this.player.close(),this.closed=!0,this.closedTimeout||(this.closedTimeout=setTimeout(function(){(0,Ae.mgDebug)("AD closed."),t.closedTimeout=null,t.closed=!1,t.needToCreate&&(t.needToCreate=!1,t.createPlayer())},3e3)))},e.prototype.passback=function(){if(this.amby.get("passback",!1)){this.amby.dispatch(he.setTriggerToTrue("ad.passback"));try{Ht.Helpers.createScriptAndRun("Passback_".concat(this.amby.get("mgVideoIndex")),this.amby.get("passback",!1))}catch(t){(0,Ae.mgDebug)(t)}}},e.prototype.loadAdSrcNoUiList=function(){var t=this.amby.get("libConfig.adSrcNoUiUrlTemplate"),i=t.replace("{{DOMAIN}}",this.amby.get("subnetDomain","")),a=document.location.protocol;a=a.indexOf("http")===0?a:"https:";var s="".concat(a).concat(i),n=new fh.Loader({adSrcNoUi:{url:s,exists:"typeof window._mgAdSrcNoUi !== 'undefined'"}},function(){});n.checkLoaded()},e.prototype.runNoCompleteInterval=function(){var t=this;this.noCompleteTimeout||(this.noCompleteTimeout=setInterval(function(){t.noCompleteTimeoutTimer+=1,t.noCompleteTimeoutTimer>=(t.player.getAdDuration()+t.noCompleteTimeoutTime)*10&&((0,Ae.mgDebug)("noCompleteTimeout on ".concat(t.noCompleteTimeoutTime," sec of waiting")),clearInterval(t.noCompleteTimeout),t.noCompleteTimeout=null,t.reset(),t.amby.dispatch(he.setAdStatus(we.states.STATUS_STOPPED,t.name)))},100))},e.prototype.updateEventStack=function(t,i){this.eventStack[t]||(this.eventStack[t]=[]),this.eventStack[t].length>=20&&this.eventStack[t].shift(),this.eventStack[t].push(i)},e}(vh.AniviewBase);Di.AniViewComponent=xh});var co=pe(Ba=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.TeaserComponent=void 0;var Ei=Pe(),Th=Ce(),po=He(),wh=function(){function r(e,t,i){var a=this;(0,po.mgDebug)("Init TeaserComponent ".concat(i)),this.amby=e,this.teaser=t,this.linkElem=this.teaser.querySelector(".mcimg > a"),this.linkElem&&this.linkElem.removeAttribute("href"),this.index=i,this.amby.get("teasers")||this.amby.dispatch(Ei.upsertState({teasers:[]})),this.amby.dispatch(Ei.upsertTeaser({index:this.index,teaser:{inSight:!1,mouseOver:!1,clicked:!1}})),this.observer=Th.Helpers.onVisible(this.teaser,function(s){(0,po.mgDebug)("Teaser is ".concat(s?"in":"out of"," sight")),a.amby.dispatch(Ei.upsertTeaser({index:a.index,teaser:{inSight:s}}))}),this.addListeners()}return r.prototype.addListeners=function(){var e=this;this.teaser.addEventListener("click",function(){e.amby.dispatch(Ei.setTriggerToTrue("teasers.".concat(e.index,".clicked")))}),this.teaser.addEventListener("mouseenter",function(){e.amby.dispatch(Ei.upsertTeaser({index:e.index,teaser:{mouseOver:!0}}))}),this.teaser.addEventListener("mouseleave",function(){e.amby.dispatch(Ei.upsertTeaser({index:e.index,teaser:{mouseOver:!1}}))}),this.amby.addSubListener("teasers.".concat(this.index,".title"),function(){var t=e.amby.get("teasers.".concat(e.index,".title"),""),i=e.teaser.querySelector(".mctitle a");i&&(i.text=t)})},r}();Ba.TeaserComponent=wh});var Ma=pe(Oa=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Oa,"__esModule",{value:!0});Oa.WidgetComponent=void 0;var At=Pe(),ar=Ce(),Sh=co(),ho=He(),_h=function(){function r(e,t){t===void 0&&(t=null);var i=this;(0,ho.mgDebug)("WidgetComponent initiated."),this.amby=e.amby,this.widgetBlock=e.block,this.callback=t,this.videoTeasers=[],this.linkElems=[],this.playerTeaserIndex=null,ar.Helpers.onVisible(this.widgetBlock,function(a){i.amby.dispatch(At.upsertState({widget:{inSight:a}}))}),this.teasers=this.widgetBlock.querySelectorAll(".mgline"),this.teasers.length===0&&this.callback?["outstream","attachedWidget"].indexOf(this.amby.get("formatConfig.name"))>-1&&["above","below","over"].indexOf(this.amby.get("formatConfig.adsPlace"))<0?this.fillTeasers():(this.addedNodes=[],this.observer=this.getObserver(function(a){i.waitForTeasers(a)}),this.observer.observe(this.widgetBlock,{childList:!0,subtree:!0})):this.fillTeasers()}return r.prototype.fillTeasers=function(){var e=this;this.teasers.length===0&&(this.teasers=this.widgetBlock.querySelectorAll(".mgline")),this.inlinePlacement=parseInt(this.amby.get("formatConfig.inlinePlacement",1),10);for(var t=0;t<this.teasers.length;t++){var i=this.teasers[t];if(i.className.indexOf("vrline")!==-1){var a=this.videoTeasers.length;this.inlinePlacement!==null&&this.inlinePlacement===a+1&&(this.playerTeaserIndex=t),this.videoTeasers.push(new Sh.TeaserComponent(this.amby,i,a)),this.linkElems.push()}}var s=this.widgetBlock.querySelectorAll(".image-with-text>.mcimg img"),n=!0;if(this.teaserImagesLoaded=[],s&&s.length>0&&(s=Array.apply(null,s),s.forEach(function(l,c){e.teaserImagesLoaded.push(l.complete),l.complete||(n=!1,l.addEventListener("load",function(){e.teaserImagesLoaded[c]=!0,e.amby.dispatch(At.setTriggerToTrue("widget.imageLoaded")),e.teaserImagesLoaded.reduce(function(h,g){return h&&g})&&e.amby.dispatch(At.upsertState({widget:{allImagesLoaded:!0}}))}))})),n&&this.amby.dispatch(At.upsertState({widget:{allImagesLoaded:!0}})),this.playerTeaserIndex!==null)this.amby.dispatch(At.upsertState({widget:{playerTeaserIndex:this.playerTeaserIndex}}));else if(this.inlinePlacement!==void 0&&["outstream","attachedWidget"].indexOf(this.amby.get("formatConfig.name"))===-1){(0,ho.mgDebug)("Empty WidgetComponent.playerTeaserIndex");return}this.listenersAdded||(this.listenersAdded=!0,this.addListeners(),this.callback&&setTimeout(function(){e.callback()},0))},r.prototype.addListeners=function(){var e=this,t=null,i=null;typeof document.mozHidden<"u"?(t="mozHidden",i="mozvisibilitychange"):typeof document.msHidden<"u"?(t="msHidden",i="msvisibilitychange"):typeof document.webkitHidden<"u"?(t="webkitHidden",i="webkitvisibilitychange"):typeof document.hidden<"u"&&(t="hidden",i="visibilitychange"),t!=null&&i!=null&&document.addEventListener(i,function(){document[t]?(e.blurred=!0,e.amby.dispatch(At.setWidgetBlurred(!0))):(e.blurred=!1,e.amby.dispatch(At.setWidgetBlurred(!1)))}),window.addEventListener("blur",function(){e.blurred=!0,setTimeout(function(){(!document.activeElement||document.activeElement.tagName!=="IFRAME"&&!document.activeElement.shadowRoot)&&e.amby.dispatch(At.setWidgetBlurred(!0))},0)}),window.addEventListener("focus",function(){e.blurred=!1,e.amby.dispatch(At.setWidgetBlurred(!1))}),document.body.addEventListener("mouseenter",function(){document.activeElement&&document.activeElement.tagName==="IFRAME"&&e.blurred&&e.amby.dispatch(At.setWidgetBlurred(!1))}),document.body.addEventListener("mouseleave",function(){document.activeElement&&document.activeElement.tagName==="IFRAME"&&e.blurred&&e.amby.dispatch(At.setWidgetBlurred(!0))})},r.prototype.getObserver=function(e){var t=this;return new MutationObserver(function(i){i.forEach(function(a){if(a.type==="childList"&&a.addedNodes.length){var s=Array.prototype.slice.call(a.addedNodes);s=s.filter(function(n){return n.nodeName!=="#text"}),s.length>0&&(t.addedNodes.push(s),e(s))}})})},r.prototype.waitForTeasers=function(e){var t=this;e.forEach(function(i){["outstream","attachedWidget"].indexOf(t.amby.get("formatConfig.name"))>-1?(i.className&&i.className.indexOf("mgbox")>-1||i.querySelector&&i.querySelector(".mgbox"))&&(t.amby.get("formatConfig.adsPlace","above")!=="over"||t.widgetBlock.querySelectorAll(".mgline").length>0)&&(t.fillTeasers(),t.observer.disconnect(),t.boxesObserver=t.getObserver(function(a){t.waitForBoxes(a)}),t.boxesObserver.observe(t.widgetBlock,{childList:!0,subtree:!0})):(i.className&&i.className.indexOf("vrline")>-1&&i.querySelector("img")||ar.Helpers.getParentBlockByClass(i,"vrline")&&ar.Helpers.getParentBlockByClass(i,"vrline").querySelector("img")||i.querySelector&&i.querySelector(".vrline")&&i.querySelector(".vrline").querySelector("img"))&&(t.fillTeasers(),t.observer.disconnect())})},r.prototype.waitForBoxes=function(e){var t=this;e.forEach(function(i){(i.className&&i.className.indexOf&&i.className.indexOf("mgbox")>-1||i.querySelector&&i.querySelector(".mgbox")&&i.parentNode===t.widgetBlock)&&(t.amby.get("widget.allImagesLoaded",!1)?t.amby.dispatch(At.setTriggerToTrue("widget.newBox")):t.fillTeasers())})},r}();Oa.WidgetComponent=_h});var Ha=pe(Ra=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.FormatBase=void 0;var ct=Ve(),ze=Pe(),dt=Ce(),nt=He(),mi="visibleNotPause",kh="visibleOnly",Ch=function(){function r(e){if(this.rootElement=(0,dt.getInObject)(e,["mgRec","rootElement"]),this.widgetId=(0,dt.getInObject)(e,["mgRec","config","parentCid"],(0,dt.getInObject)(e,["mgRec","cid"])),this.siteId=(0,dt.getInObject)(e,["mgRec","sid"]),this.mgVideoIndex="".concat(this.widgetId,"_").concat(e.getWidgets().length),this.widget=e,this.widget.rootElement=this.rootElement,this.amby=e.amby,this.config=e.mgRec.config,this.formatConfig=e.formatConfig,this.blockMain=this.widget.block.querySelector(".mgbox"),this.aspectRatio=(this.config.aspectratio||"16:9").match(/(\d+):(\d+)/).reduce(function(c,h,g){return c[["ratio","width","height"][g]]=h,c},{}),this.aspectRatio.width=parseInt(this.aspectRatio.width,10),this.aspectRatio.height=parseInt(this.aspectRatio.height,10),this.aspectRatio.width>0&&this.aspectRatio.height>0||(this.aspectRatio={ratio:"16:9",width:16,height:9}),this.startScroll=this.formatConfig.startScroll,this.startInit=this.formatConfig.startInit,this.pauseOnFocusOut=this.amby.get("formatConfig.pauseOnFocusOut",!0),this.startScroll){var t=this.startScroll.toString().match(/(\d+)%/);if(t&&t[1]){var i=document.body,a=document.documentElement,s=Math.max(i.scrollHeight,i.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);this.startScrollPixels=Math.floor(s*parseInt(t[1],10)/100),(0,nt.mgDebug)("Site Height: ".concat(s,"px, Start sticky on: ").concat(t[1],"% = ").concat(this.startScrollPixels,"px"))}else this.startScrollPixels=parseInt(this.startScroll,10)}this.calcStartOnScroll(this.widget.block);var n=parseInt((0,dt.getInObject)(this.config,["closeButtonEnable"],(0,dt.getInObject)(this.formatConfig,["closeButtonEnable"],1)),10),l=(0,dt.getInObject)(e,["mgRec","cappingData","dt"],"desktop");this.amby.dispatch(ze.upsertState({playlist:e.mgRec.vr_playlist,player:{aspectratio:this.aspectRatio.ratio,muted:!0,playerId:"mgJwPlayer_".concat(this.mgVideoIndex)},widgetId:this.widgetId,siteId:this.siteId,mgVideoIndex:this.mgVideoIndex,templateId:this.config.templateId,uuid:this.config.uuid||"",subid:this.config.subid||0,cappingData:e.mgRec.cappingData,paramsData:e.mgRec.paramsData,subnetDomain:e.mgRec.subnetDomain,countersDomain:e.mgRec.countersDomain,libConfig:e.libConfig,muteBtn:{muted:!0},closeBtn:{enabled:n},adSchedule:this.config.adSchedule,adPlayers:this.config.adPlayers,extLibraries:this.config.extLibraries,cappingInterval:parseInt(this.config.cappingInterval,10)||15,passback:this.config.passback,sensorCid:e.mgRec.cid,lang:this.config.lang,language:e.mgRec.lang,libVer:e.mgRec.lib,ga_id:this.config.ga_id,visibilityKpi:this.config.visibilityKpi,downtimeDetector:this.config.downtimeDetector,downtimeTimeout:this.config.downtimeTimeout,startAdTimeout:this.config.startAdTimeout,autoStart:this.config.autoStart||mi,isVital:this.config.isVital,deviceType:l,animatedArticle:this.config.animatedArticle})),dt.Helpers.initClientHintData()}return r.prototype.playOnVisible=function(e){e===void 0&&(e=!0),this.amby.get("ad.status")&&(this.inSight&&e?this.amby.get("player.isPlayingOnVisible",!0)&&!this.focusPaused&&(this.amby.dispatch(ze.upsertAdState({startRequested:!0})),this.amby.dispatch(ze.setTriggerToTrue("ad.actionPlay"))):this.amby.get("autoStart")===kh&&this.amby.dispatch(ze.setTriggerToTrue("ad.actionPause")))},r.prototype.startOnScroll=function(e){!this.startedByScroll&&this.startScrollPixels&&dt.Helpers.getViewTop()>this.startScrollPixels&&!this.isOtherWidgetSticky()&&((0,nt.mgDebug)("Current Scroll: ".concat(dt.Helpers.getViewTop(),"px, Starting sticky on: ").concat(this.startScrollPixels,"px")),this.startedByScroll=!0,e())},r.prototype.onWidgetBlurred=function(){var e=this;!this.pauseOnFocusOut||(this.amby.get("widget.blurred",!1)?this.amby.get("player.isAdPlaying",!1)&&this.amby.get("ad.status")===ct.states.STATUS_PLAYING&&this.amby.get("autoStart")!==mi?((0,nt.mgDebug)("adPlayer focused OUT. BASE"),this.focusPaused=!0,this.amby.dispatch(ze.setTriggerToTrue("ad.actionPause"))):this.amby.get("player.status")===ct.states.STATUS_PLAYING&&((0,nt.mgDebug)("Player focused OUT. BASE"),this.focusPaused=!0,this.amby.dispatch(ze.setTriggerToTrue("player.actionPause"))):this.focusPaused?(this.focusPaused=!1,this.amby.get("player.isAdPlaying",!1)?((0,nt.mgDebug)("adPlayer focused IN. BASE"),this.amby.dispatch(ze.setTriggerToTrue("ad.actionPlay"))):((0,nt.mgDebug)("Player focused IN. BASE"),this.amby.dispatch(ze.setTriggerToTrue("player.actionPlay"))),this.justFocusedIn=!0,setTimeout(function(){e.justFocusedIn=!1},200)):this.amby.get("autoStart")===mi&&(this.focusPaused=!1,this.amby.get("player.isAdPlaying",!1)&&this.amby.get("ad.status")===ct.states.STATUS_PAUSED?((0,nt.mgDebug)("adPlayer focused IN. BASE"),this.amby.dispatch(ze.setTriggerToTrue("ad.actionPlay"))):this.amby.get("player.status")===ct.states.STATUS_PAUSED&&((0,nt.mgDebug)("Player focused IN. BASE"),this.amby.dispatch(ze.setTriggerToTrue("player.actionPlay")))))},r.prototype.onAdPlayerBlurred=function(){var e=this;!this.pauseOnFocusOut||(this.amby.get("widget.blurred",!1)&&this.amby.get("ad.status")===ct.states.STATUS_PLAYING&&this.amby.get("autoStart")!==mi?((0,nt.mgDebug)("adPlayer focused OUT. BASE"),this.focusPaused=!0,this.amby.dispatch(ze.setTriggerToTrue("ad.actionPause"))):(this.focusPaused||this.amby.get("autoStart")===mi&&this.amby.get("ad.status")===ct.states.STATUS_PAUSED)&&((0,nt.mgDebug)("adPlayer focused IN. BASE"),this.focusPaused=!1,this.amby.dispatch(ze.setTriggerToTrue("ad.actionPlay")),this.justFocusedIn=!0,setTimeout(function(){e.justFocusedIn=!1},200)))},r.prototype.onPlayerStatusBase=function(){if(!!this.pauseOnFocusOut){var e=this.amby.get("player.status");this.justFocusedIn&&e!==ct.states.STATUS_PLAYING&&this.focusPaused&&((0,nt.mgDebug)("Player paused after focusing IN :-( . Base"),this.amby.dispatch(ze.setTriggerToTrue("player.actionPlay")),this.focusPaused=!1,this.justFocusedIn=!1),this.amby.get("widget.blurred")&&e===ct.states.STATUS_PLAYING&&((0,nt.mgDebug)("Player tried to play when window not in focus :-( . Base"),this.focusPaused=!0,this.amby.dispatch(ze.setTriggerToTrue("player.actionPause")))}},r.prototype.onAdStatusBase=function(){if(!!this.pauseOnFocusOut){var e=this.amby.get("ad.status");this.justFocusedIn&&e!==ct.states.STATUS_PLAYING&&(this.focusPaused||this.amby.get("autoStart")===mi&&this.amby.get("ad.status")===ct.states.STATUS_PAUSED)&&((0,nt.mgDebug)("adPlayer paused after focusing IN :-( . Base"),this.amby.dispatch(ze.setTriggerToTrue("ad.actionPlay")),this.focusPaused=!1,this.justFocusedIn=!1),this.amby.get("widget.blurred")&&e===ct.states.STATUS_PLAYING&&this.amby.get("autoStart")!==mi&&((0,nt.mgDebug)("adPlayer tried to play when window not in focus :-( . Base"),this.focusPaused=!0,this.amby.dispatch(ze.setTriggerToTrue("ad.actionPause")))}},r.prototype.onAdClickedTriggerBase=function(){var e=this;!this.pauseOnFocusOut||setTimeout(function(){(0,nt.mgDebug)("adPlayer played after opening new tab with AD :-( . Base"),e.amby.dispatch(ze.setTriggerToTrue("ad.actionPause"))},200)},r.prototype.startInitOnVisible=function(){!this.startInitSent&&this.inSight&&(this.startInitSent=!0,this.amby.dispatch(ze.setAdInit(ct.states.INIT_NEEDED)))},r.prototype.startInitOnScroll=function(){!this.startInitSent&&dt.Helpers.getViewTop()+dt.Helpers.getWindowHeight()/2>this.startOnScrollPixels&&(this.startInitSent=!0,(0,nt.mgDebug)("Current Scroll: ".concat(dt.Helpers.getViewTop(),"px, Starting code on: ").concat(this.startOnScrollPixels,"px")),this.amby.dispatch(ze.setAdInit(ct.states.INIT_NEEDED)))},r.prototype.calcStartOnScroll=function(e){if(this.formatConfig.startOnScroll){var t=e.getBoundingClientRect().top+dt.Helpers.getViewTop(),i=this.startOnScrollPixels;this.startOnScrollPixels=Math.floor(t*.51),this.startOnScrollPixels!==i&&(0,nt.mgDebug)("Player Top: ".concat(t,"px, Start searching for ad on: 51% = ").concat(this.startOnScrollPixels,"px"))}},r.prototype.callStartInit=function(){var e=this;this.startInit&&this.startInit!=="onLoad"?(dt.Helpers.onVisible(this.adContainerComponent.playerContainer,function(t){e.inSight=t,e.startInitOnVisible()}),this.startInitOnVisible()):this.formatConfig.startOnScroll?(window.addEventListener("scroll",function(){e.calcStartOnScroll(e.adContainerComponent.playerContainer),e.startInitOnScroll()}),this.startInitOnScroll()):this.amby.dispatch(ze.setAdInit(ct.states.INIT_NEEDED))},r.prototype.isOtherWidgetSticky=function(){var e=this;return Object.entries(this.amby.get()).reduce(function(t,i){var a=i[0],s=i[1];return t||(0,dt.getInObject)(s,["player","isSticky"])&&a!==e.amby.getNS()},!1)&&(0,dt.getInObject)(this.amby.get(),["sticky"],!0)},r.prototype.createReInitTimeout=function(){var e=this;this.reinitTimeout&&(clearTimeout(this.reinitTimeout),this.reinitTimeout=null),this.reinitTimeout=setTimeout(function(){(0,nt.mgDebug)("ReinitTimeout"),e.amby.dispatch(ze.upsertAdState({reInited:!0})),e.amby.dispatch(ze.upsertPlayerState({isPlayingOnVisible:!0})),e.amby.dispatch(ze.setAdInit(ct.states.INIT_STOP)),e.amby.dispatch(ze.setAdInit(ct.states.INIT_RESET))},this.reInit?this.reInit*1e3:5e3)},r}();Ra.FormatBase=Ch});var mo=pe(Va=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Va,"__esModule",{value:!0});Va.ClickThroughComponent=void 0;var uo=Ve(),Na=Pe(),Ga=Ce(),Ih=function(){function r(e,t){this.amby=e,this.container=t,this.elemText=Ga.Helpers.getTranslated(this.amby,"clickText","Learn more"),this.widgetId=this.amby.get("widgetId"),this.widgetBlock=Ga.Helpers.getParentBlockByClass(this.container,"_mgw_".concat(this.widgetId)),this.elem||this.createElement(),this.addListeners(),this.setClickListener()}return r.prototype.removeElement=function(){this.elem.parentNode.removeChild(this.elem),this.elem=null},r.prototype.createElement=function(){this.widgetBlock&&(this.elem=this.widgetBlock.querySelector("#adLinkButton_".concat(this.widgetId,"_ad"))),this.elem||(this.elem=document.createElement("div"),this.elem.className="adLinkButton",this.elem.id="adLinkButton_".concat(this.widgetId,"_ad"),this.elem.innerText=this.elemText,this.container.appendChild(this.elem))},r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("linkBtn.visible",function(){e.amby.get("linkBtn.visible",!1)?Ga.Helpers.addClass(e.elem,"showed"):Ga.Helpers.removeClass(e.elem,"showed")}),this.amby.addSubListener("ad.adClickUrl",function(){e.setClickListener()}),this.amby.addTriggerListener("ad.videoEnded",function(){e.removeElement()}),this.amby.addSubListener("ad.status",function(){switch(e.amby.get("ad.status")){case uo.states.STATUS_PLAYING:e.amby.get("ad.adClickUrl")&&e.amby.dispatch(Na.upsertState({linkBtn:{visible:!0}}));break;case uo.states.STATUS_STOPPED:e.amby.dispatch(Na.upsertState({linkBtn:{visible:!1}}));break}})},r.prototype.setClickListener=function(){var e=this;this.amby.get("ad.adClickUrl")?this.elem.onclick=function(){var t=window.open(e.amby.get("ad.adClickUrl"),"_blank");t&&(e.amby.dispatch(Na.setTriggerToTrue("ad.clicked")),t.focus(),e.amby.dispatch(Na.setTriggerToTrue("ad.actionPause")))}:this.elem.onclick=null},r}();Va.ClickThroughComponent=Ih});var yo=pe(qa=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(qa,"__esModule",{value:!0});qa.KpiDataManager=void 0;var tt=Pe(),fo=He(),go=Ve(),Dh=function(){function r(e,t){this.amby=e,this.deletableSubListeners=this.getDeletableSubListenersMap(),this.deletableTriggerListeners=this.getDeletableSubTriggerListenersMap(),this.addListeners(),this.createPlacementObserver(t),this.createAdViewableObserver(t),this.createScrollReachedObserver(t)}return r.prototype.updateKpiCustomData=function(e,t){var i;this.amby.dispatch(tt.upsertState({customDataKpi:(i={},i[e]=t,i)}))},r.prototype.asyncRemoveSubListener=function(e,t){var i=this;setTimeout(function(){i.amby.removeSubListener(e,t)})},r.prototype.asyncRemoveTriggerListener=function(e,t){var i=this;setTimeout(function(){i.amby.removeTriggerListener(e,t)})},r.prototype.getDeletableSubListenersMap=function(){var e=this,t=function(){e.amby.get("widget.blurred",!1)&&e.amby.get("player.InPoint")&&!e.amby.get("player.OutPoint")&&(e.amby.dispatch(tt.upsertState({player:{OutPoint:Date.now()}})),e.amby.dispatch(tt.setTriggerToTrue("widget.exposure")),e.asyncRemoveSubListener("widget.blurred",t))},i=function(){if(e.amby.get("player.InPoint")&&e.amby.get("widget.renderTime")){var g=e.amby.get("player.InPoint")-e.amby.get("widget.renderTime");e.updateKpiCustomData("render_buffer",{renderBufferTime:g>0?g:0}),e.asyncRemoveSubListener("player.InPoint",i),e.addDataCleanListener("player.InPoint","render_buffer")}},a=function(){e.updateKpiCustomData("scroll_buffer",{scrollBufferTime:e.amby.get("player.InPoint")?e.amby.get("player.scrollReached")-e.amby.get("player.InPoint"):0}),e.asyncRemoveSubListener("player.scrollReached",a),e.addDataCleanListener("player.scrollReached","scroll_buffer")},s=function(){e.updateKpiCustomData("exposure",{exposureTime:e.amby.get("player.OutPoint")-e.amby.get("player.InPoint")}),e.asyncRemoveSubListener("player.scrollReached",s),e.addDataCleanListener("player.scrollReached","exposure")},n=function(){e.updateKpiCustomData("ad_viewable",{adViewableTime:Date.now()-e.amby.get("adViewableTimeKpi.lastVideoAdPlayingTime")}),e.asyncRemoveSubListener("widget.adViewable",n),e.addDataCleanListener("widget.adViewable","ad_viewable")},l=function(){e.amby.get("ad.status")===go.states.STATUS_PLAYING&&(e.amby.dispatch(tt.upsertState({adViewableTimeKpi:{lastVideoAdPlayingTime:Date.now()}})),e.updateKpiCustomData("video_ad_playing",{videoStartDelay:Date.now()-e.amby.get("player.scrollReached")}),e.asyncRemoveSubListener("ad.status",l),e.addDataCleanListener("ad.status","video_ad_playing"))},c=function(){e.amby.dispatch(tt.setTriggerToTrue("sensor.resendAdHashKpi")),e.asyncRemoveSubListener("ad.adHash",c)},h=function(){e.amby.get("ad.loaded")&&e.amby.get("widget.renderTime")&&(e.updateKpiCustomData("ad_loaded_buffer",{loadedBufferTime:Date.now()-e.amby.get("widget.renderTime")}),e.asyncRemoveSubListener("ad.loaded",h),e.addDataCleanListener("ad.loaded","ad_loaded_buffer"))};return{"player.InPoint":i,"widget.renderTime":i,"widget.blurred":t,"player.scrollReached":a,"widget.exposure":s,"widget.adViewable":n,"ad.status":l,"ad.adHash":c,"ad.loaded":h}},r.prototype.getDeletableSubTriggerListenersMap=function(){var e=this,t=function(){e.amby.get("player.scrollReached",!1)&&(e.updateKpiCustomData("vpaid",{impressionDelay:Date.now()-e.amby.get("player.scrollReached")}),e.asyncRemoveTriggerListener("ad.vpaid",t),e.addDataCleanTriggerListener("ad.vpaid","vpaid"))},i=function(){e.amby.get("player.scrollReached",!1)&&(e.updateKpiCustomData("impression",{impressionDelay:Date.now()-e.amby.get("player.scrollReached")}),e.asyncRemoveTriggerListener("ad.impression",i),e.addDataCleanTriggerListener("ad.impression","impression"))};return{"ad.vpaid":t,"ad.impression":i}},r.prototype.addDataCleanTriggerListener=function(e,t){var i=this,a=function(){var s;i.amby.dispatch(tt.upsertState({customDataKpi:(s={},s[t]=null,s)})),setTimeout(function(){i.amby.removeTriggerListener(e,a)})};this.amby.addTriggerListener(e,a)},r.prototype.addDataCleanListener=function(e,t){var i=this,a=function(){var s;i.amby.dispatch(tt.upsertState({customDataKpi:(s={},s[t]=null,s)})),setTimeout(function(){i.amby.removeSubListener(e,a)})};this.amby.addSubListener(e,a)},r.prototype.createPlacementObserver=function(e){var t=this,i=null;this.placementIO=new IntersectionObserver(function(a){var s=a[0]&&a[0].isIntersecting;s&&!t.amby.get("player.InPoint")&&t.amby.dispatch(tt.upsertState({player:{InPoint:Date.now()}})),!s&&!t.amby.get("player.OutPoint")&&i&&(t.amby.dispatch(tt.upsertState({player:{OutPoint:Date.now()}})),t.amby.dispatch(tt.setTriggerToTrue("widget.exposure"))),i=s},{threshold:0}),this.placementIO.observe(e)},r.prototype.createAdViewableObserver=function(e){var t=this,i,a,s=function(){t.amby.get("ad.status")===go.states.STATUS_PLAYING&&a?i=setTimeout(function(){t.amby.dispatch(tt.setTriggerToTrue("widget.adViewable"))},2e3):clearTimeout(i)};this.adViewableIO=new IntersectionObserver(function(n){a=n[0]&&n[0].isIntersecting,s(),(0,fo.mgDebug)("adViewable intersecting ".concat(a))},{rootMargin:"0px",threshold:.5}),this.amby.addSubListener("ad.status",function(){s()}),this.adViewableIO.observe(e)},r.prototype.createScrollReachedObserver=function(e){var t=this;this.scrollReachedIO=new IntersectionObserver(function(i){var a=i[0]&&i[0].isIntersecting;a&&!t.amby.get("player.scrollReached")&&(t.amby.dispatch(tt.upsertState({player:{scrollReached:Date.now()}})),(0,fo.mgDebug)("Scroll Reached"))},{threshold:.51}),this.scrollReachedIO.observe(e)},r.prototype.addListeners=function(){var e=this,t=function(){e.amby.get("player.InPoint")&&!e.amby.get("player.OutPoint")&&(e.amby.dispatch(tt.upsertState({player:{OutPoint:Date.now()}})),e.amby.dispatch(tt.setTriggerToTrue("widget.exposure")))};window.addEventListener("beforeunload",t),Object.keys(this.deletableSubListeners).forEach(function(i){e.amby.addSubListener(i,e.deletableSubListeners[i])}),Object.keys(this.deletableTriggerListeners).forEach(function(i){e.amby.addTriggerListener(i,e.deletableTriggerListeners[i])}),this.amby.addSubListener("ad.curAdPosition",function(){e.amby.get("ad.curAdPosition")!=="pre"&&(e.placementIO&&e.placementIO.disconnect(),e.adViewableIO&&e.adViewableIO.disconnect(),e.scrollReachedIO&&e.scrollReachedIO.disconnect(),window.removeEventListener("beforeunload",t),Object.keys(e.deletableSubListeners).forEach(function(i){e.amby.removeSubListener(i,e.deletableSubListeners[i])}),Object.keys(e.deletableTriggerListeners).forEach(function(i){e.amby.removeTriggerListener(i,e.deletableTriggerListeners[i])}),e.amby.dispatch(tt.upsertState({player:{InPoint:null}})),e.amby.dispatch(tt.upsertState({player:{OutPoint:null}})),e.amby.dispatch(tt.upsertState({player:{scrollReached:null}})),e.amby.dispatch(tt.upsertState({adViewableTimeKpi:null})),e.amby.dispatch(tt.deleteProperty("customDataKpi")))})},r}();qa.KpiDataManager=Dh});var la=pe(Ua=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.AdContainerComponent=void 0;var Eh=Ve(),Wa=Pe(),fi=Ce(),Ph=mo(),Ah=He(),Lh=yo(),Bh=function(){function r(e,t,i,a){i===void 0&&(i="ad"),a===void 0&&(a="below");var s=this;this.amby=e,this.mgVideoIndex=this.amby.get("mgVideoIndex"),this.widgetId=this.amby.get("widgetId"),this.position=a,this.playerDiv=document.createElement("div"),this.playerContainer=document.createElement("div"),this.playerDiv.id="mgAdPlayerDiv_".concat(this.mgVideoIndex).concat(i!=="ad"?"_".concat(i.replace(/ /g,"_")):""),this.playerDiv.className="mgAdPlayerDiv adPlayerDiv",this.playerDiv.oncontextmenu=function(c){c.preventDefault()},this.playerContainer.appendChild(this.playerDiv),this.playerContainer.id="mgAdPlayerContainerDiv_".concat(this.mgVideoIndex)+"".concat(i!=="ad"?"_".concat(i.replace(/ /g,"_")):"");var n=this.amby.get("paramsData.isSmart",!1)?"smart":"",l=this.amby.get("formatConfig.name","native");l==="attachedWidget"&&(l="outstream"),l==="native"&&this.amby.get("formatConfig.performance",!1)&&(l="performance"),this.playerContainer.className="mgAdPlayerContainerDiv "+"adPlayerContainerDiv ".concat(n," mgAdPlayerFormat-").concat(l),i!=="ad"&&fi.Helpers.addClass(this.playerContainer,"partial"),this.appendPlayerContainer(t),i==="ad"&&(fi.Helpers.onVisible(this.playerContainer,function(c){s.inSight=c,s.inSight||s.amby.get("player.isSticky",!1)?s.amby.dispatch(Wa.setAdInSight(!0)):s.amby.dispatch(Wa.setAdInSight(!1))},this.amby.get("formatConfig.visiblePart",1),this.amby.get("formatConfig.hiddenPart",.5)),parseFloat(this.amby.get("formatConfig.preheat"))&&this.createPreheatObserver(),this.amby.get("visibilityKpi")&&(this.kpiManager=new Lh.KpiDataManager(this.amby,this.playerContainer))),this.playerContainer.addEventListener("click",function(c){c.target.id!=="timeline"&&s.amby.dispatch(Wa.upsertAdState({containerClicked:!0})),c.cancelBubble=!0}),this.amby.addSubListener("ad.init",function(){s.amby.get("ad.init")===Eh.states.INIT_DONE&&s.amby.get("ad.enableCTA",!1)&&(s.clickThroughButton?s.clickThroughButton.createElement():s.clickThroughButton=new Ph.ClickThroughComponent(s.amby,s.playerDiv))}),this.amby.addSubListener("".concat(i,".visible"),function(){s.amby.get("".concat(i,".visible"))?(fi.Helpers.addClass(s.playerDiv,"showed"),fi.Helpers.addClass(s.playerContainer,"showed")):(fi.Helpers.removeClass(s.playerDiv,"showed"),fi.Helpers.removeClass(s.playerContainer,"showed"))})}return r.prototype.applyPlayerSize=function(e,t){t===void 0&&(t=!1),e&&(this.playerContainer&&(t?(this.playerContainer.style.removeProperty("top"),this.playerContainer.style.removeProperty("left"),this.playerContainer.style.removeProperty("width")):(this.playerContainer.style.top="".concat(e.top,"px"),this.playerContainer.style.left="".concat(e.left,"px"),this.playerContainer.style.width="".concat(e.width,"px")),this.playerContainer.style.height="".concat(e.height,"px")),this.playerDiv&&(this.playerDiv.style.width="".concat(e.pWidth,"px"),this.playerDiv.style.height="".concat(e.pHeight,"px")),this.amby.get("formatConfig.preheat")&&!this.amby.get("ad.preheated",!1)&&(this.preheatObserver.disconnect(),this.createPreheatObserver()))},r.prototype.createPreheatObserver=function(){var e=this;this.preheatMargin=parseFloat(this.amby.get("formatConfig.preheat"))*this.amby.get("ad.size.height"),this.preheatObserver=fi.Helpers.onVisible(this.playerContainer,function(t){t&&((0,Ah.mgDebug)("PreHeat fired in ".concat(e.preheatMargin,"px")),e.amby.dispatch(Wa.upsertState({ad:{preheated:!0,actionPlay:!0}})),e.preheatObserver.disconnect())},.01,0,this.preheatMargin)},r.prototype.appendPlayerContainer=function(e){if(this.baseNode=e,this.position==="above")this.baseNode.insertBefore(this.playerContainer,this.baseNode.children[0]);else if(this.position==="next"){var t=this.playerContainer;(!t.parentNode||t.parentElement.className.indexOf("_mgVideoBlock_".concat(this.widgetId))===-1)&&(t=document.createElement("div"),t.className="_mgVideoBlock_".concat(this.widgetId),t.appendChild(this.playerContainer)),this.baseNode.parentNode.insertBefore(t,this.baseNode.nextSibling)}else this.baseNode.appendChild(this.playerContainer)},r}();Ua.AdContainerComponent=Bh});var da=pe(ja=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ja,"__esModule",{value:!0});ja.CloseButtonComponent=void 0;var si=Pe(),pa=Ce(),sr=Ve(),Oh=function(){function r(e,t,i){i===void 0&&(i=!0),this.amby=e,this.container=t,this.widgetId=this.amby.get("widgetId"),this.getElem(),!this.elem||i?this.createElement():this.addClickListener(),this.addListeners()}return r.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="mgCloseButton adCloseButton",this.amby.get("closeBtn.visible",!1)?pa.Helpers.addClass(this.elem,"showed"):(this.amby.dispatch(si.upsertState({closeBtn:{visible:!1}})),pa.Helpers.removeClass(this.elem,"showed")),this.container.appendChild(this.elem),this.addClickListener()},r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("closeBtn.visible",function(){e.amby.get("closeBtn.visible",!1)?pa.Helpers.addClass(e.elem,"showed"):pa.Helpers.removeClass(e.elem,"showed")}),[1,2].indexOf(this.amby.get("closeBtn.enabled"))>-1&&(this.amby.get("closeBtn.enabled")===1&&this.amby.addSubListener("skipBtn.skipable",function(){e.amby.get("skipBtn.skipable",!1)?e.amby.dispatch(si.upsertState({closeBtn:{visible:!0}})):!e.amby.get("player.isSticky",!1)&&!e.amby.get("player.isAdPlaying",!1)&&e.amby.dispatch(si.upsertState({closeBtn:{visible:!1}}))}),this.amby.addSubListener("ad.status",function(){switch(e.amby.get("ad.status")){case sr.states.STATUS_PLAYING:e.amby.get("closeBtn.enabled")===1&&!e.amby.get("skipBtn.skipable",!1)&&!e.amby.get("player.isSticky",!1)&&e.amby.dispatch(si.upsertState({closeBtn:{visible:!1}}));break;case sr.states.STATUS_STOPPED:case sr.states.STATUS_ERROR:e.amby.get("player.isSticky",!1)||e.amby.dispatch(si.upsertState({closeBtn:{visible:!1}}));break}}),this.amby.addSubListener("player.isSticky",function(){e.amby.get("player.isSticky",!1)&&(["outstream","attachedWidget"].indexOf(e.amby.get("formatConfig.name"))===-1||e.amby.get("skipBtn.skipable",!1)||e.amby.get("closeBtn.enabled")!==1)?e.amby.dispatch(si.upsertState({closeBtn:{visible:!0}})):(!e.amby.get("player.isAdPlaying",!1)&&["outstream","attachedWidget"].indexOf(e.amby.get("formatConfig.name"))===-1||!e.amby.get("skipBtn.skipable",!1)&&e.amby.get("closeBtn.enabled")===1)&&e.amby.dispatch(si.upsertState({closeBtn:{visible:!1}}))}))},r.prototype.addClickListener=function(){var e=this;this.elem&&this.elem.addEventListener("click",function(t){e.amby.dispatch(si.setTriggerToTrue("closeBtn.clicked")),t.cancelBubble=!0})},r.prototype.getElem=function(){return this.widgetBlock||(this.widgetBlock=pa.Helpers.getParentBlockByClass(this.container,"_mgw_".concat(this.widgetId))),this.widgetBlock&&(this.elem=this.widgetBlock.querySelector(".mgCloseCrossButton")||this.widgetBlock.querySelector("div[class*=adCloseButton]")),this.elem},r}();ja.CloseButtonComponent=Oh});var Ya=pe(Pi=>{"use strict";S();_();k();C();I();D();E();var Fa=Pi&&Pi.__assign||function(){return Fa=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Fa.apply(this,arguments)};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.VideoSensorComponent=void 0;var za=Ve(),Nt=Ce(),mt=He(),Mh=2,Rh=function(){function r(e){var t=this;this.amby=e.amby,this.config=e.mgRec.config,this.playlist=e.mgRec.vr_playlist,this.cappingData=e.mgRec.cappingData,this.cappingData||(this.eventsBuffer=[],this.amby.addSubListener("cappingData",function(){t.cappingData=e.mgRec.cappingData,t.playlist=e.mgRec.vr_playlist,t.sendFromBuffer()})),this.templateId=this.config.templateId||"0",this.subId=this.config.subid||0,this.widgetId=e.mgRec.cid,this.eventListeners={},this.resendAdHashKpi=[],this.adHashKpiQueriesSent=!1,this.silentMode=!1;var i=e.mgRec.countersDomain||"c.".concat(e.mgRec.subnetDomain||""),a=e.libConfig.videoSensorUrlTemplate;this.sensorUrl=a.replace("{{DOMAIN}}",i);var s=document.location.protocol;s=s.indexOf("http")===0?s:"https:",this.sensorUrl="".concat(s).concat(this.sensorUrl),this.lastPosition=0,this.impressionTime=0,this.sequenceIndex=0,this.cappingInterval=parseInt(this.config.cappingInterval,10)||15,this.formats={native:"instream",outstream:"outstream"};var n=(0,Nt.getInObject)(e,["mgRec","config","events"]);(Nt.Helpers.getUrlParam("mgwteaser")||Nt.Helpers.getUrlParam("mgwcampaign"))&&(this.silentMode=!0),n&&Object.entries(n).forEach(function(l){var c=l[0],h=l[1];typeof h=="function"?t.on(c,h):typeof h=="string"&&t.on(c,function(){t.createImg(h)})}),this.muidn="-";try{this.muidn=window.localStorage.mgMuidn||"-"}catch(l){(0,mt.mgDebug)(l)}this.preCustomData={},this.addListeners(),(0,mt.mgDebug)("VideoSensorComponent initiated.")}return r.prototype.addListeners=function(){var e=this;this.amby.addTriggerListener(["player","userPlay"],function(){e.callSensor("vr_play")}),this.amby.addTriggerListener(["player","userPause"],function(){e.impressionTime=0,e.callSensor("vr_pause")}),this.amby.addSubListener(["player","status"],function(){var l=e.amby.get("player.status");switch(l){case za.states.STATUS_READY:e.loadFired||(e.loadFired=!0,e.callSensor("vr_load"));break}}),this.amby.addSubListener(["soundNotify"],function(){e.callSensor("sound_notify")}),this.amby.addSubListener(["player","position"],function(){var l=e.amby.get("player.position");if(l&&l>e.lastPosition){e.lastPosition=l;var c=l/e.duration*100;e.impressionTime+=1,!e.impressionTimeSent&&e.impressionTime>=e.cappingInterval&&(e.impressionTimeSent=!0,e.callSensor("vr_capping")),!e.vr25&&c>25&&c<50&&(e.callSensor("vr_progress_25"),e.vr25=!0),!e.vr50&&c>50&&c<75&&(e.callSensor("vr_progress_50"),e.vr50=!0),!e.vr75&&c>75&&c<100&&(e.callSensor("vr_progress_75"),e.vr75=!0)}}),this.amby.addSubListener(["player","complete"],function(){var l=e.amby.get("player.complete",!1);l&&!e.vr100&&e.callSensor("vr_progress_100")}),this.amby.addTriggerListener(["player","seek"],function(){e.lastPosition=e.amby.get("player.position"),e.impressionTime=0}),this.amby.addTriggerListener(["player","firstFrame"],function(){e.reset(),e.callSensor("vr_impression")}),this.amby.addTriggerListener(["player","playerInTeaserClicked"],function(){e.onClickFunc()}),this.amby.addTriggerListener(["player","userMute"],function(){e.callSensor("vr_mute")}),this.amby.addTriggerListener(["player","userUnmute"],function(){e.callSensor("vr_unmute")}),this.amby.addTriggerListener(["closeBtn","clicked"],function(){e.callSensor("vr_close")}),this.amby.addTriggerListener(["player","nextClicked"],function(){e.callSensor("vr_next")}),this.amby.addTriggerListener("player.openPage",function(){e.callSensor("vr_open_page")}),this.amby.addSubListener("ad.status",function(){switch(e.amby.get("ad.status")){case za.states.STATUS_READY:e.resetAdVars(),e.fireEvent("load"),e.callSensor("load",!0);break;case za.states.STATUS_ERROR:e.fireEvent("error"),e.callSensor("error",!0);break;case za.states.STATUS_PLAYING:e.amby.get("visibilityKpi")&&(setTimeout(function(){e.callSensor("video_ad_playing",!0)},0),(0,mt.mgDebug)("VideoAdPlaying sent"));break}}),this.amby.addTriggerListener("player.next",function(){e.callSensor("vr_next")}),this.amby.addTriggerListener("player.previous",function(){e.callSensor("vr_previous")}),this.amby.addTriggerListener("player.next_2",function(){e.callSensor("vr_next_2")}),this.amby.addTriggerListener("player.expandBtnClicked",function(){e.callSensor("vr_expand")}),this.amby.addSubListener("player.quality",function(){e.amby.get("player.quality","360p")==="720p"?e.callSensor("vr_hd_on"):e.callSensor("vr_hd_off")}),this.amby.addSubListener("ad.inSight",function(){!e.inviewSent&&e.amby.get("ad.inSight")&&(e.inviewSent=!0,e.callSensor("inview",!0))}),this.amby.addTriggerListener("ad.impression",function(){var l=new CustomEvent("mgmetrics",{bubbles:!0,composed:!0,detail:{name:"ad.impression",data:""}});window.dispatchEvent(l),e.fireEvent("impression",{hash:e.amby.get("ad.adHash")}),setTimeout(function(){var c=(0,Nt.getInObject)(e.playlist,[e.itemIndex,"id"],0);e.widgetId===1272143&&Number(c)<1e4&&!e.amby.get("ad.adHash")&&(e.preCustomData={vastXml:e.amby.get("vastXml")}),e.callSensor("impression",!0),e.preCustomData={}},0),e.preCustomData={exposureTime:new Date().getTime()-window.performance.timing.navigationStart},e.config.sendRawEvents&&e.callSensor("rawimpression",!0),e.preCustomData={}}),this.amby.addTriggerListener("ad.complete",function(){e.fireEvent("complete"),e.callSensor("complete",!0),e.resetAdVars()}),this.amby.addTriggerListener("ad.vpaid",function(){setTimeout(function(){e.callSensor("vpaid",!0)},0)}),this.amby.addTriggerListener("ad.paid",function(){e.callSensor("impression",!0)}),this.amby.addTriggerListener("ad.clicked",function(){e.fireEvent("click"),e.callSensor("click",!0)}),this.amby.addTriggerListener("ad.skip",function(){e.fireEvent("skip"),e.callSensor("skip",!0)}),this.amby.addTriggerListener("ad.closed",function(){e.callSensor("close",!0)}),this.amby.addTriggerListener("ad.passback",function(){e.callSensor("passback",!0)}),this.amby.addTriggerListener("ad.mute",function(){e.callSensor("mute",!0)}),this.amby.addTriggerListener("ad.unmute",function(){e.callSensor("unmute",!0)}),this.amby.addTriggerListener("ad.unmuteraw",function(){e.config.sendRawEvents&&e.callSensor("unmuteraw",!0)}),this.amby.addTriggerListener("ad.inventory",function(){e.callSensor("adinventory",!0)}),this.amby.addTriggerListener("widget.rawplayer",function(){e.preCustomData={exposureTime:new Date().getTime()-window.performance.timing.navigationStart},e.config.sendRawEvents&&e.callSensor("rawplayer",!0),e.preCustomData={}}),this.amby.addTriggerListener("widget.rawinit",function(){e.preCustomData={exposureTime:new Date().getTime()-window.performance.timing.navigationStart},e.config.sendRawEvents&&e.callSensor("rawinit",!0),e.preCustomData={}}),this.amby.addTriggerListener("ad.rejected",function(){e.callSensor("rejected",!0)});var t=function(l){return function(){e.amby.get("player.InPoint")&&e.amby.get("widget.renderTime")&&(setTimeout(function(){e.callSensor("render_buffer",!0),e.amby.removeSubListener(l,t)},0),(0,mt.mgDebug)("Render buffer sent"))}};this.amby.addSubListener("player.InPoint",t("player.InPoint")),this.amby.addSubListener("widget.renderTime",t("widget.renderTime"));var i=function(){setTimeout(function(){e.callSensor("scroll_buffer",!0),e.amby.removeSubListener("player.scrollReached",i)},0),(0,mt.mgDebug)("Scroll buffer sent")};this.amby.addSubListener("player.scrollReached",i);var a=function(){setTimeout(function(){e.amby.get("customDataKpi.ad_loaded_buffer.loadedBufferTime")&&(e.callSensor("ad_loaded_buffer",!0),(0,mt.mgDebug)("Ad Loaded buffer sent"),e.amby.removeSubListener("ad.loaded",a))},0)};this.amby.addSubListener("ad.loaded",a);var s=function(){(0,mt.mgDebug)("widget.adViewable triggered"),e.amby.get("adViewableTimeKpi.lastVideoAdPlayingTime")&&setTimeout(function(){e.callSensor("ad_viewable",!0),e.amby.removeSubListener("widget.adViewable",s)}),(0,mt.mgDebug)("adViewable sent")};this.amby.addSubListener("widget.adViewable",s);var n=function(){setTimeout(function(){e.callSensor("exposure",!0),e.amby.removeSubListener("widget.adViewable",s)}),(0,mt.mgDebug)("exposure sent")};this.amby.addSubListener("widget.exposure",n),this.amby.addTriggerListener("sensor.resendAdHashKpi",function(){if(e.amby.get("ad.playerEngine")==="vpaid")for(;e.resendAdHashKpi.length>0;){var l=new URL(e.resendAdHashKpi.pop());l.searchParams.set("h",e.amby.get("ad.adHash")),e.createImg(l.toString())}e.adHashKpiQueriesSent=!0,(0,mt.mgDebug)("AdHashKpi queries sent")})},r.prototype.addTeasersListeners=function(){for(var e=this,t=this.amby.get("teasers",[]),i=0;i<t.length;i++)this.amby.addTriggerListener(["teasers",i,"clicked"],function(){e.onClickFunc()}),this.amby.addTriggerListener(["teasers",i,"autoClicked"],function(){e.onClickFunc(!0)})},r.prototype.getFormat=function(){var e=this.amby.get("formatConfig.name");return this.formats[e]||"unknown"},r.prototype.callSensor=function(e,t){if(t===void 0&&(t=!1),this.silentMode)return!1;var i=this.makeSrcObj(e,this.sensorUrl,this.widgetId,this.templateId);t?(this.itemIndex=this.amby.get("player.itemIndex",0),i.tid=(0,Nt.getInObject)(this.playlist,[this.itemIndex,"id"],0),this.amby.get("ad.adPlayer")===Mh&&(i.tid=this.amby.get("ad.adTag")),i.customData=Fa(Fa({},this.preCustomData),{timeOffset:this.amby.get("ad.position",0),muidn:this.muidn,playerEngine:this.amby.get("ad.playerEngine","unknown"),adPlayer:this.amby.get("ad.adPlayer")||0,uuid:this.config.uuid||"",subId:parseInt(this.subId,10)||0,sticky:this.amby.get("player.isSticky",!1)?1:0,viewable:this.amby.get("ad.inSight",!1)?100:0}),i=this.initDataByAdEvent(e,i),this.getFromCappingData(i.customData),this.amby.get("ad.adHash")?i.clickAdditionH=this.amby.get("ad.adHash"):(0,Nt.getInObject)(this.playlist,[this.itemIndex,"hash"])&&(i.clickAdditionH=(0,Nt.getInObject)(this.playlist,[this.itemIndex,"hash"])),this.sourceShowHash&&this.sourceShowHash!==(0,Nt.getInObject)(this.playlist,[this.itemIndex,"hash"])&&(i.clickAdditionV=this.sourceShowHash)):(i.customData={vrViewable:0,sticky:0,playlistSeq:this.sequenceIndex,uuid:this.config.uuid||"",format:this.getFormat(),muidn:this.muidn,playerEngine:this.amby.get("ad.playerEngine","unknown")},this.playlist&&this.playlist[this.amby.get("player.itemIndex",0)]&&(this.itemIndex=this.amby.get("player.itemIndex",0),i.tid=this.playlist[this.itemIndex].id,i.clickAdditionH="".concat(this.playlist[this.itemIndex].hash),this.getFromCappingData(i.customData),this.initDataByEvent(e,i))),this.amby.get("visibilityKpi")&&this.amby.get("customDataKpi.".concat(e))&&((0,mt.mgDebug)(this.amby.get("customDataKpi.".concat(e))),i.customData=Object.assign(i.customData,this.amby.get("customDataKpi.".concat(e))));var a=Nt.Helpers.attachRequestParams(i.generateSrc());return this.needRepeatKpiEvent(e)&&this.resendAdHashKpi.push(a),this.sendGA(e),(0,mt.mgDebug)("Event ".concat(e," fired.").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),(0,mt.mgDebug)("Generated link: ".concat(a)),this.cappingData?this.createImg(a):t?this.addToBuffer(a):!1},r.prototype.initDataByAdEvent=function(e,t){switch(e){case"complete":t.customData={timeOffset:Math.floor(this.amby.get("ad.duration",1))};break;case"vpaid":case"skip":case"click":case"close":t.customData={adTag:this.amby.get("ad.adTag"),videoUrl:this.amby.get("ad.videoUrl"),adClickUrl:this.amby.get("ad.adClickUrl")};break;case"unmuteraw":t.customData={videoUrl:this.amby.get("ad.unmuteMediaSrc")};break;case"impression":t.customData.timems=Date.now(),t.customData.impHash=Nt.Helpers.md5("".concat(this.amby.get("ad.adHash"),"_").concat(this.muidn,"_").concat(t.customData.timems)),this.amby.get("ad.poc")&&(t.customData.poc=this.amby.get("ad.poc"));break;case"load":this.cappingData&&this.amby.get("servLib")&&(t.customData.badLibVer=this.amby.get("servLib"));break;case"error":e==="error"&&(t.customData.errorMessage=encodeURIComponent(this.amby.get("ad.errorMessage")));break}return t},r.prototype.initDataByEvent=function(e,t){var i;switch(e){case"vr_click":case"vr_auto_click":this.cappingData?typeof this.cappingData.isBot<"u"?t.customData.isBot=this.cappingData.isBot:t.customData.isBot=0:t.customData.isBot="{isBot}",t.srcItemIndex=this.itemIndex,this.sourceShowHashUpdated===!1&&(t.clickAdditionV+=this.sourceShowHash);break;default:i=e==="vr_progress_100"?this.duration:this.amby.get("player.position",0),t.customData.timeOffset=Math.floor(i),e.indexOf("vr_")===0&&this.sourceShowHash&&this.sourceShowHash!==this.playlist[this.itemIndex].hash&&(t.clickAdditionV=this.sourceShowHash),e==="sound_notify"&&(t.customData.msg=this.amby.get("soundNotify"));break}return t},r.prototype.needRepeatKpiEvent=function(e){return!this.amby.get("ad.adHash",!1)&&!this.adHashKpiQueriesSent&&["render_buffer","scroll_buffer","exposure","ad_loaded_buffer","video_ad_playing"].indexOf(e)>-1},r.prototype.onClickFunc=function(e){e===void 0&&(e=!1);var t=this.amby.get("player.itemIndex",0);this.sourceShowHashUpdated=!0,this.sourceShowHash=this.playlist[t].hash,this.callSensor(e?"vr_auto_click":"vr_click")},r.prototype.reset=function(){this.lastPosition=0,this.duration=this.amby.get("player.duration",1),this.impressionTime=0,this.impressionTimeSent=!1,this.vr25=!1,this.vr50=!1,this.vr75=!1,this.vr100=!1,this.progress10s=!1,this.progress20s=!1,this.sourceShowHashUpdated===!0&&(this.sourceShowHashUpdated=!1),this.sequenceIndex+=1},r.prototype.createImg=function(e){Nt.Helpers.createImg(e)},r.prototype.resetAdVars=function(){this.lastAdPosition=0},r.prototype.sendGA=function(e){if(this.amby.get("ga_id",!1)){var t="https://www.google-analytics.com/collect?v=1&tid=".concat(this.amby.get("ga_id"))+"&t=event&ec=MgPlayer&cid=1&ea=".concat(e,"&dl=").concat(encodeURIComponent(window.location!==window.parent.location?document.referrer:document.location.href));(0,mt.mgDebug)("GA: ".concat(t)),this.createImg(t)}},r.prototype.on=function(e,t){Object.prototype.hasOwnProperty.call(this.eventListeners,e)||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},r.prototype.fireEvent=function(e,t){t===void 0&&(t=null),Object.prototype.hasOwnProperty.call(this.eventListeners,e)&&this.eventListeners[e].forEach(function(i){setTimeout(function(){try{i(t)}catch(a){(0,mt.mgDebug)("VideoSensorComponent ERROR: event ".concat(e,": ").concat(a))}},0)})},r.prototype.getFromCappingData=function(e){this.cappingData?(this.cappingData.tt&&(e.tt=this.cappingData.tt),this.cappingData.ts&&(e.ts=this.cappingData.ts),this.cappingData.psid&&(e.psid=this.cappingData.psid)):(e.tt="{tt}",e.ts="{ts}",e.psid="{psid}")},r.prototype.addToBuffer=function(e){this.eventsBuffer||(this.eventsBuffer=[]),this.eventsBuffer.push(e)},r.prototype.sendFromBuffer=function(){for(var e=this,t=function(){var a=i.eventsBuffer.shift();setTimeout(function(){var s=new URL(a),n=JSON.parse(s.searchParams.get("o"));n.tt&&(e.cappingData.tt?n.tt=e.cappingData.tt:delete n.tt),n.ts&&(e.cappingData.ts?n.ts=e.cappingData.ts:delete n.ts),n.psid&&(e.cappingData.psid?n.psid=e.cappingData.psid:delete n.psid),n.isBot&&(typeof e.cappingData.isBot<"u"?n.isBot=e.cappingData.isBot:n.isBot=0),e.amby.get("servLib")?n.badLibVer=e.amby.get("servLib"):n.badLibVer&&delete n.badLibVer,s.searchParams.set("o",JSON.stringify(n)),e.createImg(s.href)},0)},i=this;this.eventsBuffer.length>0;)t()},r.prototype.makeSrcObj=function(e,t,i,a){return{sensorUrl:t,tid:null,clickAdditionV:null,widgetId:i,eventName:e,clickAdditionH:null,customData:null,templateId:a,adTag:null,srcItemIndex:null,generateSrc:function(){return"".concat(this.sensorUrl,"?").concat(this.tid?"tid=".concat(this.tid,"&"):"","iid=").concat(this.widgetId,"&e=").concat(this.eventName,"&h=").concat(this.clickAdditionH,"&o=").concat(encodeURIComponent(JSON.stringify(this.customData)),"&t=").concat(this.templateId).concat(this.clickAdditionV?"&v=".concat(this.clickAdditionV):"").concat(this.srcItemIndex?"&src=".concat(this.srcItemIndex):"","&c=").concat(Math.floor(Math.random()*65535))}}},r}();Pi.VideoSensorComponent=Rh});var Za=pe($a=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty($a,"__esModule",{value:!0});$a.MoveToBodyComponent=void 0;var Hh=function(){function r(e,t){this.widgetId=e,this.playerContainerDiv=t}return r.prototype.attachBody=function(){var e=document.body.querySelector("body > ._mgVideoBlock_".concat(this.widgetId,":last-child"));e?e.appendChild(this.playerContainerDiv):(e=document.createElement("div"),e.className="_mgVideoBlock_".concat(this.widgetId),e.appendChild(this.playerContainerDiv),document.body.appendChild(e))},r.prototype.detachBody=function(e){e.appendChild(this.playerContainerDiv)},r}();$a.MoveToBodyComponent=Hh});var Ja=pe(Xa=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.StyleComponent=void 0;var Nh=He(),Gh=function(){function r(e){this.amby=e.amby,this.rootElement=e.rootElement,this.widgetId=this.amby.get("widgetId");var t=document.location.protocol;if(t=t.indexOf("http")===0?t:"https:",this.styleUrl=this.amby.get("formatConfig.styleUrl"),this.styleUrl)this.styleUrl=this.styleUrl.replace("{{DOMAIN}}",this.amby.get("subnetDomain","")),this.styleUrl=this.styleUrl.replace(/^(https?:\/\/|\/\/)/,"".concat(t,"//"));else{var i='@keyframes preload{from{transform:rotate(0)}to{transform:rotate(360deg)}}@-webkit-keyframes preload{from{transform:rotate(0)}to{transform:rotate(360deg)}}html>div{display:none!important}.mg2player{position:relative;width:100%;height:100%;overflow:hidden}.mg2player,.mg2player *{font-family:"Open Sans",sans-serif;box-sizing:border-box}.mg2player_mute .mg2player__volume:not(.mghover):not(.showed){opacity:0;visibility:hidden}.mg2player__video{position:absolute;top:50%;left:50%;width:100%;height:100%;-o-object-fit:contain;object-fit:contain;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transform:translate(-50%,-50%)}.mg2player:not(.mg2player_playing) .mg2player__video[poster]{-o-object-fit:cover;object-fit:cover}.mg2player__preload{position:absolute;top:50%;left:50%}.mg2player__controls{position:absolute;bottom:0;left:0;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff;padding-top:10px;transition:opacity .3s ease,visibility .3s ease}.mg2player__controls:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;visibility:hidden;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,0)),to(rgba(0,0,0,.85)));background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%);background:linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,.85) 100%)}.mg2player__controls-cover{position:relative;z-index:2;margin-right:25px}.mg2player__controls-wrap{display:block;width:100%;height:30px}.mg2player__controls-wrap>*{display:table-cell}.mg2player_HD,.mg2player__btn,.mg2player__close,.mg2player__custom-btn,.mg2player__expand,.mg2player__play-btn,.mg2player__play-next,.mg2player__preload,.mg2player__start-btn,.mg2player__volume{line-height:1}.mg2player__preload{position:absolute;color:#fff;opacity:0;visibility:hidden;-webkit-animation:preload 1.5s infinite linear;animation:preload 1.5s infinite linear;transition:opacity .1s ease,visibility .1s ease;margin:-12px 0 0 -12px}.mg2player_preload .mg2player__preload{opacity:1;visibility:visible}.mg2player__preload:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#spinner");content:"";width:24px;height:24px;display:block;transform:scale(1.25)}.mg2player__play-btn,.mg2player__play-next{position:relative;width:30px;height:30px;cursor:pointer}.mg2player_HD{position:absolute;right:0;bottom:auto;width:20px;height:20px;top:50%;transform:translate(0,-50%);cursor:pointer}.mg2player__play-btn:after,.mg2player__play-btn:before{position:absolute;top:0;left:0;width:24px;height:24px;transform:scale(1.25)}.mg2player__play-btn:before,.mg2player__start-btn:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#play_arrow");content:"";width:24px;height:24px;display:block}.mg2player__play-btn:after,.mg2player__start-btn:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#pause");content:"";width:24px;height:24px;display:none}.mg2player__start-btn:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#pause");content:"";width:24px;height:24px;display:none}.mg2player__play-next:before{position:absolute;font-size:30px;top:0;left:0;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#skip_next");content:"";width:24px;height:24px;display:block;transform:scale(1.25)}.mg2player_HD_disabled{color:#bbb}.mg2player_HD:before{position:absolute;top:-4px;left:-4px;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#hd");content:"";width:24px;height:24px;display:block;transform:scale(1.25)}.mg2player__start-btn{position:absolute;width:60px;height:60px;color:#fff;cursor:pointer;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%;background-color:rgba(0,0,0,.3);border:3px rgba(255,255,255,.5) solid}.mg2player__start-btn:after,.mg2player__start-btn:before{top:50%;left:50%;content:"";transform:translate(-50%,-50%) scale(2.17)}.mg2player:hover:not(.mg2player_playing) .mg2player__start-btn.mghover{background-color:rgba(0,0,0,.7);border:3px #fff solid;transition:background-color .15s ease-in-out,border-color .15s ease-in-out}.mg2player.mg2player_playing:hover .mg2player__start-btn.mghover{transition:none}.mg2player_playing .mg2player__play-btn:before,.mg2player_playing .mg2player__start-btn:before{display:none}.mg2player_playing .mg2player__play-btn:after,.mg2player_playing .mg2player__start-btn:after{display:block}.mg2player__time{font-size:11px;white-space:nowrap;padding:0 4px;width:1px;vertical-align:middle}.mg2player__time_slash{padding-left:0;padding-right:0}.mg2player__track{position:relative;z-index:2;vertical-align:middle;padding:0 5px;margin-bottom:4px;cursor:pointer}.mg2player__track-wrap{position:relative;height:2px;background:rgba(255,255,255,.2);vertical-align:inherit;width:100%;transition:height .2s}.mg2player__controls:hover .mg2player__track-wrap{height:5px}.mg2player__track-buffer{position:absolute;left:0;height:100%;background:rgba(255,255,255,.4)}.mg2player__track-played{position:absolute;left:0;height:100%;background:red}.mg2player__track-point{position:absolute;top:50%;background:red;width:10px;height:10px;border-radius:50%;margin-left:-5px;margin-top:-5px;cursor:pointer}.mg2player__volume{position:absolute;bottom:0;right:0;width:30px;height:30px;cursor:pointer;color:#fff;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease;z-index:3;margin-bottom:-3px;margin-right:-3px}.mg2player__volume:after,.mg2player__volume:before{position:absolute;font-size:30px;width:24px;height:24px;content:"";transform:scale(1.25)}.mg2player__volume:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_down_red");display:block}.mg2player__volume:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_off_red");display:none}.mg2player_mute .mg2player__volume:before{display:none}.mg2player_mute .mg2player__volume:after{display:block}.mg2player_controls .mg2player_mute .mg2player__volume{opacity:1;visibility:visible}.mg2player__volume-bar{display:none;position:absolute;bottom:100%;left:0;width:100%;height:70px;padding:3px 3px 15px 3px;border-radius:2px}.mg2player__volume-wrap{width:30%;position:relative;top:0;left:50%;transform:translate(-50%,0);height:100%;background:rgba(255,255,255,.4);cursor:pointer;border-radius:2px}.mg2player__volume-level{background:red;width:100%;height:100%;bottom:0;left:0;position:absolute;border-radius:2px}.mg2player__volume:hover .mg2player__volume-bar{display:block}.mg2player__close,.mg2player__expand{position:absolute;top:2px;cursor:pointer;color:#fff;font-size:20px}.mg2player__expand{left:5px}.mg2player__close{right:5px}.mg2player__expand:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#expand");content:"";width:24px;height:24px;display:block}.mg2player__close:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#cancel");content:"";width:24px;height:24px;display:block}.mg2player__time{font-size:12px;cursor:default}.mg2player__title{position:absolute;top:0;left:0;width:100%;z-index:9999;line-height:22px;font-weight:500;font-size:17px;color:#fff;font-family:Roboto,sans-serif;padding:10px 20px 0;text-align:left;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mg2player__custom-btn{padding:4px}.mg2player__custom-btn>img{width:100%;height:100%}.mg2player_HD:before,.mg2player__btn,.mg2player__close:before,.mg2player__custom-btn,.mg2player__expand:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__start-btn:after,.mg2player__start-btn:before,.mg2player__time,.mg2player__title,.mg2player__track-point,.mg2player__volume:after,.mg2player__volume:before{text-shadow:2px 1px 2px #000}.mg2player__center{text-align:center;vertical-align:middle}.mg2player__btn{position:absolute;top:50%;margin-top:-20px;color:#fff;font-size:40px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease}.mg2player__btn_left{left:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-start;margin-top:-10px}.mg2player__btn_right{right:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-end;margin-top:-10px}.mg2player__btn_left:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#navigate_before");content:"";width:24px;height:24px;display:block;transform:scale(2)}.mg2player__btn_right:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#navigate_next");content:"";width:24px;height:24px;display:block;transform:scale(2)}.mg2player_HD,.mg2player__close,.mg2player__custom-btn,.mg2player__expand,.mg2player__play-btn,.mg2player__play-next,.mg2player__start-btn,.mg2player__time,.mg2player__title,.mg2player__track,.mg2player__volume{opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.mg2player__expand.showed,.mg2player_controls .mg2player_HD.showed,.mg2player_controls .mg2player__btn.showed,.mg2player_controls .mg2player__close.showed,.mg2player_controls .mg2player__custom-btn.showed,.mg2player_controls .mg2player__play-btn.showed,.mg2player_controls .mg2player__play-next.showed,.mg2player_controls .mg2player__start-btn.showed,.mg2player_controls .mg2player__time.showed,.mg2player_controls .mg2player__title.showed,.mg2player_controls .mg2player__track.showed,.mg2player_controls .mg2player__volume.showed{opacity:1;visibility:visible}.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player_HD.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__btn.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__close.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__custom-btn.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__play-btn.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__play-next.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__time.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__track.mghover,.mg2player.mg2player_controls:not(.mg2player_playing) .mg2player__volume.mghover,.mg2player:not(.mg2player_playing) .mg2player__start-btn.mghover,.mg2player:not(.mg2player_playing) .mg2player__title.mghover,.mg2player:not(.mg2player_playing):before{opacity:1;visibility:visible}.mg2player.mg2player_controls:hover .mg2player_HD.mghover,.mg2player.mg2player_controls:hover .mg2player__btn.mghover,.mg2player.mg2player_controls:hover .mg2player__close.mghover,.mg2player.mg2player_controls:hover .mg2player__controls.mghover:before,.mg2player.mg2player_controls:hover .mg2player__custom-btn.mghover,.mg2player.mg2player_controls:hover .mg2player__play-btn.mghover,.mg2player.mg2player_controls:hover .mg2player__play-next.mghover,.mg2player.mg2player_controls:hover .mg2player__time.mghover,.mg2player.mg2player_controls:hover .mg2player__track.mghover,.mg2player.mg2player_controls:hover .mg2player__volume.mghover,.mg2player:hover .mg2player__expand.mghover,.mg2player:hover .mg2player__title.mghover{opacity:1;visibility:visible}.mg2player__track{-moz-flex:1;flex:1}.mg2player__time_slash{-moz-flex:0 0 8px;flex:0 0 8px}.mg2player.mgred:before{content:"";position:absolute;top:0;right:0;left:0;padding-bottom:14%;z-index:1;opacity:0;visibility:hidden;pointer-events:none;background:-webkit-gradient(linear,left top,left bottom,from(#010102),color-stop(50%,rgba(1,1,2,.4)),color-stop(80%,rgba(1,1,2,.1)),to(rgba(1,1,2,0)));background:-webkit-linear-gradient(top,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%);background:-moz-linear-gradient(top,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%);background:-o-linear-gradient(top,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%);background:linear-gradient(to bottom,#010102 0,rgba(1,1,2,.4) 50%,rgba(1,1,2,.1) 80%,rgba(1,1,2,0) 100%)}.mg2player.mgred .mg2player__controls-wrap{display:-ms-flex;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.mg2player.mgred .mg2player_HD{position:relative}.ctplay .mg2player.mgred .mg2player__start-btn,.ctplay .mg2player.mgred .mg2player__start-btn.mghover,.mg2player.mgred .mg2player__start-btn,.mg2player.mgred .mg2player__start-btn.mghover{background:red;border-color:red;transition:background-color 1s}.ctplay .mg2player.mgred:hover:not(.mg2player_playing) .mg2player__start-btn.mghover,.mg2player.mgred:hover:not(.mg2player_playing) .mg2player__start-btn.mghover{background-color:rgba(1,0,0,.1);border-color:red}.mg2player.mgred.mg2player_playing:hover .mg2player__start-btn.mghover{transition:none}.mg2player.mgred .mg2player__time{-ms-grid-row-align:center;align-self:center}.mg2player.mgred .mg2player__track-wrap{top:50%}.mg2player.mgred .mg2player__volume{color:red}.mg2player.mgred .mg2player__start-btn:before{text-shadow:none;position:relative}.mg2player.mgred .mg2player_HD,.mg2player.mgred .mg2player__custom-btn,.mg2player.mgred .mg2player__play-btn,.mg2player.mgred .mg2player__play-next,.mg2player.mgred .mg2player__time,.mg2player.mgred .mg2player__track,.mg2player.mgred .mg2player__volume{-moz-flex:0 0 35px;flex:0 0 35px}.mg2player.mgred .mg2player__track{-moz-flex:1;flex:1}.mg2player.mgred .mg2player__time_slash{-moz-flex:0 0 8px;flex:0 0 8px}.mg2player.mgred .mg2player_HD,.mg2player.mgred .mg2player__play-btn,.mg2player.mgred .mg2player__play-next,.mg2player.mgred .mg2player__time,.mg2player.mgred .mg2player__track{opacity:1;visibility:visible;display:none}.mg2player.mgred.mg2player_controls .mg2player_HD.showed,.mg2player.mgred.mg2player_controls .mg2player__custom-btn.showed,.mg2player.mgred.mg2player_controls .mg2player__play-btn.showed,.mg2player.mgred.mg2player_controls .mg2player__play-next.showed,.mg2player.mgred.mg2player_controls .mg2player__time.showed,.mg2player.mgred.mg2player_controls .mg2player__track.showed{display:block}.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player_HD.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__custom-btn.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__play-btn.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__play-next.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__time.mghover,.mg2player.mgred.mg2player_controls:not(.mg2player_playing) .mg2player__track.mghover,.mg2player.mgred:not(.mg2player_playing):before{display:block}.mg2player.mgred.mg2player_controls:hover .mg2player_HD.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__custom-btn.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__play-btn.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__play-next.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__time.mghover,.mg2player.mgred.mg2player_controls:hover .mg2player__track.mghover{display:block}.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__close.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__custom-btn.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__play-btn.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__play-next.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__start-btn.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__time.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__track.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__volume.mghover,.ctplay .mg2player.mgred:not(.mg2player_playing) .mg2player__volume.showed{opacity:1;visibility:visible;display:block}.mg2player.mgred .mg2player__volume-bar{padding:3px}@media only screen and (max-device-width:480px){.mg2player.mgred .mg2player__start-btn:before{top:0}.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__volume:after,.mg2player__volume:before{transform:scale(.83)}}@media (max-width:480px){.mg2player__controls-cover{margin-right:30px}.mg2player__preload:before{transform:scale(2)}.mg2player_HD,.mg2player__play-btn,.mg2player__play-next,.mg2player__volume{width:30px;height:30px}.mg2player__time{font-size:12px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__volume:after,.mg2player__volume:before{transform:scale(.8)}.mg2player__start-btn{width:80px;height:80px;font-size:70px}.mg2player.mgred .mg2player__start-btn:before{top:26px;left:26px;transform:scale(2.91);width:24px;height:24px}.mg2player__volume:hover .mg2player__volume-bar{display:none}}@media (min-width:768px){.mg2player__controls-cover{margin-right:30px}.mg2player__preload:before{transform:scale(1.6)}.mg2player_HD,.mg2player__play-btn,.mg2player__play-next,.mg2player__volume{width:30px;height:30px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before{top:0;left:0}.mg2player__time{font-size:12px}.mg2player__start-btn{width:80px;height:80px}.mg2player__start-btn:after,.mg2player__start-btn:before{transform:scale(3.33);margin:-12px 0 0 -12px}}@media (min-width:1024px){.mg2player__preload:before{transform:scale(2)}.mg2player__controls-cover{margin:2px 35px 2px 5px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before{top:4px;left:4px}.mg2player__track{padding:0 10px}.mg2player__volume{bottom:2px;right:5px}.mg2player_HD:before,.mg2player__play-btn:after,.mg2player__play-btn:before,.mg2player__play-next:before,.mg2player__volume:after,.mg2player__volume:before{font-size:30px;transform:scale(1.25)}.mg2player__expand{font-size:30px;transform:scale(1.25)}.mg2player__close{font-size:32px;transform:scale(1.33)}.mg2player__btn{font-size:50px;width:40px;overflow:hidden}.mg2player__btn_left:before{position:relative}.mg2player__btn_right:before{position:relative}.mg2player__start-btn{width:90px;height:90px;font-size:80px}}.video-info__wrap{font-family:Roboto,sans-serif}.fake>.video-info__centering,.video-info__centering{display:table;width:100%;height:100%}.video-info__centering-cell{display:table-cell;vertical-align:middle;text-align:center;padding:20px 0}.video-info__wrap{margin:0 auto;background:#000;max-width:1100px;width:-webkit-calc(100vw - 40px);width:-moz-calc(100vw - 40px);width:calc(100vw - 40px);position:relative;box-shadow:0 0 150px 0 rgba(0,0,0,.9);text-align:left}div.video-info__player{position:relative;height:100%}div.video-info__player.ad-loading .mg2player .mg2player__preload{visibility:visible;opacity:1}div.video-info__player.ad-loading div.adPlayerContainerDiv.showed,div.video-info__player.ad-loading div.mgAdPlayerContainerDiv.showed{background-color:transparent!important}.video-info__title{background:#111;padding:10px}.video-info__title-cell{font-weight:300;font-size:13px;line-height:1.3;margin-bottom:3px;color:#fff}.video-info__sub-title{color:#898989;font-size:11px;line-height:1.3}.mgCloseCrossButton{background:#000;position:absolute;top:0;right:0;width:19px;height:19px;margin:-19px -19px 0 0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mgCloseCrossButton:after,.mgCloseCrossButton:before{content:"";position:absolute;background:#777;transform:rotate(-45deg);transition:background .2s ease}.mgCloseCrossButton:after{width:1px;height:11px;top:4px;left:9px}.mgCloseCrossButton:before{width:11px;height:1px;top:9px;left:4px}.swiper-slide-lenta:first-child{display:none!important}.mgline.vrline.vrnofloat{float:none;width:100%;max-width:100%;border-radius:0;box-shadow:none}.mgline.vrline.vrnofloat img.mcimg{width:100%;height:auto}.video-info__footer{white-space:nowrap;position:relative;overflow-x:auto}.video-info__logo{position:absolute;right:0;bottom:-25px}.video-info__logo img{outline:0;border:none}.video-info__footer.ps--active-x{padding-bottom:11px}.video-info__footer>.ps__scrollbar-x-rail,.video-info__footer>.ps__scrollbar-y-rail{opacity:.7}.video-info__footer.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{background:#777;border-radius:0;right:0}.video-info__footer.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{background:#777;border-radius:0;bottom:0}.video-info__footer.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#777;width:10px}.video-info__footer.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#777;height:10px}.video-info__footer.ps>.ps__scrollbar-y-rail{width:10px}.video-info__footer.ps>.ps__scrollbar-x-rail{height:10px}@media (min-width:1024px){.video-info__title-cell{font-size:28px}.video-info__sub-title{font-size:15px}.video-info__title{padding:20px}.video-info__logo{opacity:.6;transition:opacity .2s ease}.video-info__logo:hover{opacity:1}.mgCloseCrossButton{width:41px;height:41px;line-height:42px;font-size:18px;margin:0 -41px 0 0}.mgCloseCrossButton:after{width:1px;height:21px;top:10px;left:20px}.mgCloseCrossButton:before{width:21px;height:1px;top:20px;left:10px}.mgCloseCrossButton:hover:after,.mgCloseCrossButton:hover:before{background:#fff}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{bottom:2px;right:5px;width:30px;height:30px}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{transform:scale(.75);left:0;top:0}}@media (min-width:480px) and (orientation:landscape){.video-info__wrap{width:380px}.video-info__wrap:after{content:"";clear:both;display:table}.video-info__footer{white-space:normal;padding:5px 11px 5px 5px;height:247px}.video-info__title-cell{max-height:37px;overflow:hidden;line-height:1.4}.video-info__sub-title{line-height:1.4;max-height:30px;overflow:hidden}.video-info__title{height:90px;overflow:hidden}.video-info__frame{height:157px;overflow:hidden}}@media (min-width:540px) and (orientation:landscape){.video-info__wrap{width:460px}.video-info__frame{height:190px}.video-info__footer{height:280px}}@media (min-width:760px) and (orientation:landscape){.video-info__wrap{width:580px}.video-info__frame{height:240px}.video-info__footer{height:330px}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{width:30px;height:30px}div.adMuteButton:after,div.adMuteButton:before{transform:scale(.83)}}@media (min-width:900px) and (orientation:landscape){.video-info__wrap{width:720px}.video-info__frame{height:298px}.video-info__footer{height:388px}}@media (min-width:1024px) and (orientation:landscape){.video-info__wrap{width:800px}.video-info__frame{height:331px}.video-info__footer{height:497px}.video-info__title{height:166px}.video-info__title-cell{max-height:80px}.video-info__sub-title{max-height:43px}}@media (min-width:1580px) and (orientation:landscape){.video-info__wrap{width:1100px}.video-info__frame{height:456px}.video-info__footer{height:612px;padding:15px 24px 10px 15px}.video-info__title{height:156px;padding:15px 42px}}.mg-progress-line{height:6px}.mg-progress-point{background-color:#c20509;height:4px;position:relative;top:-3px}.vrline div.mcimg a{position:relative;display:block}.vrline div.mcimg a:before{content:"";display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.06)),to(rgba(0,0,0,.4)));background:-webkit-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-o-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:linear-gradient(to bottom,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%)}.mctitle a{font-size:14px;line-height:1.3;color:#222;font-family:Roboto,"Open Sans",sans-serif}.mg-video-footer{display:none;position:absolute;bottom:0;left:0;right:0;color:#fff;font-size:11px;padding:8px 52px 8px 10px;line-height:1;z-index:3}.mg-video-footer:before{content:"";display:block;position:absolute;bottom:0;right:0;width:42px;height:42px;background:#222}.mg-video-footer:after{content:"";display:block;position:absolute;bottom:14px;right:14px;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:12px solid #eee}.mg-video-footer>*{margin-left:4px}.mg-video-footer>:first-child{margin-left:0}.vrline .mg-video-footer{display:block!important}.mg-total-views{white-space:nowrap}.mg-total-views{float:left}.mg-video-format{float:right;font-weight:700;background:#cb4329;padding:3px 4px 2px;border-radius:3px;line-height:1;margin:-3px 0 0 0}.mg-video-duration{float:right}#MarketGidComposite .vrline .image-container:after{display:none}@media screen and (min-width:481px){.mg-total-views{position:absolute;top:5px;left:5px}.vrline div.mcimg a:after{bottom:7px;right:8px}.mg-video-footer{top:0;font-size:10px}.mg-video-footer:before{width:24px;height:24px}.mg-video-footer:after{bottom:6px;right:6px;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:10px solid #eee}.mg-video-duration{position:absolute;bottom:6px;left:0}.mg-video-format{position:absolute;bottom:4px;right:28px}.vrline div.mcimg a:before{background:rgba(0,0,0,.5)}}@media screen and (min-width:1290px){.mg-total-views{display:block!important}.vrline div.mcimg a:after{bottom:8px;right:9px}.mg-video-footer{top:auto;font-size:10px;padding-right:42px}.mg-video-duration{position:static;bottom:auto;left:auto;margin-left:3px;float:right}.mg-video-format{position:static;bottom:auto;right:auto}.mg-total-views{position:static;top:auto;left:auto}.mg-video-footer:before{width:32px;height:32px}.mg-video-footer:after{bottom:8px;right:9px;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:12px solid #eee}.vrline div.mcimg a:before{background:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.06)),to(rgba(0,0,0,.4)));background:-webkit-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:-o-linear-gradient(top,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%);background:linear-gradient(to bottom,rgba(0,0,0,.06) 0,rgba(0,0,0,.4) 100%)}}.mgCover{position:absolute;width:100%;height:100%;left:0;top:0;z-index:100000000;display:none}.mg-total-views:before{content:"";display:inline-block;vertical-align:top;width:11px;height:8px;margin-right:2px;background:url(data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMy43OCA4Ljg2Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPkFydGJvYXJkIDM8L3RpdGxlPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTEzLjYzLDMuOUE4LjA3LDguMDcsMCwwLDAsNi44OSwwLDguMDcsOC4wNywwLDAsMCwuMTUsMy45LDEsMSwwLDAsMCwuMTUsNWE4LjA3LDguMDcsMCwwLDAsNi43NCwzLjlBOC4wNSw4LjA1LDAsMCwwLDEzLjYzLDVhMSwxLDAsMCwwLDAtMS4wNlptLTYuNzQsNGEzLjUsMy41LDAsMSwxLDMuNS0zLjVBMy41LDMuNSwwLDAsMSw2Ljg5LDcuOTNaIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI2Ljg5IiBjeT0iNC40MyIgcj0iMS42OSIvPjwvc3ZnPg==) no-repeat center;background-size:contain}.mg-video-tag{text-align:left!important;left:10px}.mg-video-tag{line-height:18px;width:100%;text-align:right;position:absolute;z-index:999;top:10px;right:10px}.mg-video-tag>span{text-align:left;background:#007eff;color:#fff;padding:3px 5px 2px 5px;font-family:"Open Sans",sans-serif;font-weight:700;font-size:12px;box-sizing:border-box;width:100%}.mgline:not(.vrline) .mg-video-tag{display:none}.mgline:nth-child(3) .mg-video-tag>span{background:#786efc!important}.mgline:nth-child(4) .mg-video-tag>span{background:#fb6efc!important}.mgline:nth-child(5) .mg-video-tag>span{background:#912692!important}.mgline:nth-child(6) .mg-video-tag>span{background:#92264f!important}.mgline:nth-child(7) .mg-video-tag>span{background:#ff70a6!important}.mgline:nth-child(8) .mg-video-tag>span{background:#25b8fe!important}.mgline:nth-child(9) .mg-video-tag>span{background:#54966a!important}.mgline:nth-child(10) .mg-video-tag>span{background:#d82903!important}.mgline:nth-child(11) .mg-video-tag>span{background:#c2880a!important}.mgline:nth-child(12) .mg-video-tag>span{background:#342dcd!important}.mgline:nth-child(13) .mg-video-tag>span{background:#787878!important}.mgline:nth-child(14) .mg-video-tag>span{background:#05016b!important}.mgline:nth-child(15) .mg-video-tag>span{background:#0c5f13!important}.mgline:nth-child(16) .mg-video-tag>span{background:#879565!important}.videoTimeLeftText{font-size:12px;opacity:.75;text-shadow:0 0 2px rgba(0,0,0,.5);position:absolute;left:.75em;bottom:.75em;color:#fff;display:none;z-index:100000001}.adEnable .videoTimeLeftText{display:block}div.adPlayerContainerDiv.showed,div.mgAdPlayerContainerDiv.showed{z-index:9999998;opacity:1;visibility:visible;background-color:transparent;position:absolute;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;display:-webkit-flex;align-items:center;justify-content:center;left:0;top:0}div.adPlayerDiv.showed,div.mgAdPlayerDiv.showed{z-index:100;opacity:1;width:100%;height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;display:-webkit-flex;align-items:center;justify-content:center}div.adPlayerContainerDiv,div.mgAdPlayerContainerDiv{z-index:-100;opacity:0;visibility:hidden;background-color:transparent;position:absolute;left:0;top:0}div.adPlayerContainerDiv.partial,div.mgAdPlayerContainerDiv.partial{position:absolute;top:0;left:0;width:100%;height:100%}div.adPlayerContainerDiv.block,div.mgAdPlayerContainerDiv.block{position:relative;margin-bottom:10px;overflow:hidden;transition:height 2s}div.adPlayerDiv,div.mgAdPlayerDiv{z-index:-1;opacity:0;overflow:hidden;position:relative;height:100%}.overflow-allowed div.adPlayerDiv,.overflow-allowed div.mgAdPlayerDiv{overflow:visible}div.adPlayerContainerDiv.partial>div.adPlayerDiv>div:not(.adCloseButton):not(.adLinkButton),div.mgAdPlayerContainerDiv.partial>div.mgAdPlayerDiv>div:not(.mgCloseButton):not(.mgLinkButton){top:0;left:0}div.adCloseButton,div.mgCloseButton{display:none;position:absolute;top:0;right:0;width:50px;height:50px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}div.adCloseButton.showed,div.mgCloseButton.showed{display:block}div.adCloseButton:after,div.mgCloseButton:after{position:absolute;top:0;right:0;filter:drop-shadow(0 0 3px #000);line-height:20px;margin:3px;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#close");content:"";width:24px;height:24px;display:block}div.adPlayerContainerDiv.showed div.adCloseButton,div.mgAdPlayerContainerDiv.showed div.mgCloseButton{display:none;z-index:9999999;right:0}div.adPlayerContainerDiv.showed div.adCloseButton.showed,div.mgAdPlayerContainerDiv.showed div.mgCloseButton.showed{display:block}div.adMuteButton,div.mgMuteButton{display:none;speak:none;line-height:1;position:absolute;bottom:6px;right:6px;width:20px;height:25px;cursor:pointer;transition:opacity .3s ease,visibility .3s ease;z-index:100;filter:drop-shadow(0 0 3px #000)}div.adMuteButton.showed,div.mgMuteButton.showed{display:block}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{position:absolute;height:24px;width:24px;top:50%;left:50%;transform:translate(-50%,-50%) scale(.75)}div.adMuteButton:before,div.mgMuteButton:before{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_down");content:"";width:24px;height:24px;display:block}div.adMuteButton:after,div.mgMuteButton:after{display:none}div.adMuteButton.muted:before,div.mgMuteButton.muted:before{display:none}div.adMuteButton.muted:after,div.mgMuteButton.muted:after{background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_off");content:"";width:24px;height:24px;display:block}@-webkit-keyframes mg-spinner-easespin{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mg-spinner-easespin{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@-webkit-keyframes mg-spinner-left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}100%{transform:rotate(130deg)}}@keyframes mg-spinner-left-spin{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}100%{transform:rotate(130deg)}}@-webkit-keyframes mg-right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}100%{transform:rotate(-130deg)}}@keyframes mg-right-spin{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}100%{transform:rotate(-130deg)}}.mg-spinner{position:absolute;left:50%;top:50%;width:64px;margin-left:-32px;z-index:999999;pointer-events:none}.mg-spinner.show .mg-spinner-container{pointer-events:none;position:absolute;width:100%;padding-bottom:100%;top:50%;left:50%;margin-top:-50%;margin-left:-50%;animation:mg-spinner-linspin 1.568s linear infinite;-webkit-animation:mg-spinner-linspin 1.568s linear infinite}.mg-spinner.show .mg-spinner-rotator{position:absolute;width:100%;height:100%;-webkit-animation:mg-spinner-easespin 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:mg-spinner-easespin 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mg-spinner.show .mg-spinner-left{right:49%}.mg-spinner.show .mg-spinner-left{position:absolute;top:0;left:0;bottom:0;overflow:hidden}.mg-spinner.show .mg-spinner-left .mg-spinner-circle{left:0;right:-100%;border-right-color:transparent;-webkit-animation:mg-spinner-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:mg-spinner-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mg-spinner.show .mg-spinner-circle{box-sizing:border-box;position:absolute;width:200%;height:100%;border-style:solid;border-color:#ddd #ddd transparent;border-radius:50%;border-width:6px}.mg-spinner.show .mg-spinner-right{left:49%}.mg-spinner.show .mg-spinner-right{position:absolute;top:0;right:0;bottom:0;overflow:hidden}.mg-spinner.show .mg-spinner-right .mg-spinner-circle{left:-100%;right:0;border-left-color:transparent;-webkit-animation:mg-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:mg-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.image-container div.video-info__player{position:absolute;left:0;top:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;align-items:center;justify-content:center;background-color:#000;z-index:9999;transition:none!important;overflow:hidden}.image-container div.video-info__player.block{position:relative}.image-container div.video-info__player *{transition:none}.image-container div.video-info__player.overflow-allowed{overflow:visible;background:0 0}.mgline.vrline .image-container{display:block!important}html>div{display:none!important}div.adSkipButton,div.mgSkipButton{position:absolute;top:0;left:0;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;display:none;z-index:101;cursor:pointer}div.adSkipButton.showed,div.mgSkipButton.showed{display:block}div.adPlayerDiv #av-container #av-inner #gui #skip-btn,div.mgAdPlayerDiv #av-container #av-inner #gui #skip-btn{top:0;bottom:auto;left:0;right:auto;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;z-index:2;cursor:pointer;border:none;text-transform:none}div.adPlayerDiv #av-container #av-inner #gui #timer,div.mgAdPlayerDiv #av-container #av-inner #gui #timer{height:25px;width:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);font-size:12px;text-align:center;line-height:25px;border:none;text-transform:none}.clickDiv{position:absolute;height:100%;width:100%;z-index:10000000;left:0;top:0}div.adLinkButton{position:absolute;color:#fff;top:auto;left:auto;bottom:40px;right:40px;height:auto;padding:6px 16px;background:rgba(51,51,51,.8);border-radius:4px;letter-spacing:-.05em;line-height:18px;text-transform:uppercase;font-weight:700;font-size:16px;text-shadow:none}div.adLinkButton:hover{background:#666}@media (max-width:480px){div.adLinkButton{padding:6px 8px!important;bottom:0!important;right:50%!important;transform:translate(50%,-50%);font-size:12px!important;line-height:13px!important}}div.adLinkButton.showed{display:block;z-index:9999999}#av-container #av-inner #gui:before{background:0 0}#av-container.desktop #gui #timeline.av-overlay{opacity:1;bottom:-4px!important;right:0!important;left:0!important}#av-container.desktop #av-inner #gui #timeline #timeline-moveto,#av-container.desktop #gui #buttons,#av-container.desktop #gui #timeline,#av-container.desktop #gui:before{opacity:1}#aniview-credit{display:none!important}#av-container #av-inner #slot #videoslot{background-color:transparent!important}.ps{touch-action:auto;overflow:hidden!important;-ms-overflow-style:none}@supports (-ms-overflow-style:none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.ps{overflow:auto!important}}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{display:block;background-color:transparent}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:#eee;opacity:.9}.ps.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#999;height:10px}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:#eee;opacity:.9}.ps.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#999;width:10px}.ps>.ps__scrollbar-x-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;bottom:0;height:15px}.ps>.ps__scrollbar-x-rail>.ps__scrollbar-x{position:absolute;background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;bottom:2px;height:6px}.ps>.ps__scrollbar-x-rail:active>.ps__scrollbar-x,.ps>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{height:10px}.ps>.ps__scrollbar-y-rail{display:none;position:absolute;opacity:0;transition:background-color .2s linear,opacity .2s linear;right:0;width:15px}.ps>.ps__scrollbar-y-rail>.ps__scrollbar-y{position:absolute;background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s linear,width .2s ease-in-out,border-radius .2s ease-in-out;right:2px;width:6px}.ps>.ps__scrollbar-y-rail:active>.ps__scrollbar-y,.ps>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{width:10px}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail{background-color:#eee;opacity:.9}.ps:hover.ps--in-scrolling.ps--x>.ps__scrollbar-x-rail>.ps__scrollbar-x{background-color:#999;height:10px}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail{background-color:#eee;opacity:.9}.ps:hover.ps--in-scrolling.ps--y>.ps__scrollbar-y-rail>.ps__scrollbar-y{background-color:#999;width:10px}.ps:hover>.ps__scrollbar-x-rail,.ps:hover>.ps__scrollbar-y-rail{opacity:.6}.ps:hover>.ps__scrollbar-x-rail:hover{background-color:#eee;opacity:.9}.ps:hover>.ps__scrollbar-x-rail:hover>.ps__scrollbar-x{background-color:#999}.ps:hover>.ps__scrollbar-y-rail:hover{background-color:#eee;opacity:.9}.ps:hover>.ps__scrollbar-y-rail:hover>.ps__scrollbar-y{background-color:#999}div.video-info__player.large,div.video-info__player.medium,div.video-info__player.small{position:fixed;bottom:10px;z-index:9999999;opacity:1;visibility:visible;background-color:#000}div.video-info__player.large div.adPlayerDiv,div.video-info__player.medium div.adPlayerDiv,div.video-info__player.small div.adPlayerDiv{z-index:100;opacity:1;position:relative}div.video-info__player.large.left,div.video-info__player.medium.left,div.video-info__player.small.left{left:10px;top:auto}div.video-info__player.small{width:401px}div.video-info__player.large.right,div.video-info__player.medium.right,div.video-info__player.small.right{right:10px;left:auto;top:auto}div.video-info__player.large.top,div.video-info__player.medium.top,div.video-info__player.small.top{top:10px;bottom:auto}div.video-info__player.large.bottom,div.video-info__player.medium.bottom,div.video-info__player.small.bottom{bottom:10px;top:auto}div.video-info__player.medium{width:501px}div.video-info__player.large{width:601px}div.video-info__player.large div.adCloseButton.showed,div.video-info__player.medium div.adCloseButton.showed,div.video-info__player.small div.adCloseButton.showed{display:block!important;z-index:9999999!important}div.video-info__player.large div.adCloseButton,div.video-info__player.medium div.adCloseButton,div.video-info__player.small div.adCloseButton{display:none!important}@media only screen and (max-device-width:480px){div.video-info__player.large.left,div.video-info__player.large.right,div.video-info__player.medium.left,div.video-info__player.medium.right,div.video-info__player.small.left,div.video-info__player.small.right{position:fixed;bottom:0;right:-480px;transition:right 1s;width:70%}div.video-info__player.large.left.showed,div.video-info__player.large.right.showed,div.video-info__player.medium.left.showed,div.video-info__player.medium.right.showed,div.video-info__player.small.left.showed,div.video-info__player.small.right.showed{position:fixed;bottom:0;right:0;transition:right 1s}div.video-info__player.large.left.upper,div.video-info__player.large.right.upper,div.video-info__player.medium.left.upper,div.video-info__player.medium.right.upper,div.video-info__player.small.left.upper,div.video-info__player.small.right.upper{top:0;right:auto;left:50%;transform:translate(-50%,0)}div.video-info__player.large.left.upper.showed,div.video-info__player.large.right.upper.showed,div.video-info__player.medium.left.upper.showed,div.video-info__player.medium.right.upper.showed,div.video-info__player.small.left.upper.showed,div.video-info__player.small.right.upper.showed{opacity:1;visibility:visible}div.video-info__player.large.bottom,div.video-info__player.large.top,div.video-info__player.medium.bottom,div.video-info__player.medium.top,div.video-info__player.small.bottom,div.video-info__player.small.top{position:fixed;right:auto;left:50%;transform:translate(-50%,0);width:70%;margin-bottom:0}div.video-info__player.large.top,div.video-info__player.medium.top,div.video-info__player.small.top{top:0;bottom:auto}div.video-info__player.large.bottom,div.video-info__player.medium.bottom,div.video-info__player.small.bottom{bottom:0;top:auto}div.video-info__player.large.bottom.showed,div.video-info__player.large.top.showed,div.video-info__player.medium.bottom.showed,div.video-info__player.medium.top.showed,div.video-info__player.small.bottom.showed,div.video-info__player.small.top.showed{opacity:1;visibility:visible}div.adPlayerDiv.adplayer-no-ui #sound,div.adPlayerDiv.adplayer-no-ui .pause,div.adPlayerDiv.adplayer-no-ui .play,div.adPlayerDiv.adplayer-no-ui div.adLinkButton,div.adPlayerDiv.adplayer-no-ui div.adSkipButton{opacity:0;visibility:hidden;z-index:-100}}div.adPlayerDiv.adplayer-no-ui #sound,div.adPlayerDiv.adplayer-no-ui .adClickCover,div.adPlayerDiv.adplayer-no-ui .pause,div.adPlayerDiv.adplayer-no-ui .play,div.adPlayerDiv.adplayer-no-ui div.adLinkButton,div.adPlayerDiv.adplayer-no-ui div.adSkipButton{opacity:0;visibility:hidden;z-index:-100}.adClickCover{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100000;display:none}.adClickCover.showed{display:block}.topBar{display:none;width:100%;position:absolute;top:-31px;padding-bottom:3px;height:31px;left:0;background-color:rgba(255,255,255,.9)}.topBar.showed{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}div.video-info__player.mglogo{overflow:visible}div.video-info__player.large.top.mglogo,div.video-info__player.medium.top.mglogo,div.video-info__player.small.top.mglogo{margin-top:31px}.topBar .other-logo{width:90px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-start;align-items:center}.topBar .other-logo a:before{background:0 0!important}.topBar .other-logo img{width:80px;position:relative;top:4px;left:0}.topBar>span{color:#000;background:0 0;padding:0;font-family:Roboto,sans-serif;font-weight:700;font-size:16px;box-sizing:border-box;line-height:1;text-transform:uppercase;margin:12px 0 0 0;position:absolute;left:50%;transform:translate(-50%,0)}.vrline div.mcimg{padding:0;text-align:center;width:100%}.vrline img.mcimg{border:0 solid #fff;width:100%!important;height:auto!important;box-sizing:border-box;display:block}.vrline .mctitle{margin-top:10px;text-align:left}.vrline .mctitle a{font-weight:700;font-size:18px;line-height:18px;font-style:normal;text-decoration:none;color:#000;font-family:Roboto}.vrline.mgline{background:none repeat scroll 0 0;cursor:pointer;display:inline-block;padding:0!important;border:0 solid #fff;width:100%;max-width:100%;box-sizing:border-box;margin:10px 0 0 0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;flex-direction:column;word-wrap:break-word}.vrline.mgline .image-container{position:relative}.vrline.mgline{vertical-align:top}.vrline.mgline{min-width:90px}@supports not (flex-wrap:wrap){.vrline.mgline{display:inline-block!important}}.text-elements a{text-decoration:none}.vrline div.mcprice,.vrline div.mgarrowbox,.vrline div.mgbuybox{display:none}@media (max-width:480px){.vrline.mgline{width:48%!important;margin:1%!important;max-width:48%!important}}@media (max-width:480px){.vrline.mgline{width:98%!important;margin:1%!important;max-width:98%!important}}.vrline .mctitle a:hover{color:#7f7f7f}.vrline.mgline{position:relative}.vrline.mgline .fake{visibility:hidden;position:relative;padding-top:4px}.vrline.mgline .mctitle{margin-top:2px;line-height:1!important}.vrline.mgline:hover .mctitle a{color:#7f7f7f}.vrline.mgline .image-with-text,.vrline.mgline .mgtobottom{width:100%!important}.ctplay .mgbox{padding:25px 0 0!important;max-width:680px!important}.ctplay .vrline.mgline{background:#eee!important;padding:0 0 20px!important;border:1px solid #e3e3e3!important;width:100%;max-width:100%;margin:3px 0;transition-duration:.8s;transition-property:box-shadow}.ctplay .mgheader{border-bottom:none!important;padding-bottom:0;margin-bottom:0}.ctplay .mghead{color:#000!important;font-size:14px!important}.ctplay .vrline.mgline .mctitle{margin:2px 5px 20px;text-align:left}.ctplay .vrline.mgline .mctitle a{font-size:20px;line-height:1.3;color:#000;font-family:Roboto,"Open Sans",sans-serif}.ctplay .vrline.mgline .mctitle a:hover{color:#000}.ctplay .vrline.mgline:hover .mctitle a{color:#000}.ctplay .vrline.mgline .mcdomain{padding-top:3px;text-align:left}.ctplay .vrline.mgline .mcdomain a{font-size:13px;line-height:13px;font-style:italic;color:#7f7f7f;padding:1px}.ctplay .vrline.mgline .image-with-text,.ctplay .vrline.mgline img.mcimg{max-width:680px!important;max-height:385px!important}.ctplay .mg2player:not(.mg2player_playing) .mg2player__close.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__play-btn.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__play-next.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__start-btn.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__time.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__track.mghover,.ctplay .mg2player:not(.mg2player_playing) .mg2player__volume.mghover{opacity:1;visibility:visible}.ctplay.mgred .vrline.mgline .text-elements{display:none}.ctplay.mgred .vrline.mgline{border:none!important;background:inherit!important}div.vrPopup{opacity:0;visibility:hidden}div.adPlayerContainerDiv .mg2player__controls,div.adPlayerContainerDiv .mg2player__title,div.adPlayerContainerDiv div.mgMuteButton,div.mgAdPlayerContainerDiv .mg2player__controls,div.mgAdPlayerContainerDiv .mg2player__title,div.mgAdPlayerContainerDiv div.mgMuteButton{display:none}div.adPlayerContainerDiv.mgAdPlayerFormat-outstream.showed,div.mgAdPlayerContainerDiv.mgAdPlayerFormat-outstream.showed{z-index:9999999;background-color:#fff}div.adPlayerDiv.showed,div.mgAdPlayerDiv.showed{z-index:100;opacity:1;position:relative;width:100%;height:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:flex;display:-webkit-flex;align-items:center;justify-content:center;overflow:hidden}div.adPlayerContainerDiv,div.mgAdPlayerContainerDiv{z-index:-100;opacity:0;visibility:hidden;background-color:transparent;position:absolute;top:0;left:0}div.adPlayerDiv,div.mgAdPlayerDiv{z-index:-1;opacity:0;position:relative;height:100%}div.adPlayerContainerDiv.block,div.mgAdPlayerContainerDiv.block{position:relative;margin-bottom:10px;overflow:hidden;transition:height 2s}div.adPlayerContainerDiv.block.noanim,div.mgAdPlayerContainerDiv.block.noanim{transition:none}html>div{display:none!important}div.adSkipButton,div.mgSkipButton{position:absolute;top:0;left:0;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;display:none;z-index:101;cursor:pointer}div.adSkipButton.showed,div.mgSkipButton.showed{display:block}div.adPlayerDiv #av-container #av-inner #gui #skip-btn,div.mgAdPlayerDiv #av-container #av-inner #gui #skip-btn{top:0;bottom:auto;left:0;right:auto;padding:0 8px;height:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:12px;text-align:center;line-height:25px;transition:all .15s ease-in-out;z-index:2;cursor:pointer;border:none;text-transform:none}div.adPlayerDiv #av-container #av-inner #gui #timer,div.mgAdPlayerDiv #av-container #av-inner #gui #timer{height:25px;width:25px;text-shadow:2px 1px 2px #000;background-color:rgba(0,0,0,.4);font-size:12px;text-align:center;line-height:25px;border:none;text-transform:none}div.adLinkButton.showed{display:block}#av-container #av-inner #gui:before{background:0 0}#av-container.desktop #gui #timeline.av-overlay{opacity:1;bottom:-4px!important;right:0!important;left:0!important}#av-container.desktop #av-inner #gui #timeline #timeline-moveto,#av-container.desktop #gui #buttons,#av-container.desktop #gui #timeline,#av-container.desktop #gui:before{opacity:1}#aniview-credit{display:none!important}div.adCloseButton,div.mgCloseButton{display:none;position:absolute;top:0;right:0;width:50px;height:50px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:9999}div.adCloseButton.showed,div.mgCloseButton.showed{display:block}div.adCloseButton:after,div.mgCloseButton:after{position:absolute;top:0;right:0;width:24px;height:24px;color:#fff;filter:drop-shadow(0 0 3px #000);line-height:20px;margin:3px;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#close");content:"";display:block}div.adPlayerContainerDiv.showed div.adCloseButton.showed,div.mgAdPlayerContainerDiv.showed div.mgCloseButton.showed{display:block}div.adMuteButton,div.mgMuteButton{display:none;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:absolute;bottom:6px;right:6px;width:20px;height:25px;cursor:pointer;transition:opacity .3s ease,visibility .3s ease;z-index:100;filter:drop-shadow(0 0 3px #000)}div.adMuteButton.showed,div.mgMuteButton.showed{display:block}div.adMuteButton:after,div.adMuteButton:before,div.mgMuteButton:after,div.mgMuteButton:before{position:absolute;width:24px;height:24px;top:50%;left:50%;transform:translate(-50%,-50%) scale(.75)}div.adMuteButton:before,div.mgMuteButton:before{content:"";display:block;background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_down")}div.adMuteButton:after,div.mgMuteButton:after{content:"";background:url("/mgPlayer/img/mgPlayer_v2_sprite.svg#volume_off");display:none}div.adMuteButton.muted:before,div.mgMuteButton.muted:before{display:none}div.adMuteButton.muted:after,div.mgMuteButton.muted:after{display:block}div.adPlayerContainerDiv.large,div.adPlayerContainerDiv.medium,div.adPlayerContainerDiv.small,div.mgAdPlayerContainerDiv.large,div.mgAdPlayerContainerDiv.medium,div.mgAdPlayerContainerDiv.small{position:fixed;bottom:0;top:auto;z-index:9999999;opacity:1;visibility:visible;background-color:#000;overflow:visible}div.adPlayerContainerDiv.large,div.adPlayerContainerDiv.medium,div.adPlayerContainerDiv.small,div.mgAdPlayerContainerDiv.large,div.mgAdPlayerContainerDiv.medium,div.mgAdPlayerContainerDiv.small{opacity:0;visibility:hidden}div.adPlayerContainerDiv.large.showed,div.adPlayerContainerDiv.medium.showed,div.adPlayerContainerDiv.small.showed,div.mgAdPlayerContainerDiv.large.showed,div.mgAdPlayerContainerDiv.medium.showed,div.mgAdPlayerContainerDiv.small.showed{opacity:1;visibility:visible}div.adPlayerContainerDiv.large div.adPlayerDiv,div.adPlayerContainerDiv.medium div.adPlayerDiv,div.adPlayerContainerDiv.small div.adPlayerDiv,div.mgAdPlayerContainerDiv.large div.mgAdPlayerDiv,div.mgAdPlayerContainerDiv.medium div.mgAdPlayerDiv,div.mgAdPlayerContainerDiv.small div.mgAdPlayerDiv{z-index:100;opacity:1;position:relative}div.adPlayerContainerDiv.large.top,div.adPlayerContainerDiv.medium.top,div.adPlayerContainerDiv.small.top,div.mgAdPlayerContainerDiv.large.top,div.mgAdPlayerContainerDiv.medium.top,div.mgAdPlayerContainerDiv.small.top{top:0;bottom:auto}div.adPlayerContainerDiv.small,div.mgAdPlayerContainerDiv.small{width:401px}div.adPlayerContainerDiv.medium,div.mgAdPlayerContainerDiv.medium{width:501px}div.adPlayerContainerDiv.large,div.mgAdPlayerContainerDiv.large{width:601px}div.adPlayerContainerDiv.small.left,div.mgAdPlayerContainerDiv.small.left{left:-401px;transition:left 1s}div.adPlayerContainerDiv.large.left.showed,div.adPlayerContainerDiv.medium.left.showed,div.adPlayerContainerDiv.small.left.showed,div.mgAdPlayerContainerDiv.large.left.showed,div.mgAdPlayerContainerDiv.medium.left.showed,div.mgAdPlayerContainerDiv.small.left.showed{left:0;right:auto;transition:left 1s}div.adPlayerContainerDiv.small.right,div.mgAdPlayerContainerDiv.small.right{right:-401px;transition:right 1s}div.adPlayerContainerDiv.large.right.showed,div.adPlayerContainerDiv.medium.right.showed,div.adPlayerContainerDiv.small.right.showed,div.mgAdPlayerContainerDiv.large.right.showed,div.mgAdPlayerContainerDiv.medium.right.showed,div.mgAdPlayerContainerDiv.small.right.showed{right:0;left:auto;transition:right 1s}div.adPlayerContainerDiv.medium.left,div.mgAdPlayerContainerDiv.medium.left{left:-501px;transition:left 1s}div.adPlayerContainerDiv.medium.right,div.mgAdPlayerContainerDiv.medium.right{right:-501px;transition:right 1s}div.adPlayerContainerDiv.large.left,div.mgAdPlayerContainerDiv.large.left{left:-601px;transition:left 1s}div.adPlayerContainerDiv.large.right,div.mgAdPlayerContainerDiv.large.right{right:-601px;transition:right 1s}.topBar{display:none;width:100%;position:absolute;top:-31px;padding-bottom:3px;height:31px;left:0;background-color:rgba(255,255,255,.9)}.topBar.showed{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}div.adPlayerContainerDiv.mglogo,div.mgAdPlayerContainerDiv.mglogo{margin-top:31px;overflow:visible}div.adPlayerContainerDiv.large.top .topBar.showed,div.adPlayerContainerDiv.medium.top .topBar.showed,div.adPlayerContainerDiv.small.top .topBar.showed,div.mgAdPlayerContainerDiv.large.top .topBar.showed,div.mgAdPlayerContainerDiv.medium.top .topBar.showed,div.mgAdPlayerContainerDiv.small.top .topBar.showed{display:none}.topBar .other-logo{width:90px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:flex-start;align-items:center}.topBar .other-logo a:before{background:0 0!important}.topBar .other-logo img{width:80px;position:relative;top:4px;left:0}.topBar>span{color:#000;background:0 0;padding:0;font-family:Roboto,sans-serif;font-weight:700;font-size:16px;box-sizing:border-box;line-height:1;text-transform:uppercase;margin:12px 0 0 0;position:absolute;left:50%;transform:translate(-50%,0)}@media only screen and (max-device-width:480px){div.adPlayerContainerDiv.large.left,div.adPlayerContainerDiv.large.right,div.adPlayerContainerDiv.medium.left,div.adPlayerContainerDiv.medium.right,div.adPlayerContainerDiv.small.left,div.adPlayerContainerDiv.small.right,div.mgAdPlayerContainerDiv.large.left,div.mgAdPlayerContainerDiv.large.right,div.mgAdPlayerContainerDiv.medium.left,div.mgAdPlayerContainerDiv.medium.right,div.mgAdPlayerContainerDiv.small.left,div.mgAdPlayerContainerDiv.small.right{position:fixed;bottom:0;right:-480px;transition:right 1s;width:70%}div.adPlayerContainerDiv.large.left.showed,div.adPlayerContainerDiv.large.right.showed,div.adPlayerContainerDiv.medium.left.showed,div.adPlayerContainerDiv.medium.right.showed,div.adPlayerContainerDiv.small.left.showed,div.adPlayerContainerDiv.small.right.showed,div.mgAdPlayerContainerDiv.large.left.showed,div.mgAdPlayerContainerDiv.large.right.showed,div.mgAdPlayerContainerDiv.medium.left.showed,div.mgAdPlayerContainerDiv.medium.right.showed,div.mgAdPlayerContainerDiv.small.left.showed,div.mgAdPlayerContainerDiv.small.right.showed{position:fixed;left:50%;right:auto;transition:right 1s}div.adPlayerContainerDiv.large.left.upper,div.adPlayerContainerDiv.large.right.upper,div.adPlayerContainerDiv.medium.left.upper,div.adPlayerContainerDiv.medium.right.upper,div.adPlayerContainerDiv.small.left.upper,div.adPlayerContainerDiv.small.right.upper,div.mgAdPlayerContainerDiv.large.left.upper,div.mgAdPlayerContainerDiv.large.right.upper,div.mgAdPlayerContainerDiv.medium.left.upper,div.mgAdPlayerContainerDiv.medium.right.upper,div.mgAdPlayerContainerDiv.small.left.upper,div.mgAdPlayerContainerDiv.small.right.upper{top:0;right:auto;left:50%;transform:translate(-50%,0);opacity:0;visibility:hidden}div.adPlayerContainerDiv.large.left.upper.showed,div.adPlayerContainerDiv.large.right.upper.showed,div.adPlayerContainerDiv.medium.left.upper.showed,div.adPlayerContainerDiv.medium.right.upper.showed,div.adPlayerContainerDiv.small.left.upper.showed,div.adPlayerContainerDiv.small.right.upper.showed,div.mgAdPlayerContainerDiv.large.left.upper.showed,div.mgAdPlayerContainerDiv.large.right.upper.showed,div.mgAdPlayerContainerDiv.medium.left.upper.showed,div.mgAdPlayerContainerDiv.medium.right.upper.showed,div.mgAdPlayerContainerDiv.small.left.upper.showed,div.mgAdPlayerContainerDiv.small.right.upper.showed{opacity:1;visibility:visible}div.adPlayerContainerDiv.large.bottom,div.adPlayerContainerDiv.large.top,div.adPlayerContainerDiv.medium.bottom,div.adPlayerContainerDiv.medium.top,div.adPlayerContainerDiv.small.bottom,div.adPlayerContainerDiv.small.top,div.mgAdPlayerContainerDiv.large.bottom,div.mgAdPlayerContainerDiv.large.top,div.mgAdPlayerContainerDiv.medium.bottom,div.mgAdPlayerContainerDiv.medium.top,div.mgAdPlayerContainerDiv.small.bottom,div.mgAdPlayerContainerDiv.small.top{opacity:0;visibility:hidden;position:fixed;right:auto;left:50%;transform:translate(-50%,0);width:70%;margin-bottom:0}div.adPlayerContainerDiv.large.top,div.adPlayerContainerDiv.medium.top,div.adPlayerContainerDiv.small.top,div.mgAdPlayerContainerDiv.large.top,div.mgAdPlayerContainerDiv.medium.top,div.mgAdPlayerContainerDiv.small.top{top:0;bottom:auto}div.adPlayerContainerDiv.large.bottom,div.adPlayerContainerDiv.medium.bottom,div.adPlayerContainerDiv.small.bottom,div.mgAdPlayerContainerDiv.large.bottom,div.mgAdPlayerContainerDiv.medium.bottom,div.mgAdPlayerContainerDiv.small.bottom{bottom:0;top:auto}div.adPlayerContainerDiv.large.bottom.showed,div.adPlayerContainerDiv.large.top.showed,div.adPlayerContainerDiv.medium.bottom.showed,div.adPlayerContainerDiv.medium.top.showed,div.adPlayerContainerDiv.small.bottom.showed,div.adPlayerContainerDiv.small.top.showed,div.mgAdPlayerContainerDiv.large.bottom.showed,div.mgAdPlayerContainerDiv.large.top.showed,div.mgAdPlayerContainerDiv.medium.bottom.showed,div.mgAdPlayerContainerDiv.medium.top.showed,div.mgAdPlayerContainerDiv.small.bottom.showed,div.mgAdPlayerContainerDiv.small.top.showed{opacity:1;visibility:visible}}div.adPlayerDiv.adplayer-no-ui #sound,div.adPlayerDiv.adplayer-no-ui .adClickCover,div.adPlayerDiv.adplayer-no-ui .pause,div.adPlayerDiv.adplayer-no-ui .play,div.adPlayerDiv.adplayer-no-ui div.adLinkButton,div.adPlayerDiv.adplayer-no-ui div.adSkipButton{opacity:0;visibility:hidden;z-index:-100}div.adPlayerContainerDiv.block.smart,div.mgAdPlayerContainerDiv.block.smart{max-width:680px!important;transition:height 1s!important;margin-left:auto;margin-right:auto}.adClickCover{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100000;display:none}.adClickCover.showed{display:block}div.adPlayerContainerDiv .mg2player__controls,div.adPlayerContainerDiv .mg2player__title,div.adPlayerContainerDiv div.mgMuteButton,div.mgAdPlayerContainerDiv .mg2player__controls,div.mgAdPlayerContainerDiv .mg2player__title,div.mgAdPlayerContainerDiv div.mgMuteButton{display:none}',a="".concat(t,"//cdn.").concat(this.amby.get("subnetDomain",""));this.css=i.replaceAll("/mgPlayer/img/mgPlayer_v2_sprite.svg","".concat(a,"/mgPlayer/img/mgPlayer_v2_sprite.svg"))}(0,Nh.mgDebug)("Style Component initiated.")}return r.prototype.styleChecking=function(e){if(e&&typeof e=="function"){var t=this.rootElement.querySelector("#mgStyles".concat(this.widgetId))||document.getElementById("mgStyles".concat(this.widgetId));if(t){var i=function(){setTimeout(function(){r.styleElemCheckLoaded(t)?e():i()},50)};r.styleElemCheckLoaded(t)?e():i()}else this.loadStyles(e)}},r.prototype.loadStyles=function(e){var t=this;this.rootElement.querySelector("#mgStyles".concat(this.widgetId))?e&&typeof e=="function"&&e():(this.styleUrl?(this.styleElem=document.createElement("link"),this.styleElem.setAttribute("rel","stylesheet"),this.styleElem.setAttribute("href","".concat(this.styleUrl)),this.styleElem=document.createElement("style"),this.styleElem.setAttribute("type","text/css")):(this.styleElem=document.createElement("style"),this.styleElem.id="mgStyles".concat(this.widgetId),this.styleElem.setAttribute("type","text/css"),this.styleElem.styleSheet?this.styleElem.styleSheet.cssText=this.css:this.styleElem.appendChild(document.createTextNode(this.css))),this.styleElem.addEventListener("load",function(){t.styleElem.setAttribute("data-loaded","true"),e&&typeof e=="function"&&e()}),this.rootElement.isEqualNode(document)?document.head.appendChild(this.styleElem):this.rootElement.appendChild(this.styleElem),document.getElementById("mgStyles".concat(this.widgetId))||document.head.appendChild(this.styleElem.cloneNode(!0)))},r.styleElemCheckLoaded=function(e){var t=e.getAttribute("data-loaded")==="true";if(!t){for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].href===e.href){t=!0;break}}return t},r}();Xa.StyleComponent=Gh});var ts=pe(es=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(es,"__esModule",{value:!0});es.LogoComponent=void 0;var Ka=Ve(),Qa=Pe(),Ai=Ce(),Vh=function(){function r(e,t,i){i===void 0&&(i=!0),this.amby=e,this.container=t,this.stickyOnly=i,this.elemText=Ai.Helpers.getTranslated(this.amby,"headerText","Advertisement"),this.mainBlock=Ai.Helpers.getParentBlockByClass(this.container,"_mgw_"),this.mainBlock&&(this.headerLinkElem=this.mainBlock.querySelector(".mgheader a"));var a=document.location.protocol;this.protocol=a.indexOf("http")===0?a:"https:",this.domain=this.amby.get("subnetDomain"),this.domainName=this.domain.match(/^\w+/),this.headerLink="".concat(this.protocol,"//www.").concat(this.domain),this.headerLinkElem&&this.headerLinkElem.href&&this.headerLinkElem.href.indexOf(this.domainName)>-1&&(this.headerLink=this.headerLinkElem.href.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//"))),this.container&&(this.elem=this.container.querySelector(".topBar")),this.elem||this.createElement(),this.addListeners()}return r.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="topBar",this.elem.innerHTML=`<div class="other-logo">
            <a href="`.concat(this.headerLink,`" target="_blank" rel="nofollow noopener">
                <img src="`).concat(this.protocol,"//cdn.").concat(this.domain,"/images/logo/").concat(this.domainName,`.png" alt="" title="">
            </a></div><span>`).concat(this.elemText,"</span>"),this.container.appendChild(this.elem)},r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("ad.status",function(){switch(e.amby.get("ad.status")){case Ka.states.STATUS_PLAYING:(!e.stickyOnly||e.amby.get("player.isSticky",!1))&&e.amby.dispatch(Qa.upsertState({logo:{visible:!0}}));break;case Ka.states.STATUS_STOPPED:e.amby.dispatch(Qa.upsertState({logo:{visible:!1}}));break}}),this.amby.addSubListener("player.isSticky",function(){(!e.stickyOnly||e.amby.get("player.isSticky",!1))&&[Ka.states.STATUS_PAUSED,Ka.states.STATUS_PLAYING].indexOf(e.amby.get("ad.status"))>-1?e.amby.dispatch(Qa.upsertState({logo:{visible:!0}})):e.stickyOnly&&e.amby.dispatch(Qa.upsertState({logo:{visible:!1}}))}),this.stickyOnly?this.amby.addSubListener("logo.visible",function(){e.checkClasses()}):this.container.addEventListener("transitionend",function(){e.checkClasses()})},r.prototype.checkClasses=function(){this.amby.get("logo.visible")?(Ai.Helpers.addClass(this.elem,"showed"),Ai.Helpers.addClass(this.container,"mglogo")):(Ai.Helpers.removeClass(this.elem,"showed"),Ai.Helpers.removeClass(this.container,"mglogo"))},r}();es.LogoComponent=Vh});var nr=pe(as=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(as,"__esModule",{value:!0});as.MgPlayer=void 0;var De=Ce(),qh="playing",Wh="paused",Uh="buffering",rr="idle",Gt="hover",Lt="hidden",is="visible",jh=function(){function r(e,t){if(t===void 0&&(t=document),this.rootElement=t,this.container=this.rootElement.querySelector("#".concat(e)),this.container||(this.container=document.querySelector("#".concat(e))),!this.container){console.error("MgPlayer: container not found.");return}var i=document.location.protocol;this.protocol=i.indexOf("http")===0?i:"https:",this.status=rr,this.expanded=!1,this.readyRequest=!1,this.playlistRequest=!1,this.eventListeners={},this.curQuality="360p",this.qualityChanging=!1,this.currentVolumeLevel=1,this.customButtons=[],this.webmSupported=!1}return r.prototype.setup=function(e){var t=this;setTimeout(function(){var i=e.playlist,a=e.repeat,s=e.mute,n=e.stylePath,l=e.buttonSettings,c=e.seekable,h=c===void 0?!0:c,g=e.displayClickDefaultAction,y=g===void 0?!0:g,T=e.theme,b=T===void 0?"mgred":T,P=e.events,x=e.customBtns,B=e.preload,O=B===void 0?"none":B,w=e.useWebm,M=w===void 0?!1:w;Array.isArray(i)&&i.length>0&&(t.playlist=i),t.seekable=h,t.displayClickDefaultAction=y,t.stylePath=n,t.theme=b,t.preload=O,t.useWebm=M,t.addTemplate();var H={playButton:Gt,startButton:Gt,nextButton:Gt,time:Gt,timeline:Gt,hdButton:Lt,muteButton:is,closeButton:Lt,expandButton:Lt,leftButton:Gt,rightButton:Gt,title:Gt};t.btnSettings=De.Helpers.mergeObjects(H,l),Object.entries(t.btnSettings).forEach(function(Z){var Q=Z[0],te=Z[1];if(t[Q]!==void 0&&t[Q]!==null)switch(te){case Gt:De.Helpers.addClass(t[Q],"mghover");break;case is:De.Helpers.addClass(t[Q],"showed");break}});for(var ie=0;ie<t.time.length;ie++)switch(t.btnSettings.time){case Gt:De.Helpers.addClass(t.time[ie],"mghover");break;case is:De.Helpers.addClass(t.time[ie],"showed");break}if(t.repeat=a,t.video.muted=!!s,De.Helpers.addClass(t.container,"mg2player_mute"),s||De.Helpers.removeClass(t.container,"mg2player_mute"),t.readyRequest=!0,t.addButtonListeners(),P&&Object.entries(P).forEach(function(Z){var Q=Z[0],te=Z[1];typeof te=="function"?t.on(Q,te):typeof te=="string"&&t.on(Q,function(){De.Helpers.createImg(te)})}),x&&Array.isArray(x)&&x.forEach(function(Z){t.addCustomButton(Z.name,Z.image,Z.click)}),t.useWebm&&(t.webmSupported=t.couldUseWebm(),t.webmSupported))try{t.enableWebmErrorHandler()}catch{}},0)},r.prototype.addTemplate=function(){this.container.className="mg2player".concat(this.theme==="mgred"?" mgred":""," mg2player_preload"),this.theme==="mgred"?this.container.innerHTML='<video class="mg2player__video" playsinline preload="'.concat(this.preload,'"></video>')+'<div class="mg2player__title"></div><div class="mg2player__preload"></div><div class="mg2player__start-btn"></div><div class="mg2player__controls"><div class="mg2player__controls-cover"><div class="mg2player__controls-wrap"><div class="mg2player__play-btn"></div><div class="mg2player__play-next"></div><div class="mg2player__track"><div class="mg2player__track-wrap"><div class="mg2player__track-buffer" style="width:0;"></div><div class="mg2player__track-played" style="width:0;"></div><div class="mg2player__track-point" style="left:0;"></div></div></div><div class="mg2player__time"></div><div class="mg2player__time mg2player__time_slash">/</div><div class="mg2player__time"></div><div class="mg2player_HD mg2player_HD_disabled"></div></div></div></div><div class="mg2player__volume"><div class="mg2player__volume-bar"><div class="mg2player__volume-wrap"><div class="mg2player__volume-level"></div></div></div></div><div class="mg2player__expand"></div><div class="mg2player__btn mg2player__btn_left"></div><div class="mg2player__btn mg2player__btn_right"></div><div class="mg2player__close"></div>':this.container.innerHTML='<video class="mg2player__video" playsinline preload="'.concat(this.preload,'"></video>')+'<div class="mg2player__title"></div><div class="mg2player__preload"></div><div class="mg2player__start-btn"></div><div class="mg2player__controls"><div class="mg2player__track"><div class="mg2player__track-wrap"><div class="mg2player__track-buffer" style="width:0;"></div><div class="mg2player__track-played" style="width:0;"></div><div class="mg2player__track-point" style="left:0;"></div></div></div><div class="mg2player__controls-cover"><div class="mg2player__controls-wrap"><div class="mg2player__play-btn"></div><div class="mg2player__play-next"></div><div class="mg2player__time"></div><div class="mg2player__time mg2player__time_slash">/</div><div class="mg2player__time"></div><div class="mg2player__dummy"></div><div class="mg2player_HD mg2player_HD_disabled"></div></div></div></div><div class="mg2player__volume"><div class="mg2player__volume-bar"><div class="mg2player__volume-wrap"><div class="mg2player__volume-level"></div></div></div></div><div class="mg2player__expand"></div><div class="mg2player__btn mg2player__btn_left"></div><div class="mg2player__btn mg2player__btn_right"></div><div class="mg2player__close"></div>',this.video=this.container.querySelector("video"),this.video||(this.video=document.createElement("video"),this.video.className="mg2player__video",this.container.appendChild(this.video)),this.progressElem=this.container.querySelector(".mg2player__track-played"),this.progressPointElem=this.container.querySelector(".mg2player__track-point"),this.bufferProgressElem=this.container.querySelector(".mg2player__track-buffer"),this.muteButton=this.container.querySelector(".mg2player__volume"),this.volumeBar=this.container.querySelector(".mg2player__volume-bar"),this.volumeWrap=this.container.querySelector(".mg2player__volume-wrap"),this.volumeLevel=this.container.querySelector(".mg2player__volume-level"),this.playButton=this.container.querySelector(".mg2player__play-btn"),this.startButton=this.container.querySelector(".mg2player__start-btn"),this.time=this.container.querySelectorAll(".mg2player__time"),this.timeline=this.container.querySelector(".mg2player__track"),this.hdButton=this.container.querySelector(".mg2player_HD"),this.expandButton=this.container.querySelector(".mg2player__expand"),this.leftButton=this.container.querySelector(".mg2player__btn_left"),this.rightButton=this.container.querySelector(".mg2player__btn_right"),this.nextButton=this.container.querySelector(".mg2player__play-next"),this.closeButton=this.container.querySelector(".mg2player__close"),this.controlsContainer=this.container.querySelector(".mg2player__controls"),this.controlsWrapper=this.container.querySelector(".mg2player__controls-wrap"),this.title=this.container.querySelector(".mg2player__title"),this.addVideoListeners(),(this.video.preload==="none"||!Array.isArray(this.playlist)||this.playlist.length===0)&&this.fireEvent("ready")},r.prototype.addVideoListeners=function(){var e=this;this.container.oncontextmenu=function(t){t.preventDefault()},this.video&&(this.video.onplaying=function(){if(e.video.seeking){e.pause();return}e.status=qh,De.Helpers.addClass(e.container,"mg2player_playing"),De.Helpers.removeClass(e.container,"mg2player_preload"),e.fireEvent("play",{playReason:e.playBtnClicked?"interaction":"external"}),e.playBtnClicked=!1,e.firstFrameFired||(e.fireEvent("firstFrame"),e.firstFrameFired=!0),e.qualityChanged&&(e.startButton.style.removeProperty("visibility"),e.startButton.style.removeProperty("opacity"),e.qualityChanged=!1)},this.video.addEventListener("pause",function(){e.status=Wh,De.Helpers.removeClass(e.container,"mg2player_playing"),e.fireEvent("pause",{pauseReason:e.playBtnClicked?"interaction":"external"}),e.playBtnClicked=!1}),this.video.addEventListener("ended",function(){e.status=rr,e.fireEvent("beforeComplete"),setTimeout(function(){e.fireEvent("complete"),e.playlistItem(e.currentIndex+1)},500)}),this.video.addEventListener("error",function(){console.error(e.video.error),e.fireEvent("error","ERROR: ".concat(e.video.error))}),this.video.addEventListener("seeking",function(){e.qualityChanged&&e.deletingVideoPaused&&(e.startButton.style.removeProperty("visibility"),e.startButton.style.removeProperty("opacity"),e.qualityChanged=!1),e.fireEvent("seek",{offset:e.video.currentTime})}),this.video.onseeked=function(){e.fireEvent("seeked")},this.video.addEventListener("timeupdate",function(){De.Helpers.removeClass(e.container,"mg2player_preload"),e.progress=e.video.currentTime/e.video.duration*100,e.progressElem.style.width="".concat(e.progress,"%"),e.progressPointElem.style.left="".concat(e.progress,"%"),e.time[0].innerText=De.Helpers.formatTime(e.video.currentTime),e.fireEvent("time",{position:e.video.currentTime,duration:e.video.duration})}),this.video.addEventListener("volumechange",function(){e.video&&(e.video.muted?De.Helpers.addClass(e.container,"mg2player_mute"):De.Helpers.removeClass(e.container,"mg2player_mute")),e.fireEvent("mute",{mute:e.video.muted})}),this.video.addEventListener("progress",function(t){e.updateProgress(t)}),this.video.onclick=function(t){e.displayClickDefaultAction&&e.onPlayBtnClick(),e.fireEvent("displayClick"),t.cancelBubble=!0},this.video.addEventListener("loadstart",function(){e.video.preload!=="none"?e.status=Uh:e.time[2].innerText=De.Helpers.formatTime(0)}),this.video.addEventListener("durationchange",function(){e.time[0].innerText=De.Helpers.formatTime(e.video.currentTime),e.time[2].innerText=De.Helpers.formatTime(e.video.duration)}),this.video.oncanplay=function(){e.onCanPlay()},this.video.onwaiting=function(){De.Helpers.addClass(e.container,"mg2player_preload")},this.video.onloadedmetadata=function(){e.onCanPlay()})},r.prototype.addButtonListeners=function(){var e=this;this.btnSettings.muteButton!==Lt&&(this.muteButton.addEventListener("click",function(t){e.video&&e.setMute(!e.video.muted),t.cancelBubble=!0}),this.volumeWrap.addEventListener("click",function(t){var i=e.volumeWrap.getBoundingClientRect();e.currentVolumeLevel=(i.height-(t.clientY-i.top))/i.height,e.currentVolumeLevel>1&&(e.currentVolumeLevel=1),e.currentVolumeLevel<0&&(e.currentVolumeLevel=0),e.video&&(e.currentVolumeLevel>0&&e.setMute(!1),e.video.volume=e.currentVolumeLevel,e.volumeLevel.style.height="".concat(e.currentVolumeLevel*100,"%")),t.cancelBubble=!0}),this.volumeBar.addEventListener("click",function(t){t.cancelBubble=!0})),this.btnSettings.playButton!==Lt&&this.playButton.addEventListener("click",function(t){e.onPlayBtnClick(),t.cancelBubble=!0}),this.btnSettings.startButton!==Lt&&this.startButton.addEventListener("click",function(t){e.onPlayBtnClick(),e.fireEvent("displayClick"),t.cancelBubble=!0}),this.btnSettings.timeline!==Lt&&this.timeline.addEventListener("click",function(t){if(e.seekable){var i=e.timeline.getBoundingClientRect(),a=(t.clientX-i.left)/i.width;e.video&&e.seek(Math.floor(a*e.video.duration))}t.cancelBubble=!0}),this.btnSettings.nextButton!==Lt&&this.nextButton.addEventListener("click",function(t){e.playlistItem(e.currentIndex+1),e.fireEvent("next"),t.cancelBubble=!0}),this.btnSettings.expandButton!==Lt&&this.expandButton.addEventListener("click",function(t){e.fireEvent("expand"),t.cancelBubble=!0}),this.btnSettings.leftButton!==Lt&&this.leftButton.addEventListener("click",function(t){e.playlistItem(e.currentIndex-1),e.fireEvent("previous"),t.cancelBubble=!0}),this.btnSettings.rightButton!==Lt&&this.rightButton.addEventListener("click",function(t){e.playlistItem(e.currentIndex+1),e.fireEvent("next_2"),t.cancelBubble=!0}),this.controlsContainer.addEventListener("click",function(t){e.displayClickDefaultAction&&e.onPlayBtnClick(),e.fireEvent("displayClick"),t.cancelBubble=!0}),this.btnSettings.hdButton!==Lt&&this.hdButton.addEventListener("click",function(t){if(e.qualityChanging){t.cancelBubble=!0;return}e.hdButton.className.indexOf("mg2player_HD_disabled")>-1?e.changeQuality("720p",function(){De.Helpers.removeClass(e.hdButton,"mg2player_HD_disabled"),e.curQuality="720p",e.fireEvent("quality",{quality:"720p"}),e.qualityChanged=!0}):e.changeQuality("360p",function(){De.Helpers.addClass(e.hdButton,"mg2player_HD_disabled"),e.curQuality="360p",e.fireEvent("quality",{quality:"360p"}),e.qualityChanged=!0}),t.cancelBubble=!0})},r.prototype.play=function(){var e=this;this.video&&(De.Helpers.isIE()?this.video.play():this.video.play().catch(function(){e.video.muted=!0,e.video.play().catch(function(t){console.error("ERROR: ".concat(t.name," MESSAGE: ").concat(t.message))})}))},r.prototype.pause=function(){this.video&&this.video.pause()},r.prototype.setMute=function(e){this.video.muted=!!e},r.prototype.couldUseWebm=function(){var e=this,t="video/webm; codecs=av01.0.01M.08,opus",i=function(s){return window.MediaSource&&MediaSource.isTypeSupported&&MediaSource.isTypeSupported(s)},a=function(s){return e.video.canPlayType&&e.video.canPlayType(s).replace(/no/,"")};return!!(window.MediaError&&MediaError.MEDIA_ERR_DECODE&&(i(t)||a(t)))},r.prototype.enableWebmErrorHandler=function(){var e=this,t=[MediaError.MEDIA_ERR_DECODE,MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED],i=new RegExp(/(_360)\.webm($|\?)/);this.video.addEventListener("error",function(a){var s=e.video;if(s.currentTime<1&&t.indexOf(s.error.code)>-1&&i.test(s.src)){var n=!s.paused,l=s.currentTime;s.src=s.src.replace(i,"$1.mp4$2"),l>0&&(s.currentTime=l),n&&s.paused&&s.play(),a.preventDefault(),a.stopPropagation()}},{capture:!0,passive:!1})},r.prototype.setSuitableExt=function(e){return this.useWebm&&this.webmSupported?e.replace(/\.mp4/,".webm"):e},r.prototype.playlistItem=function(e,t){if(t===void 0&&(t=!0),e>=this.playlist.length?this.currentIndex=0:e<0?this.currentIndex=this.playlist.length-1:this.currentIndex=e,this.video&&Object.prototype.hasOwnProperty.call(this.playlist,this.currentIndex)){var i=this.playlist[this.currentIndex].file;i=i.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//")),this.curQuality==="720p"?i=i.replace(/^([^?]+)_360\.(mp4|webm)($|\?)/i,"$1.$2$3"):i=this.setSuitableExt(i),this.video.src=i,this.video.poster=this.playlist[this.currentIndex].image.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//")),De.Helpers.addClass(this.container,"mg2player_preload")}this.title.innerText=this.playlist[this.currentIndex].title||"",this.firstFrameFired=!1,t&&(e<this.playlist.length||!!this.repeat)&&this.play(),this.fireEvent("playlistItem",{index:this.currentIndex})},r.prototype.setControls=function(e){e?De.Helpers.addClass(this.container,"mg2player_controls"):De.Helpers.removeClass(this.container,"mg2player_controls"),this.fireEvent("controls")},r.prototype.seek=function(e){this.video&&this.video.duration>=e&&(this.video.currentTime=e)},r.prototype.resize=function(e,t,i){var a=this;if(e===void 0&&(e=null),t===void 0&&(t=null),i===void 0&&(i=null),this.aspectRatio=(i||"16:9").match(/(\d+):(\d+)/).reduce(function(n,l,c){return n[["ratio","width","height"][c]]=l,n},{}),this.aspectRatio.width=parseInt(this.aspectRatio.width,10),this.aspectRatio.height=parseInt(this.aspectRatio.height,10),e===null?this.container.removeAttribute("style"):(this.container.style.width="".concat(e,"px"),this.container.style.height="".concat(t,"px")),this.video&&(e===null?this.video.removeAttribute("style"):(this.video.style.width="".concat(e,"px"),this.video.style.height="".concat(e/(this.aspectRatio.width/this.aspectRatio.height),"px")),parseFloat(this.video.style.height)>parseFloat(this.container.style.height)&&(this.video.style.height="".concat(t,"px"),this.video.style.width="".concat(t*(this.aspectRatio.width/this.aspectRatio.height),"px")),this.theme==="mgred")){var s=this.video.clientWidth||this.video.offsetWidth;s<=350?this.time.forEach(function(n){De.Helpers.removeClass(n,"showed"),De.Helpers.removeClass(n,"mghover")}):this.time.forEach(function(n){a.btnSettings.time===Gt&&De.Helpers.addClass(n,"mghover"),a.btnSettings.time===is&&De.Helpers.addClass(n,"showed")})}},r.prototype.load=function(e){var t=this;setTimeout(function(){Array.isArray(e)?t.playlist=e:e&&typeof e=="object"&&(t.playlist=[e]),t.playlistItem(0,!1),t.playlistRequest=!0,t.video.preload==="none"&&t.fireEvent("playlist")},0)},r.prototype.updateProgress=function(e){e.lengthComputable?this.buffered=e.loaded/e.total*100:this.buffered=100,this.bufferProgressElem.style.width="".concat(this.buffered,"%")},r.prototype.getDuration=function(){return this.video.duration},r.prototype.getState=function(){return this.status},r.prototype.getContainer=function(){return this.container},r.prototype.onPlayBtnClick=function(){this.video&&(!this.video.paused&&!this.video.ended?this.pause():this.play()),this.playBtnClicked=!0},r.prototype.on=function(e,t){Object.prototype.hasOwnProperty.call(this.eventListeners,e)||(this.eventListeners[e]=[]),this.eventListeners[e].push(t)},r.prototype.fireEvent=function(e,t){t===void 0&&(t=null),Object.prototype.hasOwnProperty.call(this.eventListeners,e)&&this.eventListeners[e].forEach(function(i){i(t)})},r.prototype.changeQuality=function(e,t){if(!(!e||e===this.curQuality))switch(e){case"720p":this.video.src.indexOf("_360.")>-1&&this.loadVideoSilent(this.video.src.replace(/^([^?]+)_360\.(mp4|webm)($|\?)/i,"$1.$2$3"),t);break;case"360p":this.video.src.indexOf("_360.")===-1&&this.loadVideoSilent(this.video.src.replace(/^([^?]+?)(_360)?\.(mp4|webm)($|\?)/i,"$1_360.$3$4"),t);break}},r.prototype.loadVideoSilent=function(e,t){var i=this;!e||(this.qualityChanging=!0,this.startButton.style.visibility="hidden",this.startButton.style.opacity="0",this.loadingVideo=this.video.cloneNode(!0),this.loadingVideo.src="".concat(e,"#t=").concat(this.video.currentTime),this.loadingVideo.style.visibility="hidden",this.loadingVideo.style.opacity="0",this.loadingVideo.duration&&(this.loadingVideo.currentTime=this.video.currentTime),this.loadingVideo.oncanplay=function(){i.onNewVideoCanPlay()},(De.Helpers.isSafari()||De.Helpers.iOSversion())&&(this.loadingVideo.onloadedmetadata=function(){i.onNewVideoCanPlay()}),this.loadingVideo.onplaying=function(){De.Helpers.removeClass(i.container,"mg2player_preload"),i.qualityTimeout||(i.qualityTimeout=setTimeout(function(){i.deletingVideoElem=i.video,i.loadingVideo.currentTime=i.video.currentTime,i.deletingVideoPaused=i.video.paused,i.loadingVideo.muted=i.video.muted,i.deletingVideoElem.pause(),i.deletingVideoElem.style.visibility="hidden",i.deletingVideoElem.style.opacity="0",i.loadingVideo.style.removeProperty("visibility"),i.loadingVideo.style.removeProperty("opacity"),i.deletingVideoElem.parentNode.removeChild(i.deletingVideoElem),i.video=i.loadingVideo,i.deletingVideoPaused&&i.pause(),i.addVideoListeners(),i.qualityChanging=!1,i.loadingVideoPlayRequested=!1,i.qualityTimeout=null,t&&t()},500))},this.loadingVideo.onwaiting=function(){De.Helpers.addClass(i.container,"mg2player_preload")},De.Helpers.isIE()||this.video.addEventListener("timeupdate",function(){i.loadingVideo&&i.loadingVideo.duration&&!i.loadingVideo.paused&&(i.loadingVideo.currentTime=i.video.currentTime)}),this.video.parentNode.insertBefore(this.loadingVideo,this.video))},r.prototype.onNewVideoCanPlay=function(){this.loadingVideoPlayRequested||(this.loadingVideo.muted=!0,De.Helpers.isIE()?this.video.play():this.loadingVideo.play().catch(function(e){console.error("ERROR: ".concat(e.name," MESSAGE: ").concat(e.message))}),this.loadingVideoPlayRequested=!0)},r.prototype.onCanPlay=function(){De.Helpers.removeClass(this.container,"mg2player_preload"),this.status=rr,this.video.preload!=="none"?(this.readyRequest&&(this.readyRequest=!1,this.fireEvent("ready")),this.playlistRequest&&(this.playlistRequest=!1,this.fireEvent("playlist"))):this.play()},r.prototype.addCustomButton=function(e,t,i){var a=this,s=document.createElement("DIV"),n=document.createElement("IMG");n.src=t,n.title=e.toString(),s.className="mg2player__custom-btn mghover",s.title=e.toString(),typeof i=="function"?s.addEventListener("click",function(l){l.cancelBubble=!0,i(l)}):typeof i=="string"&&s.addEventListener("click",function(l){l.cancelBubble=!0;var c=a.rootElement.ownerDocument||a.rootElement,h=c.defaultView.open(i,"_blank");h&&h.focus()}),s.appendChild(n),this.controlsWrapper.appendChild(s),this.customButtons.push({name:e,image:t,onClick:i,elem:s})},r.prototype.removeCustomButton=function(e){var t=this,i=e.toString();this.customButtons.forEach(function(a){a.name.toString()===i&&(a.elem.parentNode.removeChild(a.elem),t.customButtons.unshift(a))})},r}();as.MgPlayer=jh});var ca=pe(rs=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(rs,"__esModule",{value:!0});rs.MgAdPlayerComponent=void 0;var ft=Ve(),Be=Pe(),Jt=Ce(),ss=He(),zh=nr(),Fh="playing",vo="paused",Yh="buffering",bo="idle",or="hover",gi="hidden",$h="visible",Zh=function(){function r(e,t){var i=this;this.amby=e.amby;var a=t.name,s=a===void 0?"ad":a,n=t.container,l=t.mgsetup,c=t.quality,h=t.adPlaylist;if(this.rootElement=e.rootElement,this.name=s,this.playerContainerDiv=n,this.config=l||{},this.playerId=this.playerContainerDiv.id,this.aspectRatio=this.amby.get("player.aspectratio"),!Array.isArray(h)){(0,ss.mgDebug)("adPlaylist is not an array"),this.amby.dispatch(Be.upsertAdState({errorMessage:"adPlaylist is not an array"})),this.amby.dispatch(Be.setAdStatus(ft.states.STATUS_ERROR,this.name));return}this.playlist=[],h.forEach(function(y){i.playlist.push({file:c==="original"?y.link:y.link.replace(/^([^?]+?)(_360)?\.(mp4|webm)($|\?)/i,"$1_360.$3$4"),image:y.img,title:y.title,mediaid:y.id,hash:y.hash,videoExt:JSON.parse(atob(y.videoExt))})});var g={playButton:or,startButton:gi,nextButton:gi,time:or,timeline:or,hdButton:gi,muteButton:$h,closeButton:gi,expandButton:gi,leftButton:gi,rightButton:gi};this.config&&this.config.buttonSettings?this.config.buttonSettings=Jt.Helpers.mergeObjects(g,this.config.buttonSettings):this.config.buttonSettings=g,this.currentPosition=0,this.amby.addSubListener("".concat(this.name,".init"),function(){i.onPlayerInit()}),this.amby.addTriggerListener("".concat(this.name,".mute"),function(){i.player&&i.player.setMute(!0)}),this.amby.addTriggerListener("".concat(this.name,".unmute"),function(){i.player&&i.player.setMute(!1)}),this.amby.addTriggerListener("".concat(this.name,".resize"),function(){i.onPlayerResize()}),this.amby.addTriggerListener("".concat(this.name,".actionPlay"),function(){i.player&&[Fh,Yh].indexOf(i.player.getState())===-1?i.player.play():i.playRequested=!0}),this.amby.addTriggerListener("".concat(this.name,".actionPause"),function(){i.player&&[vo,bo].indexOf(i.player.getState())===-1&&i.player.pause()}),this.amby.addTriggerListener("".concat(this.name,".actionStop"),function(){i.player&&[vo,bo].indexOf(i.player.getState())===-1&&(i.player.pause(),i.reset()),i.amby.dispatch(Be.setAdStatus(ft.states.STATUS_STOPPED,i.name))}),this.amby.addSubListener("popup.visible",function(){i.onPlayerChangedLocation()}),this.amby.get("formatConfig.moveToBody",!1)&&this.amby.addSubListener("player.isSticky",function(){i.onPlayerChangedLocation()}),this.observer=Jt.Helpers.onVisible(this.playerContainerDiv,function(y){y||i.amby.get("player.isSticky",!1)?i.amby.dispatch(Be.setPlayerInSight(!0)):i.amby.dispatch(Be.setPlayerInSight(!1))},this.amby.get("formatConfig.visiblePart",.9),this.amby.get("formatConfig.hiddenPart")),this.viewableObserver=new IntersectionObserver(function(y){y.forEach(function(T){var b;i.amby.dispatch(Be.upsertState((b={},b[i.name.toString()]={viewable:T.isIntersecting},b)))})},{threshold:[.5]}),this.viewableObserver.observe(this.playerContainerDiv)}return r.prototype.onPlayerInit=function(){var e=this;switch(this.amby.get("".concat(this.name,".init"))){case ft.states.INIT_NEEDED:this.amby.dispatch(Be.setAdInit(ft.states.INIT_IN_PROGRESS,this.name)),Jt.Helpers.vitalCall(function(){return e.initPlayer()},this.amby.get("isVital",!0));break;case ft.states.INIT_RESET:this.amby.dispatch(Be.setAdInit(ft.states.INIT_IN_PROGRESS,this.name)),this.reset(),this.initPlayer();break;case ft.states.INIT_STOP:this.reset();break}},r.prototype.onPlayerResize=function(e){var t=this;e===void 0&&(e=!1);var i=this.amby.get("ad.size");this.player&&(i?this.player.resize(i.width,i.height,this.aspectRatio):this.player.resize()),Jt.Helpers.isIE()&&!e&&setTimeout(function(){t.onPlayerResize(!0)},1200)},r.prototype.initPlayer=function(){this.amby.dispatch(Be.setAdStatus(ft.states.STATUS_INIT,this.name));var e=this.amby.get("formatConfig.staticRoot")||"video-native.".concat(this.amby.get("subnetDomain","")),t=[],i=this.amby.get("libConfig.mgPlayerStylesUrlTemplate"),a=i.replace("{{DOMAIN}}",e),s=this.amby.get("ad.initMuted",!0);this.player=new zh.MgPlayer(this.playerId,this.rootElement),this.player.setup(Jt.Helpers.mergeObjects({autostart:!1,repeat:!1,mute:s,playlist:t,stylePath:a,seekable:!1,displayClickDefaultAction:!1,preload:"metadata"},this.config)),this.addPlayerListeners()},r.prototype.addPlayerListeners=function(){var e=this;this.player.on("ready",function(){Jt.Helpers.vitalCall(function(){Jt.Helpers.repaintSafari()},e.amby.get("isVital",!0)),e.player&&e.player.load(e.playlist)}),this.player.on("playlist",function(){e.impressions=0,e.amby.dispatch(Be.setAdInit(ft.states.INIT_DONE)),e.amby.dispatch(Be.setAdStatus(ft.states.STATUS_READY,e.name)),e.playRequested&&e.player.play()}),this.player.on("displayClick",function(){if(e.amby.dispatch(Be.setTriggerToTrue("ad.clicked")),e.amby.get("ad.adClickUrl")){var t=Jt.Helpers.fromAscii(e.amby.get("ad.adClickUrl")),i=window.open(t,"_blank");i&&(i.focus(),e.amby.dispatch(Be.setTriggerToTrue("ad.actionPause")))}}),this.player.on("play",function(t){e.amby.dispatch(Be.setAdStatus(ft.states.STATUS_PLAYING,e.name)),t.playReason==="interaction"&&(e.amby.dispatch(Be.upsertPlayerState({isPlayingOnVisible:!0})),e.amby.dispatch(Be.setTriggerToTrue("ad.userPlay")))}),this.player.on("pause",function(t){(0,ss.mgDebug)("Player Pause Event ".concat(t.pauseReason)),t.pauseReason==="interaction"&&(e.amby.dispatch(Be.upsertPlayerState({isPlayingOnVisible:!1})),e.amby.dispatch(Be.setTriggerToTrue("ad.userPause"))),e.amby.dispatch(Be.setAdStatus(ft.states.STATUS_PAUSED,e.name))}),this.player.on("error",function(t){e.amby.dispatch(Be.setAdStatus(ft.states.STATUS_ERROR,e.name)),(0,ss.mgDebug)(t)}),this.player.on("complete",function(){e.impressions>=e.playlist.length&&(e.reset(),e.amby.dispatch(Be.setAdStatus(ft.states.STATUS_STOPPED,e.name)))}),this.player.on("mute",function(t){e.amby.get("player.isControlsVisible",!1)&&(t.mute?(e.amby.dispatch(Be.upsertAdState({initMuted:!0})),e.amby.dispatch(Be.setTriggerToTrue("ad.userMute"))):(e.amby.dispatch(Be.upsertAdState({initMuted:!1})),e.amby.dispatch(Be.setTriggerToTrue("ad.userUnmute")))),e.amby.dispatch(Be.setAdMuted(t.mute))}),this.player.on("playlistItem",function(t){e.amby.dispatch(Be.upsertAdState({adTag:e.playlist[t.index].mediaid,videoUrl:e.playlist[t.index].file,adPlayer:2,adClickUrl:(0,Jt.getInObject)(e.playlist[t.index],["videoExt","clickUrl"]),adHash:e.playlist[t.index].hash}))}),this.player.on("time",function(t){t.position-e.currentPosition>1&&(e.currentPosition=Math.floor(t.position),e.amby.dispatch(Be.upsertAdState({position:e.currentPosition})))}),this.player.on("firstFrame",function(){e.currentPosition=0,e.impressions+=1,e.player.setControls(!0),e.amby.dispatch(Be.upsertAdState({duration:e.player.getDuration(),complete:!1})),e.amby.dispatch(Be.setTriggerToTrue("ad.impression"))}),this.player.on("beforeComplete",function(){e.amby.dispatch(Be.upsertAdState({complete:!0}))})},r.prototype.onPlayerChangedLocation=function(){var e=this;this.amby.get("player.isAdPlaying",!1)&&this.player&&this.amby.get("ad.status")===ft.states.STATUS_PLAYING&&this.amby.get("formatConfig.inlinePlacement")&&setTimeout(function(){e.player.play()},0)},r.prototype.reset=function(){for((0,ss.mgDebug)("mgAdPlayer: Deleting AD player.".concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),this.amby.dispatch(Be.upsertAdState({adTag:null,adHash:null}));this.playerContainerDiv&&this.playerContainerDiv.firstChild;)this.playerContainerDiv.removeChild(this.playerContainerDiv.firstChild);delete this.player},r}();rs.MgAdPlayerComponent=Zh});var os=pe(ns=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ns,"__esModule",{value:!0});ns.ImaSdkComponent=void 0;var Ge=Ve(),be=Pe(),it=He(),Xh=na(),ha=Ce(),Jh=wi(),xo="mgImaSdkLib",Kh=function(){function r(e,t){var i=this;this.amby=e.amby;var a=t.name,s=a===void 0?"ad":a,n=t.adSource,l=t.adResponse,c=t.playerDivId,h=t.playerDiv,g=h===void 0?null:h,y=t.requestsLimit;this.inited=!1,this.name=s,this.playerDivId=c,this.adSource=n,this.adResponse=l,this.requestsLimit=parseInt(y,10)||3,this.requestsNumber=0,this.previousHeight=null,this.playerDiv=g||e.rootElement.querySelector("#".concat(this.playerDivId)),this.amby.get("formatConfig.forceMute",!1)&&(this.noSoundComponent=new Xh.NoSoundComponent(this.amby,{playerDiv:this.playerDiv,adName:s})),this.amby.dispatch(be.setAdInit(null,this.name)),this.amby.addSubListener("".concat(this.name,".init"),function(){[Ge.states.INIT_NEEDED,Ge.states.INIT_RESET].indexOf(i.amby.get("".concat(i.name,".init")))>-1&&(0,it.mgDebug)("Ad starts search."),ha.Helpers.vitalCall(function(){return i.initPlayer()},i.amby.get("isVital",!0))}),this.amby.addTriggerListener("".concat(this.name,".actionPlay"),function(){if((0,it.mgDebug)("IMA SDK: actionPlay"),i.adsManager){i.apiAction=!0;var T=i.amby.get("".concat(i.name,".status"));(!T||T!==Ge.states.STATUS_PLAYING)&&(!T||T===Ge.states.STATUS_READY?i.start():i.adsManager.resume())}else i.playRequested=!0}),this.amby.addTriggerListener("".concat(this.name,".actionPause"),function(){var T=i.amby.get("".concat(i.name,".status"));i.adsManager&&i.adsManager.getCurrentAd()&&[Ge.states.STATUS_PAUSED,Ge.states.STATUS_READY].indexOf(T)===-1&&i.adsManager.pause()}),this.amby.addTriggerListener("".concat(this.name,".actionStop"),function(){i.adsManager&&i.adsManager.stop()}),this.amby.addTriggerListener("".concat(this.name,".actionClose"),function(){i.amby.dispatch(be.setAdVisible(!1,i.name)),i.skip()}),this.amby.addTriggerListener("".concat(this.name,".actionSkip"),function(){i.amby.dispatch(be.setAdVisible(!1,i.name)),i.skip()}),this.amby.addTriggerListener("ad.mute",function(){i.mute()}),this.amby.addTriggerListener("ad.unmute",function(){i.unmute()}),this.amby.addTriggerListener("ad.resize",function(){i.onResize()})}return r.prototype.initPlayer=function(){var e=this;switch(this.amby.get("".concat(this.name,".init"))){case Ge.states.INIT_NEEDED:this.amby.dispatch(be.setAdInit(Ge.states.INIT_IN_PROGRESS,this.name)),document.getElementById(xo)?window.google&&window.google.ima?this.amby.dispatch(be.setAdInit(Ge.states.INIT_RESET,this.name)):document.getElementById(xo).addEventListener("load",function(){e.initScript(),e.amby.dispatch(be.setAdInit(Ge.states.INIT_DONE,e.name)),e.inited=!0}):this.addScript();break;case Ge.states.INIT_RESET:this.amby.dispatch(be.setAdInit(Ge.states.INIT_IN_PROGRESS,this.name)),this.reset(),this.createPlayer();break;case Ge.states.INIT_STOP:this.reset();break}},r.prototype.addScript=function(){var e=this,t=document.location.protocol;t=t.indexOf("http")===0?t:"https:";var i=new Jh.Loader({imaSdk:{url:this.amby.get("ad.playerUrl")||"".concat(t,"//imasdk.googleapis.com/js/sdkloader/ima3").concat(window.location.href.indexOf("mgwdebug")>-1?"_debug":"",".js"),exists:"typeof window.google !== 'undefined' && typeof window.google.ima !== 'undefined'"}},function(){e.initScript(),e.amby.dispatch(be.setAdInit(Ge.states.INIT_DONE,e.name)),e.inited=!0,e.createPlayer()});i.checkLoaded()},r.prototype.initScript=function(){var e=this;if(this.ima=(0,ha.getInObject)(window,["google","ima"]),!this.ima){(0,it.mgDebug)("IMA SDK ERROR: there is no IMA.");return}this.videoContent=document.createElement("video"),this.videoContent.style.height="100%",this.videoContent.style.width="100%",this.videoContent.style.zIndex="-1",this.videoContent.style.position="absolute",this.videoContent.style.left="0",this.videoContent.style.top="0",this.videoContent.setAttribute("playsinline","true"),this.videoContent.setAttribute("webkit-playsinline","true"),this.playerDiv.appendChild(this.videoContent),this.adDisplayContainer=new this.ima.AdDisplayContainer(this.playerDiv,this.videoContent),this.adDisplayContainer.initialize(),this.adsLoader=new this.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(this.ima.ImaSdkSettings.VpaidMode.INSECURE),this.renderingSettings=new this.ima.AdsRenderingSettings,this.renderingSettings.useStyledNonLinearAds=!0,this.renderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!1,this.renderingSettings.loadVideoTimeout=6e4,this.renderingSettings.enablePreloading=!0,this.adsLoader.addEventListener(this.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){(0,it.mgDebug)("IMA SDK manager loaded."),e.adsManager=t.getAdsManager({currentTime:0},e.renderingSettings),e.onAdManagerLoaded(),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_READY,e.name))},!1),this.adsLoader.addEventListener(this.ima.AdErrorEvent.Type.AD_ERROR,function(t){e.onAdError(t)},!1)},r.prototype.onAdManagerLoaded=function(){var e=this;this.adsManager.addEventListener(this.ima.AdErrorEvent.Type.AD_ERROR,function(t){e.onAdError(t)}),this.adsManager.addEventListener(this.ima.AdEvent.Type.LOADED,function(t){var i;(0,it.mgDebug)("IMA SDK ads loaded."),t.getAd&&t.getAd()&&(t.getAd().getDuration&&t.getAd().getDuration()&&(e.amby.dispatch(be.upsertAdState({position:0,duration:t.getAd().getDuration()})),e.name!=="ad"&&e.amby.dispatch(be.upsertState({position:0,duration:t.getAd().getDuration()}))),t.getAd().isLinear&&e.amby.dispatch(be.upsertState((i={},i[e.name]={isLinear:t.getAd().isLinear()},i)))),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_READY,e.name)),e.playRequested&&e.adsManager&&(e.start(),e.playRequested=!1),e.resizeNeeded&&e.onResize()}),this.adsManager.addEventListener(this.ima.AdEvent.Type.STARTED,function(){(0,it.mgDebug)("IMA SDK ads started."),e.adsManager.getCurrentAd&&e.adsManager.getCurrentAd()&&e.adsManager.getCurrentAd().getDuration&&e.adsManager.getCurrentAd().getDuration()&&e.amby.dispatch(be.upsertAdState({position:0,duration:e.adsManager.getCurrentAd().getDuration()})),e.onResize(),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_PLAYING,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.PAUSED,function(){e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_PAUSED,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.RESUMED,function(){e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_PLAYING,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.IMPRESSION,function(){(0,it.mgDebug)("IMA SDK ads impression."),e.amby.dispatch(be.setTriggerToTrue("".concat(e.name,".impression")))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.SKIPPED,function(){(0,it.mgDebug)("IMA SDK Skipped"),setTimeout(function(){e.adsManager.destroy()},400),e.amby.dispatch(be.setTriggerToTrue("".concat(e.name,".skip"))),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_STOPPED,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.USER_CLOSE,function(){(0,it.mgDebug)("IMA SDK user close"),setTimeout(function(){e.adsManager.destroy()},400),e.amby.dispatch(be.setTriggerToTrue("".concat(e.name,".complete"))),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_STOPPED,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.COMPLETE,function(){(0,it.mgDebug)("IMA SDK complete"),e.amby.dispatch(be.setTriggerToTrue("".concat(e.name,".complete")))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){(0,it.mgDebug)("IMA SDK ALL complete"),setTimeout(function(){e.adsManager.destroy()},400),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_STOPPED,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.CLICK,function(){e.amby.dispatch(be.setTriggerToTrue("".concat(e.name,".clicked")))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_READY,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){e.adsManager.destroy(),e.amby.dispatch(be.setAdStatus(Ge.states.STATUS_STOPPED,e.name))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.FIRST_QUARTILE,function(){e.amby.dispatch(be.upsertAdState({position:Math.ceil(e.amby.get("ad.duration")/4)}))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.MIDPOINT,function(){e.amby.dispatch(be.upsertAdState({position:Math.ceil(e.amby.get("ad.duration")/2)}))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.THIRD_QUARTILE,function(){e.amby.dispatch(be.upsertAdState({position:e.amby.get("ad.duration")/4*3}))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.VOLUME_CHANGED,function(t){t.getAd&&t.getAd()&&t.getAd().g&&t.getAd().g.volume?e.amby.dispatch(be.setAdMuted(!1)):e.amby.dispatch(be.setAdMuted(!0))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.AD_PROGRESS,function(t){var i;t.getAdData&&t.getAdData()&&e.amby.dispatch(be.upsertState((i={},i[e.name]={position:t.getAdData().currentTime},i)))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.LINEAR_CHANGED,function(t){var i;t.getAd&&t.getAd()&&e.amby.dispatch(be.upsertState((i={},i[e.name]={isLinear:t.getAd().isLinear()},i)))}),this.adsManager.addEventListener(this.ima.AdEvent.Type.LOG,function(t){var i;e.amby.dispatch(be.upsertState((i={},i[e.name]={logMessage:t.toString()},i)))})},r.prototype.createPlayer=function(){(0,it.mgDebug)("Creating new IMA SDK request."),this.amby.dispatch(be.setAdStatus(Ge.states.STATUS_INIT,this.name)),this.requestsNumber+=1,this.adsLoader.requestAds(this.getRequest())},r.prototype.start=function(){var e;try{var t=this.amby.get("ad.size",{width:300,height:169});this.adsManager.init(t.width,t.height,this.ima.ViewMode.NORMAL),(0,it.mgDebug)("IMA SDK initialising ad...")}catch(i){(0,it.mgDebug)(i.getError()),this.amby.dispatch(be.upsertAdState({errorMessage:"".concat(i.getError().getErrorCode()," ").concat(i.getError().getMessage())})),this.name!=="ad"&&this.amby.dispatch(be.upsertState((e={},e[this.name]={errorMessage:"".concat(i.getError().getErrorCode()," ").concat(i.getError().getMessage())},e)))}(this.amby.get("ad.initMuted",!0)||ha.Helpers.iOSversion())&&this.mute(),ha.Helpers.iOSversion()&&this.amby.dispatch(be.upsertState({player:{muted:!0}})),this.adsManager.start(),(0,it.mgDebug)("IMA SDK start ad...")},r.prototype.reset=function(){(0,it.mgDebug)("IMA SDK: Deleting AD player."),this.close(),this.adsManager&&this.adsManager.destroy(),this.requestsNumber=0},r.prototype.mute=function(){var e=this;this.amby.dispatch(be.upsertState({rawPhase:9,widget:{rawplayer:!0}})),ha.Helpers.vitalCall(function(){e.adsManager&&((0,it.mgDebug)("IMA SDK: AD mute request sent."),e.adsManager.setVolume(0),e.amby.dispatch(be.setAdMuted(!0)),e.amby.dispatch(be.upsertState({muteBtn:{muted:!0}})))},this.amby.get("isVital",!0))},r.prototype.unmute=function(){this.adsManager&&((0,it.mgDebug)("IMA SDK: AD unmute request sent."),this.adsManager.setVolume(1),this.amby.dispatch(be.setAdMuted(!1)),this.amby.dispatch(be.upsertState({muteBtn:{muted:!1}})))},r.prototype.close=function(){this.adsManager&&this.adsManager.stop()},r.prototype.skip=function(){this.adsManager&&(this.adsManager.getAdSkippableState()?this.adsManager.skip():this.adsManager.stop())},r.prototype.onResize=function(){if(this.adsManager&&this.adsManager.getCurrentAd()){var e=this.amby.get("ad.size",{width:300,height:169});this.adsManager.resize(e.width,e.height,this.ima.ViewMode.NORMAL);var t=this.playerDiv.querySelector("iframe");if(t){var i=t.style.display;t.style.display="none",this.previousHeight=t.offsetHeight,t.style.display=i}}[Ge.states.STATUS_READY,Ge.states.STATUS_PLAYING,Ge.states.STATUS_PAUSED].indexOf(this.amby.get("".concat(this.name,".status")))===-1&&(this.resizeNeeded=!0)},r.prototype.getRequest=function(){this.adsRequest=new this.ima.AdsRequest,this.adResponse?this.adsRequest.adsResponse=this.adResponse:this.adsRequest.adTagUrl=this.adSource.replace(/^(http:\/\/|\/\/)/,"https://");var e=this.amby.get("ad.size",{width:300,height:169});return this.adsRequest.linearAdSlotWidth=e.width,this.adsRequest.linearAdSlotHeight=e.height,this.adsRequest.nonLinearAdSlotWidth=e.width,this.adsRequest.nonLinearAdSlotHeight=e.height,this.adsRequest.contentDuration=0,this.adsRequest.vastLoadTimeout=15e3,this.adsRequest},r.prototype.onAdError=function(e){var t,i=this;(0,it.mgDebug)(e.getError()),this.amby.dispatch(be.upsertAdState({errorMessage:"".concat(e.getError().getErrorCode()," ").concat(e.getError().getMessage())})),this.name!=="ad"&&this.amby.dispatch(be.upsertState((t={},t[this.name]={errorMessage:"".concat(e.getError().getErrorCode()," ").concat(e.getError().getMessage())},t))),this.adsManager&&this.adsManager.destroy(),this.requestsLimit>this.requestsNumber?(this.requestsNumber+=1,setTimeout(function(){i.adsLoader.requestAds(i.getRequest())},500)):this.amby.dispatch(be.setAdStatus(Ge.states.STATUS_ERROR,this.name))},r}();ns.ImaSdkComponent=Kh});var ds=pe(ps=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ps,"__esModule",{value:!0});ps.SkipAdButtonComponent=void 0;var ls=Ve(),ua=Pe(),ma=Ce(),Qh=He(),eu=function(){function r(e,t,i){this.amby=e,this.container=t,this.playerName=i,this.widgetId=this.amby.get("widgetId"),this.elemText=ma.Helpers.getTranslated(this.amby,"skipText","Skip"),this.timeToSkipText=ma.Helpers.getTranslated(this.amby,"skipOffsetText","Skip ad in %s");var a=ma.Helpers.getParentBlockByClass(this.container,"._mgw_".concat(this.widgetId));a&&(this.elem=a.querySelector("div[class*=mgSkipButton]")),this.elem?this.addClickListeners():this.createElement(),this.addListeners(),(0,Qh.mgDebug)("Skip Ad Button Component initialised")}return r.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="mgSkipButton adSkipButton",this.elem.innerText=this.elemText,this.container.appendChild(this.elem),this.addClickListeners()},r.prototype.addClickListeners=function(){var e=this;this.elem&&this.elem.addEventListener("click",function(t){e.amby.get("skipBtn.skipable",!1)&&(e.amby.dispatch(ua.setTriggerToTrue("".concat(e.playerName,".actionSkip"))),e.stopInterval()),t.cancelBubble=!0})},r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("skipBtn.visible",function(){e.amby.get("skipBtn.visible",!1)?ma.Helpers.addClass(e.elem,"showed"):ma.Helpers.removeClass(e.elem,"showed")}),this.amby.addSubListener("".concat(this.playerName,".status"),function(){switch(e.amby.get("".concat(e.playerName,".status"))){case ls.states.STATUS_READY:e.skipoffset=e.amby.get("".concat(e.playerName,".skipoffset")),e.timeToSkip=parseInt(e.skipoffset,10);break;case ls.states.STATUS_PLAYING:e.skipoffset&&e.createInterval();break;case ls.states.STATUS_PAUSED:e.skipoffset&&e.pauseInterval();break;case ls.states.STATUS_STOPPED:e.skipoffset&&e.stopInterval();break}}),this.amby.addSubListener("skipBtn.skipable",function(){e.amby.get("skipBtn.skipable",!0)&&e.skipoffset&&e.skipIntervalId&&(e.timeToSkip=0)})},r.prototype.createInterval=function(){var e=this;if(!this.skipIntervalId){this.amby.dispatch(ua.upsertState({skipBtn:{skipable:!1}}));var t=Math.ceil(this.timeToSkip);this.timeToSkip>0&&(this.elem.innerText=this.timeToSkipText.replace("%s",t)),this.skipIntervalId=setInterval(function(){t=Math.ceil(e.timeToSkip),e.elem.innerText=e.timeToSkipText.replace("%s",t),e.timeToSkip<=0&&e.skipIntervalId?(clearInterval(e.skipIntervalId),e.skipIntervalId=null,e.elem.innerText=e.elemText,e.amby.dispatch(ua.upsertState({skipBtn:{skipable:!0}}))):e.timeToSkip-=.1},100)}this.amby.dispatch(ua.upsertState({skipBtn:{visible:!0}}))},r.prototype.pauseInterval=function(){this.skipIntervalId&&(clearInterval(this.skipIntervalId),this.skipIntervalId=null)},r.prototype.stopInterval=function(){this.pauseInterval(),this.timeToSkip=parseInt(this.skipoffset,10),this.amby.dispatch(ua.upsertState({skipBtn:{visible:!1,skipable:!1}}))},r}();ps.SkipAdButtonComponent=eu});var fa=pe(cs=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(cs,"__esModule",{value:!0});cs.MuteButtonComponent=void 0;var tu=Pe(),ri=Ce(),iu=function(){function r(e,t){this.amby=e,this.container=t,this.widgetId=this.amby.get("widgetId");var i=ri.Helpers.getParentBlockByClass(this.container,"_mgw_".concat(this.widgetId));i&&(this.elem=i.querySelector(".mgMuteButton")),this.elem||this.createElement(),this.amby.get("muteBtn.muted",!1)&&ri.Helpers.addClass(this.elem,"muted"),this.addListeners()}return r.prototype.createElement=function(){this.elem=document.createElement("div"),this.elem.className="mgMuteButton",this.container.appendChild(this.elem)},r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("muteBtn.muted",function(){e.amby.get("muteBtn.muted",!1)?ri.Helpers.addClass(e.elem,"muted"):ri.Helpers.removeClass(e.elem,"muted")}),this.amby.addSubListener("player.isControlsVisible",function(){e.amby.get("player.isControlsVisible",!1)?ri.Helpers.removeClass(e.elem,"showed"):ri.Helpers.addClass(e.elem,"showed")}),this.amby.addSubListener("muteBtn.visible",function(){e.amby.get("muteBtn.visible",!1)?ri.Helpers.addClass(e.elem,"showed"):ri.Helpers.removeClass(e.elem,"showed")}),this.elem.addEventListener("click",function(t){e.amby.dispatch(tu.setTriggerToTrue("muteBtn.clicked")),t.cancelBubble=!0})},r}();cs.MuteButtonComponent=iu});var To=pe(us=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(us,"__esModule",{value:!0});us.VpaidPlayerBase=void 0;var hs=Ve(),ni=Ce(),au=na(),su=Pa(),Kt=He(),ot=Pe(),ru=function(){function r(e,t){var i=this;this.events={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},this.inited=!1,this.initRequested=!1,this.requestsLimit=0,this.lastPosition=0,this.positionEventEmitted=!1,this.parameters={},this.wrapperNumber=0,this.vastIndex=0,this.adIndex=0,this.vpaidMode=hs.vpaidModes.INSECURE,this.amby=e.amby;var a=t.name,s=a===void 0?"ad":a,n=t.adSource,l=t.adResponse,c=l===void 0?null:l,h=t.playerDivId,g=t.playerDiv,y=g===void 0?null:g,T=t.desiredBitrate,b=T===void 0?900:T,P=t.skipoffset,x=P===void 0?null:P;this.rootElement=e.rootElement,this.name=s,this.playerDivId=h,this.adSource=ni.Helpers.prepareAdSourceMacroses(n),this.adResponse=c,this.skipOffset=x,this.desiredBitrate=b,this.uuid=this.amby.get("uuid",""),this.previousHeight=null,this.playerDiv=y||e.rootElement.querySelector("#".concat(this.playerDivId)),this.amby.get("formatConfig.forceMute",!1)&&(this.noSoundComponent=new au.NoSoundComponent(this.amby,{playerDiv:this.playerDiv,adName:s})),this.amby.get("formatConfig.hideConsole",!1)&&window.location.href.indexOf("mgwdebug")===-1&&(this.proxyConsoleComponent=new su.ProxyConsoleComponent(this.amby,{playerDiv:this.playerDiv})),this.amby.dispatch(ot.setAdInit(null,this.name)),this.amby.addTriggerListener("".concat(this.name,".actionPause"),function(){var B=i.amby.get("".concat(i.name,".status"));i.vpaidManager&&[hs.states.STATUS_PAUSED,hs.states.STATUS_READY].indexOf(B)===-1&&((0,Kt.mgDebug)("#".concat(i.name,": Call vpaidManager.pauseAd")),i.vpaidManager.pauseAd())}),this.amby.addTriggerListener("".concat(this.name,".actionSkip"),function(){i.amby.dispatch(ot.setAdVisible(!1,i.name)),i.vpaidManager&&((0,Kt.mgDebug)("#".concat(i.name,": Call vpaidManager.skipAd")),i.vpaidManager.skipAd(),i.amby.dispatch(ot.setTriggerToTrue("".concat(i.name,".admgskip"))))}),this.amby.addTriggerListener("ad.unmute",function(){i.unmute()}),this.amby.addTriggerListener("ad.resize",function(){i.onResize()})}return r.prototype.subscribeEvents=function(){var e=this;this.vpaidManager.subscribe(function(){(0,Kt.mgDebug)("#".concat(e.name,": VPAID Manager: get AdPaused.")),e.amby.dispatch(ot.setAdStatus(hs.states.STATUS_PAUSED,e.name))},this.events.AdPaused),this.vpaidManager.subscribe(function(){var t;(0,Kt.mgDebug)("#".concat(e.name,": VPAID Manager: get AdVideoComplete.")),e.amby.dispatch(ot.upsertState((t={},t[e.name]={complete:!0},t)))},this.events.AdVideoComplete),this.vpaidManager.subscribe(function(){var t;e.amby.dispatch(ot.upsertState((t={},t[e.name]={position:Math.ceil(e.amby.get("ad.duration")/4)},t)))},this.events.AdVideoFirstQuartile),this.vpaidManager.subscribe(function(){var t;e.amby.dispatch(ot.upsertState((t={},t[e.name]={position:Math.ceil(e.amby.get("ad.duration")/2)},t)))},this.events.AdVideoMidpoint),this.vpaidManager.subscribe(function(){var t;e.amby.dispatch(ot.upsertState((t={},t[e.name]={position:e.amby.get("ad.duration")/4*3},t)))},this.events.AdVideoThirdQuartile),this.vpaidManager.subscribe(function(t){(0,Kt.mgDebug)("#".concat(e.name,": VPAID Manager: get AdVolumeChange.")),t&&t.getAd&&t.getAd()&&t.getAd().g&&t.getAd().g.volume?e.amby.dispatch(ot.setAdMuted(!1)):e.amby.dispatch(ot.setAdMuted(!0))},this.events.AdVolumeChange),this.vpaidManager.subscribe(function(){var t;e.positionEventEmitted=!0,e.vpaidManager&&e.amby.dispatch(ot.upsertState((t={},t[e.name]={position:Math.trunc(e.vpaidManager.getAdDuration()-e.vpaidManager.getAdRemainingTime())},t)))},this.events.AdRemainingTimeChange),this.vpaidManager.subscribe(function(){var t;e.vpaidManager&&e.amby.dispatch(ot.upsertState((t={},t[e.name]={duration:e.vpaidManager.getAdDuration()},t)))},this.events.AdDurationChange),this.vpaidManager.subscribe(function(){var t;e.amby.dispatch(ot.upsertState((t={},t[e.name]={skipable:e.vpaidManager.getAdSkippableState()},t.skipBtn={skipable:e.vpaidManager.getAdSkippableState()},t)))},this.events.AdSkippableStateChange),this.vpaidManager.subscribe(function(){e.amby.dispatch(ot.setTriggerToTrue("".concat(e.name,".clicked")))},this.events.AdClickThru),this.vpaidManager.subscribe(function(){e.amby.dispatch(ot.setTriggerToTrue("".concat(e.name,".skip")))},this.events.AdSkipped)},r.prototype.unmute=function(){if(this.vpaidManager){(0,Kt.mgDebug)("#".concat(this.name,": Call vpaidManager.setAdVolume(1)"));try{this.vpaidManager.setAdVolume(1),this.amby.dispatch(ot.setAdMuted(!1)),this.amby.dispatch(ot.upsertState({muteBtn:{muted:!1}}))}catch(e){(0,Kt.mgDebug)("#".concat(this.name,": setAdVolume(1) Error: ").concat(e))}}},r.prototype.onResize=function(){var e=this;if(this.vpaidManager){var t=this.amby.get("ad.size",{width:300,height:169});window.setTimeout(function(){(0,Kt.mgDebug)("#".concat(e.name,": Call vpaidManager.resizeAd"));try{e.vpaidManager.resizeAd(t.width-1,t.height,"normal"),e.vpaidManager.resizeAd(t.width,t.height,"normal")}catch(s){(0,Kt.mgDebug)("#".concat(e.name,": Resize error: ").concat(s))}},10);var i=this.playerDiv.querySelector("iframe");if(i){var a=i.style.display;i.style.display="none",this.previousHeight=i.offsetHeight,i.style.display=a}}},r.prototype.replaceMacros=function(e){var t=e.replace("{uuid}",this.uuid);return this.getPreparedAdSourceSizes(t)},r.prototype.getPreparedAdSourceSizes=function(e){var t,i=this.rootElement.querySelector(".type-v .image-container"),a=this.amby.get("ad.size.width",0)||i&&ni.Helpers.getElemWidth(i),s=this.amby.get("ad.size.height",0)||i&&ni.Helpers.getElemHeight(i);(s<1||a<1)&&(t=ni.Helpers.tryCorrectZeroSizes(this.playerDiv,a,s),a=t.width,s=t.height);var n=this.amby.get("formatConfig.name"),l=this.amby.get("ad.curAdPosition")==="pre"?"pre":"mid",c=ni.Helpers.replaceAll(e,"{width}",Math.ceil(a).toString());return c=ni.Helpers.replaceAll(c,"{height}",Math.ceil(s).toString()),c=ni.Helpers.replaceAll(c,"{format}",n),c=ni.Helpers.replaceAll(c,"{schedule}",l),c},r.prototype.createPositionTimeout=function(){var e=this;this.positionEventEmitted||(this.positionTimeout=window.setTimeout(function(){var t;if(e.vpaidManager){var i=Math.trunc(e.vpaidManager.getAdDuration()-e.vpaidManager.getAdRemainingTime());e.lastPosition<i&&e.amby.dispatch(ot.upsertState((t={},t[e.name]={position:i},t)))}e.createPositionTimeout()},200))},r.prototype.getTracking=function(e){e===void 0&&(e=0);var t=this.xmlDocument.querySelectorAll("Ad"),i=t&&t[e]?t[e]:null;i||(i=this.xmlDocument.documentElement),this.parameters.errors=this.parameters.errors||[];for(var a=i.querySelectorAll("Error"),s=0;s<a.length;s++)this.parameters.errors.push(a[s].textContent.trim());this.parameters.impressions=this.parameters.impressions||[];for(var n=i.querySelectorAll("Impression"),s=0;s<n.length;s++)this.parameters.impressions.push(n[s].textContent.trim());this.parameters.tracking=this.parameters.tracking||{};for(var l=i.querySelectorAll("TrackingEvents > Tracking"),s=0;s<l.length;s++){var c=l[s].getAttribute("type")||l[s].getAttribute("event");c&&(this.parameters.tracking[c]||(this.parameters.tracking[c]=[]),this.parameters.tracking[c].push(l[s].textContent.trim()))}this.parameters.viewableImpressions=this.parameters.viewableImpressions||[];for(var h=this.xmlDocument.querySelectorAll("ViewableImpression>Viewable"),s=0;s<h.length;s++)this.parameters.viewableImpressions.push(h[s].textContent.trim())},r}();us.VpaidPlayerBase=ru});var wo=pe(ms=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ms,"__esModule",{value:!0});ms.Vast=void 0;var Qt=Ve(),Bt=Ce(),Ot=Pe(),nu=ca(),at={AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdLoaded:"AdLoaded",AdLinearChange:"AdLinearChange",AdSizeChange:"AdSizeChange",AdExpandedChange:"AdExpandedChange",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:"AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError",AdLog:"AdLog"},lt={impression:"impression",click:"click",error:"error",start:"start",firstQuartile:"firstQuartile",midpoint:"midpoint",thirdQuartile:"thirdQuartile",complete:"complete",mute:"mute",unmute:"unmute",pause:"pause",resume:"resume",fullscreen:"fullscreen",exitFullscreen:"exitFullscreen",expand:"expand",collapse:"collapse",skip:"skip",creativeView:"creativeView",rewind:"rewind",viewable_impression:"viewable_impression"},ou=function(){function r(e){e===void 0&&(e="vast"),this.adCompanions="",this.adDuration=1,this.adExpanded=!1,this.adHeight=0,this.adIcons=!1,this.adLinear=!0,this.adRemainingTime=0,this.adSkippableState=!1,this.adVolume=0,this.adWidth=0,this.eventListeners={},this.firstTimePlay=!0,this.skipOffset=5,this.skipOffsetText="Skip in %s",this.protocol="https:",this.viewableImpressionSent=!1,this.silentMode=!1,this.amby=(0,Qt.createAmby)(e),(Bt.Helpers.getUrlParam("mgwteaser")||Bt.Helpers.getUrlParam("mgwcampaign"))&&(this.silentMode=!0),this.setCallbacksForCreative()}return r.prototype.setCallbacksForCreative=function(){var e=this;this.amby.addSubListener("ad.status",function(){switch(e.amby.get("ad.status")){case Qt.states.STATUS_READY:if((0,Bt.getInObject)(e.playerComponent,["player","video","duration"])>e.adDuration&&(e.adDuration=e.playerComponent.player.video.duration),e.parameters.enableDurationBalancer&&e.parameters.contentVideoDurationLimit<parseInt(e.getAdDuration().toString(),10)){e.stopAd();return}e.triggerEvent(at.AdLoaded);break;case Qt.states.STATUS_PLAYING:e.amby.get("ad.viewable",!1)&&(e.clearViewableTimeout(),e.viewableTimeout=window.setTimeout(function(){e.viewableImpressionSent||(e.viewableImpressionSent=!0,e.sendTracking(lt.viewable_impression,!0))},2e3)),e.firstTimePlay?(e.sendTracking(lt.start),e.triggerEvent(at.AdStarted),e.triggerEvent(at.AdVideoStart),e.firstTimePlay=!1):(e.sendTracking(lt.resume),e.triggerEvent(at.AdPlaying));break;case Qt.states.STATUS_PAUSED:e.clearViewableTimeout(),e.sendTracking(lt.pause),e.triggerEvent(at.AdPaused);break;case Qt.states.STATUS_STOPPED:e.clearViewableTimeout(),e.triggerEvent(at.AdStopped);break;case Qt.states.STATUS_ERROR:e.clearViewableTimeout(),e.sendTracking(lt.error,!0),e.triggerEvent(at.AdError,e.amby.get("ad.errorMessage"));break}}),this.amby.addSubListener("ad.position",function(){var t=e.amby.get("ad.position"),i=e.amby.get("ad.duration",1);if(!(i<=1)){var a=t/i;a>=.25&&!e.video25?(e.sendTracking(lt.firstQuartile),e.triggerEvent(at.AdVideoFirstQuartile),e.video25=!0):a>=.5&&!e.video50?(e.sendTracking(lt.midpoint),e.triggerEvent(at.AdVideoMidpoint),e.video50=!0):a>=.75&&!e.video75&&(e.sendTracking(lt.thirdQuartile),e.triggerEvent(at.AdVideoThirdQuartile),e.video75=!0),e.adRemainingTime=Math.trunc(e.adDuration-t),e.triggerEvent(at.AdRemainingTimeChange)}}),this.amby.addTriggerListener("ad.skip",function(){e.sendTracking(lt.skip),e.triggerEvent(at.AdSkipped)}),this.amby.addSubListener("ad.initMuted",function(){e.triggerEvent(at.AdVolumeChange,e.amby.get("ad.initMuted",!0)?0:1)}),this.amby.addTriggerListener("ad.complete",function(){e.sendTracking(lt.complete),e.triggerEvent(at.AdVideoComplete)}),this.amby.addSubListener("skipBtn.skipable",function(){e.adSkippableState=e.amby.get("skipBtn.skipable"),e.triggerEvent(at.AdSkippableStateChange)}),this.amby.addTriggerListener("ad.clicked",function(){e.sendTracking(lt.click,!0),e.triggerEvent(at.AdClickThru,{data:{url:e.clickThru}})}),this.amby.addTriggerListener("ad.impression",function(){e.sendTracking(lt.impression,!0),e.triggerEvent(at.AdImpression)}),this.amby.addSubListener("ad.duration",function(){e.previousDuration!==e.amby.get("ad.duration",1)&&(e.previousDuration=e.amby.get("ad.duration",1),e.adDuration=e.amby.get("ad.duration",1),e.triggerEvent(at.AdDurationChange))}),this.amby.addSubListener("ad.viewable",function(){e.amby.get("ad.viewable")?e.amby.get("ad.status")===Qt.states.STATUS_PLAYING&&(e.clearViewableTimeout(),e.viewableTimeout=window.setTimeout(function(){e.viewableImpressionSent||(e.viewableImpressionSent=!0,e.sendTracking(lt.viewable_impression,!0))},2e3)):e.clearViewableTimeout()})},r.prototype.collapseAd=function(){},r.prototype.expandAd=function(){},r.prototype.getAdCompanions=function(){return this.adCompanions},r.prototype.getAdDuration=function(){return this.adDuration},r.prototype.getAdExpanded=function(){return this.adExpanded},r.prototype.getAdHeight=function(){return this.adHeight},r.prototype.getAdIcons=function(){return this.adIcons},r.prototype.getAdLinear=function(){return this.adLinear},r.prototype.getAdRemainingTime=function(){return this.adRemainingTime},r.prototype.getAdSkippableState=function(){return this.adSkippableState},r.prototype.getAdVolume=function(){return this.adVolume},r.prototype.getAdWidth=function(){return this.adWidth},r.prototype.handshakeVersion=function(e,t){return"2.0"},r.prototype.initAd=function(e,t,i,a,s,n){if(i===void 0&&(i="normal"),a===void 0&&(a=256),this.slot=n.slot,this.videoSlot=n.videoSlot,this.rootElement=n.rootElement,this.amby.dispatch(Ot.setAdInit(Qt.states.INIT_IN_PROGRESS)),s&&s.AdParameters&&(this.parameters=JSON.parse(s.AdParameters)),this.clickThru=this.parameters.clickThru,this.domain=this.parameters.domain,this.debug=!!this.parameters.debug,this.tracking=this.parameters.tracking,this.tracking[lt.impression]=this.parameters.impressions,this.tracking[lt.click]=[this.parameters.clickTracking],this.tracking[lt.error]=this.parameters.errors,this.tracking[lt.viewable_impression]=this.parameters.viewableImpressions,this.cid=this.parameters.cid,this.parameters.protocol)this.protocol=this.parameters.protocol;else{var l=document.location.protocol;this.protocol=l.indexOf("http")===0?l:"https:"}this.clickThru&&(this.clickThru.search(/^(https?:\/\/|\/\/)/)||(this.clickThru="//".concat(this.clickThru)),this.clickThru=this.clickThru.replace(/^(https?:\/\/|\/\/)/,"".concat(this.protocol,"//"))),this.amby.dispatch(Ot.upsertAdState({size:{width:Bt.Helpers.getElemWidth(this.slot),height:Bt.Helpers.getElemHeight(this.slot)}})),this.parameters.contentVideoDurationLimit=s?.contentVideoDurationLimit,this.adWidth=this.amby.get("ad.width"),this.adHeight=this.amby.get("ad.height"),parseInt(this.parameters.skipOffset,10)&&(this.skipOffset=parseInt(this.parameters.skipOffset,10)),this.parameters.skipOffsetText&&this.parameters.skipOffsetText.indexOf("%s")>-1&&(this.skipOffsetText=this.parameters.skipOffsetText),this.parameters.duration&&(this.adDuration=this.parameters.duration),this.adLinear=this.parameters.isLinear;var c=[];this.parameters.file&&(c.push({link:this.parameters.file,img:this.parameters.image,title:this.parameters.title,mediaid:this.parameters.id,hash:this.parameters.hash,videoExt:btoa(JSON.stringify({clickUrl:this.parameters.clickThru}))}),this.amby.dispatch(Ot.upsertState({formatConfig:{staticRoot:this.domain},libConfig:{mgPlayerStylesUrlTemplate:"//{{DOMAIN}}/mgPlayer/css/mgPlayer_v2.css"}})),this.playerComponent=new nu.MgAdPlayerComponent({amby:this.amby,rootElement:this.rootElement},{container:this.slot,adPlaylist:c,quality:"original"}),this.amby.dispatch(Ot.setAdInit(Qt.states.INIT_NEEDED)))},r.prototype.pauseAd=function(){this.mgDebug("PauseAd requested."),this.amby.dispatch(Ot.setTriggerToTrue("ad.actionPause"))},r.prototype.resizeAd=function(e,t,i){i===void 0&&(i="normal"),this.amby.dispatch(Ot.upsertAdState({size:{width:e,height:t},resize:!0})),this.adHeight=t,this.adWidth=e},r.prototype.resumeAd=function(){this.mgDebug("ResumeAd requested."),this.amby.dispatch(Ot.setTriggerToTrue("ad.actionPlay"))},r.prototype.setAdVolume=function(e){this.mgDebug("SetAdVolume(".concat(e,") requested.")),e===0?this.amby.dispatch(Ot.upsertAdState({mute:!0,initMuted:!0})):this.amby.dispatch(Ot.upsertAdState({unmute:!0,initMuted:!1}))},r.prototype.skipAd=function(){this.mgDebug("SkipAd requested."),this.amby.dispatch(Ot.setTriggerToTrue("ad.actionSkip")),this.sendTracking(lt.skip),this.triggerEvent(at.AdSkipped)},r.prototype.startAd=function(){this.mgDebug("StartAd requested."),this.amby.dispatch(Ot.setTriggerToTrue("ad.actionPlay"))},r.prototype.stopAd=function(){this.mgDebug("StopAd requested."),this.amby.dispatch(Ot.setTriggerToTrue("ad.actionStop"))},r.prototype.triggerEvent=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.eventListeners[e]&&this.eventListeners[e].forEach(function(a){window.setTimeout(function(){a(t)},0)})},r.prototype.subscribe=function(e,t){this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].indexOf(e)===-1&&this.eventListeners[t].push(e)},r.prototype.unsubscribe=function(e,t){if(!!this.eventListeners[t])for(;this.eventListeners[t].indexOf(e)>-1;)this.eventListeners[t].splice(this.eventListeners[t].indexOf(e),1)},r.prototype.resetVars=function(){this.video25=!1,this.video50=!1,this.video75=!1,this.firstTimePlay=!0},r.prototype.mgDebug=function(e,t){if(t===void 0&&(t=!1),this.debug||t){var i=e;typeof i!="object"&&(i="".concat(new Date().toISOString().replace("Z","MG")," ").concat(i)),console.debug(i)}},r.prototype.sendTracking=function(e,t){var i=this;t===void 0&&(t=!1),!this.silentMode&&this.tracking[e]&&this.tracking[e].forEach(function(a){var s=a;window.setTimeout(function(){var n=Bt.Helpers.getConsentData(),l=n.gdpr?"gdpr":"";s=Bt.Helpers.replaceAll(s,"{gdpr}",String(Number(n.gdpr))),s=Bt.Helpers.replaceAll(s,"[REGULATIONS]",l),s=Bt.Helpers.replaceAll(s,"{gdpr_consent}",n.consentData),s=Bt.Helpers.replaceAll(s,"[GDPRCONSENT]",n.consentData),s=Bt.Helpers.replaceAll(s,"{cxurl}",i.amby.get("cxurl","")),t&&i.mgDebug("".concat(e," URL: ").concat(s)),Bt.Helpers.createImg(s)},0)})},r.prototype.clearViewableTimeout=function(){this.viewableTimeout&&(clearTimeout(this.viewableTimeout),this.viewableTimeout=null)},r}();ms.Vast=ou});var fs=pe(Li=>{"use strict";S();_();k();C();I();D();E();var lu=Li&&Li.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Li,"__esModule",{value:!0});Li.VpaidPlayerComponent=void 0;var pu=To(),et=Ve(),Ie=Pe(),xt=He(),du=Da(),Xe=Ce(),cu=wo(),hu=function(r){lu(e,r);function e(t,i){var a=r.call(this,t,i)||this;return a.config={},a.impressionSent=!1,a.slotId=0,a.slots=[],a.slotsToDelete=[],a.hadPreRoll=!1,a.requestsLimit=parseInt(i.requestsLimit,10)||0,a.config=t.mgRec.config,a.inited=!1,a.impressionSent=!1,a.startedSent=!1,a.parameters={},a.wrapperNumber=0,a.teaserDebug=Xe.Helpers.getUrlParam("mgwteaser"),a.vpaid=!1,a.slotId=0,a.slots=[],a.slotsToDelete=[],a.vastIndex=0,a.vpaidMode=i.vpaidMode||et.vpaidModes.INSECURE,a.hadPreRoll=!1,a.contentVideoDurationLimit=a.getContentVideoDuration(),a.teaserDebug&&(a.adSource=Xe.Helpers.replaceAdSource(a.adSource,a.teaserDebug)),!a.adSource&&!a.adResponse&&(a.requestNeeded=!1,a.amby.get("ad.vastContent")?a.adResponse=a.amby.get("ad.vastContent"):a.amby.addSubListener("ad.vastContent",function(){a.adResponse=a.amby.get("ad.vastContent"),a.requestNeeded&&a.sendRequest()})),a.amby.get("formatConfig.detectUnmute",!0)&&(a.unmuteDetectComponent=new du.UnmuteDetectComponent(t)),a.amby.addSubListener("".concat(a.name,".init"),function(){a.amby.get("".concat(a.name,".init"))===et.states.INIT_IN_PROGRESS&&(0,xt.mgDebug)("Ad starts search."),Xe.Helpers.vitalCall(function(){return a.initPlayer()},a.amby.get("isVital",!0))}),a.amby.addTriggerListener("".concat(a.name,".actionPlay"),function(){if(a.vpaidManager){a.apiAction=!0;var s=a.amby.get("".concat(a.name,".status"));(!s||s!==et.states.STATUS_PLAYING)&&(!s||s===et.states.STATUS_READY?a.start():a.vpaidManager.resumeAd())}else a.playRequested=!0}),a.amby.addTriggerListener("".concat(a.name,".actionStop"),function(){a.vpaidManager&&a.vpaidManager.stopAd()}),a.amby.addTriggerListener("".concat(a.name,".actionClose"),function(){a.amby.dispatch(Ie.setAdVisible(!1,a.name)),a.close()}),a.amby.addTriggerListener("ad.mute",function(){a.mute()}),a.amby.addTriggerListener("player.firstFrame",function(){if(a.hadPreRoll&&a.amby.get("player.itemIndex")===0){a.hadPreRoll=!1;return}a.contentVideoDurationLimit=a.getContentVideoDuration()}),a}return e.prototype.initPlayer=function(){switch(this.amby.get("".concat(this.name,".init"))){case et.states.INIT_NEEDED:this.amby.dispatch(Ie.setAdInit(et.states.INIT_IN_PROGRESS,this.name)),this.sendRequest();break;case et.states.INIT_RESET:this.reset(),this.amby.dispatch(Ie.setAdInit(et.states.INIT_IN_PROGRESS,this.name)),this.sendRequest();break;case et.states.INIT_STOP:this.reset();break}},e.prototype.sendRequest=function(){if(!this.adSource&&!this.adResponse){this.requestNeeded=!0;return}this.adResponse?(this.xmlDocument=Xe.Helpers.parseXml(this.adResponse),this.proccessResponse()):this.sendXMLRequest(!0)},e.prototype.proccessResponse=function(){var t,i,a=Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"VASTAdTagURI");if(a&&this.wrapperNumber<4){this.wrapperNumber+=1,this.getTracking(),this.sendXMLRequest(!0,a);return}this.mediaUrl=Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"MediaFile"),this.adParameters=Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"AdParameters");try{this.parameters=Xe.Helpers.mergeObjects(this.parameters,JSON.parse(this.adParameters||"{}"))}catch{this.parameters.original=this.adParameters}this.parameters.skipOffset=this.skipOffset,this.amby.dispatch(Ie.upsertState((t={},t[this.name]={responseXml:this.xmlDocument.documentElement.outerHTML,responseHash:Xe.Helpers.cyrb53(this.xmlDocument.documentElement.outerHTML),responded:!0},t))),this.amby.dispatch(Ie.upsertState({vastXml:this.xmlDocument.documentElement.outerHTML}));var s=this.xmlDocument.querySelector("MediaFile");if(!s){var n=this.xmlDocument.querySelector("Ad");n?this.amby.dispatch(Ie.setTriggerToTrue("".concat(this.name,".adbidinvalid"))):this.amby.dispatch(Ie.setTriggerToTrue("".concat(this.name,".adbidempty")))}this.amby.dispatch(Ie.setTriggerToTrue("".concat(this.name,".adbid"))),this.parameters.clickThru=Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"ClickThrough"),this.parameters.clickTracking=Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"ClickTracking"),this.getTracking(),s&&s.getAttribute("type")&&s.getAttribute("type").match(/video\/(mp4|webm)/)&&(this.parameters.cid=this.amby.get("widgetId"),this.parameters.file=this.mediaUrl,this.parameters.image="",this.parameters.title=Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"AdTitle"),this.parameters.protocol=this.amby.get("protocol"),this.parameters.domain=this.amby.get("formatConfig.staticRoot")||"video-native.".concat(this.amby.get("subnetDomain","")),this.parameters.isLinear=!!this.xmlDocument.querySelector("Creative > Linear"),this.parameters.isLinear&&!this.parameters.skipOffset&&(this.parameters.skipOffset=Xe.Helpers.parseTime(this.xmlDocument.querySelector("Creative > Linear").getAttribute("skipoffset"))),this.amby.dispatch(Ie.upsertAdState({adClickUrl:this.parameters.clickThru})),this.parameters.duration=Xe.Helpers.parseTime(Xe.Helpers.getFromDocumentByTagName(this.xmlDocument,"Duration"))),(0,xt.getDebugFlag)()&&(this.parameters.debug=(0,xt.getDebugFlag)()),this.xmlRequestTimeoutTime&&(this.parameters.xmlRequestTimeout=this.xmlRequestTimeoutTime),this.parameters.noTracking=!0,this.parameters.downtimeDetector=this.amby.get("downtimeDetector",!1),this.parameters.downtimeTimeout=this.amby.get("downtimeTimeout",!1),this.parameters.startAdTimeout=this.amby.get("startAdTimeout",!1),this.parameters.cxurl=this.amby.get("cxurl",""),this.parameters.formatName=this.amby.get("formatConfig.name"),this.parameters.enableDurationBalancer=this.amby.get("formatConfig.enableDurationBalancer",!1),this.parameters.curAdPosition=this.amby.get("ad.curAdPosition"),this.parameters.sendDetailedEvents=(i=this.config.sendDetailedEvents)!==null&&i!==void 0?i:!1,this.parameters.forceMute=this.amby.get("formatConfig.forceMute",!1),this.adParameters=JSON.stringify(this.parameters),this.mediaUrl.match(/\.(mp4|webm)/i)?this.initVastPlayer():this.mediaUrl!==""?(this.vpaid=!0,this.vpaidMode===et.vpaidModes.INSECURE?this.initScript():this.initScriptInFrame()):((0,xt.mgDebug)("#".concat(this.name,": VPAID ERROR: No MediaFile found. [").concat(this.adSource,"]")),this.passback())},e.prototype.initVastPlayer=function(){this.createSlot(),this.playerDiv.appendChild(this.slot),this.vastIndex+=1,this.vpaidManager=new cu.Vast("".concat(this.playerDivId,"_").concat(this.vastIndex)),this.subscribeEvents(),this.slots.push({slot:this.slot}),(0,xt.mgDebug)("vpaidManager.initAd"),this.vpaidManager.initAd(this.amby.get("ad.size.width",300),this.amby.get("ad.size.height",169),"normal",this.desiredBitrate,{AdParameters:this.adParameters,contentVideoDurationLimit:this.contentVideoDurationLimit},{slot:this.slot,videoSlot:this.videoSlot,rootElement:this.rootElement})},e.prototype.initScript=function(t){var i=this;t===void 0&&(t=document),this.createSlot();var a=t.body;t===document?this.playerDiv.appendChild(this.slot):a.appendChild(this.slot),this.playerDiv.appendChild(this.slot),this.scriptFile=t.createElement("script"),this.scriptFile.type="text/javascript",this.scriptFile.id="scriptFile".concat(this.slotId),this.scriptFile.src=encodeURI(this.mediaUrl),this.slots.push({slot:this.slot,scriptFile:this.scriptFile}),this.scriptFile.addEventListener("load",function(){if(i.vpaidManager=window.getVPAIDAd(),parseFloat(i.vpaidManager.handshakeVersion("2.0",""))>=2){i.subscribeEvents();var s=JSON.parse(i.adParameters);i.amby.dispatch(Ie.setTriggerToTrue("".concat(i.name,".vpaidinit"))),i.vpaidManager.initAd(i.amby.get("ad.size.width",640),i.amby.get("ad.size.height",480),"normal",i.desiredBitrate,{AdParameters:s.original?s.original:i.adParameters,contentVideoDurationLimit:i.contentVideoDurationLimit},{slot:i.slot,videoSlot:i.videoSlot,rootElement:i.rootElement})}}),a.appendChild(this.scriptFile),this.amby.dispatch(Ie.setTriggerToTrue("widget.rawinit"))},e.prototype.initScriptInFrame=function(){var t=this;this.iFrame=document.createElement("iframe"),this.iFrame.width="100%",this.iFrame.height="100%",this.iFrame.style.padding="0",this.iFrame.style.margin="0",this.iFrame.style.border="0",this.iFrame.style.position="relative",this.iFrame.addEventListener("load",function(){var i=t.iFrame.contentWindow.document.body;i.appendChild(t.slot),i.style.position="relative",i.style.margin="0",i.style.padding="0",i.style.width="100%",i.style.height="100%",i.style.overflow="hidden",t.initScript(t.iFrame.contentWindow.document)}),this.playerDiv.appendChild(this.iFrame)},e.prototype.subscribeEvents=function(){var t=this;this.vpaidManager.subscribe(function(){var i,a,s=t.amby.get("".concat(t.name,".status"));s!==et.states.STATUS_PLAYING&&(Xe.Helpers.vitalCall(function(){var n;t.amby.dispatch(Ie.setAdInit(et.states.INIT_DONE)),t.amby.dispatch(Ie.setAdStatus(et.states.STATUS_READY,t.name)),t.amby.dispatch(Ie.upsertState((n={},n[t.name]={adloaded:!0},n))),t.amby.dispatch(Ie.upsertState({ad:{loaded:!0}}))},t.amby.get("isVital",!0)),t.vpaidManager.getAdDuration&&t.vpaidManager.getAdDuration()&&t.amby.dispatch(Ie.upsertState((i={},i[t.name]={position:0,duration:t.vpaidManager.getAdDuration()},i))),t.amby.dispatch(Ie.upsertState((a={},a[t.name]={isLinear:t.vpaidManager.getAdLinear()},a))),t.playRequested&&t.vpaidManager&&(t.start(),t.playRequested=!1))},this.events.AdLoaded),this.vpaidManager.subscribe(function(i){t.onAdError(i)},this.events.AdError),this.vpaidManager.subscribe(function(){(0,xt.mgDebug)("#".concat(t.name,": VPAID Manager: get AdStarted.")),t.vpaidManager&&(t.lastPosition=Math.trunc(t.vpaidManager.getAdDuration()-t.vpaidManager.getAdRemainingTime())),t.createPositionTimeout()},this.events.AdStarted),this.vpaidManager.subscribe(function(){t.amby.dispatch(Ie.setAdStatus(et.states.STATUS_PAUSED,t.name))},this.events.AdPaused),this.vpaidManager.subscribe(function(){t.amby.dispatch(Ie.setAdStatus(et.states.STATUS_PLAYING,t.name))},this.events.AdPlaying),this.vpaidManager.subscribe(function(){t.amby.dispatch(Ie.setAdStatus(et.states.STATUS_PLAYING,t.name))},this.events.AdVideoStart),this.vpaidManager.subscribe(function(i){i&&i[0]&&(i[0].showHash&&t.amby.dispatch(Ie.upsertAdState({adHash:i[0].showHash})),i[0].poc&&t.amby.dispatch(Ie.upsertAdState({poc:i[0].poc}))),t.amby.get("ad.adHash")&&!(i&&i[0]&&i[0].eventFromNativeBackfill)&&t.amby.dispatch(Ie.setTriggerToTrue("ad.impression")),t.amby.dispatch(Ie.upsertState({skipBtn:{skipable:!1}})),setTimeout(function(){t.amby.dispatch(Ie.upsertState({ad:{poc:null,adHash:null}}))}),t.amby.get("ad.curAdPosition")==="pre"&&(t.hadPreRoll=!0),(0,xt.mgDebug)("contentVideoDurationLimit: ".concat(t.contentVideoDurationLimit)),t.contentVideoDurationLimit-=t.vpaidManager.getAdDuration(),t.amby.dispatch(Ie.upsertAdState({currentImpressions:t.amby.get("ad.currentImpressions",0)+1}))},this.events.AdImpression),this.vpaidManager.subscribe(function(){var i;t.amby.dispatch(Ie.upsertState((i={},i[t.name]={complete:!0},i))),t.amby.dispatch(Ie.upsertAdState({videoEnded:!0}))},this.events.AdVideoComplete),this.vpaidManager.subscribe(function(){window.setTimeout(function(){t.destroy(),t.amby.dispatch(Ie.setAdStatus(et.states.STATUS_STOPPED,t.name))},500)},this.events.AdStopped)},e.prototype.start=function(){var t=this;(this.amby.get("ad.initMuted",!0)||Xe.Helpers.iOSversion())&&this.mute(),Xe.Helpers.vitalCall(function(){Xe.Helpers.iOSversion()&&t.amby.dispatch(Ie.upsertState({player:{muted:!0}}))},this.amby.get("isVital",!0)),this.vpaidManager.startAd()},e.prototype.reset=function(){(0,xt.mgDebug)("VPAID Player: Deleting AD player."),this.close(),this.destroy(),this.parameters={},this.requestsNumber=0},e.prototype.mute=function(){var t=this;Xe.Helpers.vitalCall(function(){t.vpaidManager&&((0,xt.mgDebug)("VPAID Player: AD mute request sent."),t.vpaidManager.setAdVolume(0),t.amby.dispatch(Ie.setAdMuted(!0)),t.amby.dispatch(Ie.upsertState({muteBtn:{muted:!0}})))},this.amby.get("isVital",!0))},e.prototype.unmute=function(){this.vpaidManager&&((0,xt.mgDebug)("VPAID Player: AD unmute request sent."),this.vpaidManager.setAdVolume(1),this.amby.dispatch(Ie.setAdMuted(!1)),this.amby.dispatch(Ie.upsertState({muteBtn:{muted:!1}})))},e.prototype.close=function(){this.vpaidManager&&this.vpaidManager.stopAd&&this.vpaidManager.stopAd()},e.prototype.clearSlots=function(){for(;this.slotsToDelete.length>0;){var t=this.slotsToDelete.shift();t.slot.parentNode.removeChild(t.slot),t.scriptFile&&t.scriptFile.parentNode.removeChild(t.scriptFile)}},e.prototype.destroy=function(){(0,xt.mgDebug)("Delete slots"),this.slotsToDelete=this.slots},e.prototype.onAdError=function(t){var i=this;t&&t.getError&&typeof t.getError=="function"?(0,xt.mgDebug)(t.getError()):(0,xt.mgDebug)(JSON.stringify(t)),this.requestsLimit>this.requestsNumber?(this.requestsNumber+=1,window.setTimeout(function(){i.destroy(),i.sendRequest()},500)):(this.passback(),this.amby.dispatch(Ie.setAdStatus(et.states.STATUS_ERROR,this.name)))},e.prototype.replaceMacros=function(t){return this.getPreparedAdSourceSizes(t.replace("{uuid}",this.uuid))},e.prototype.createSlot=function(){this.clearSlots(),this.slotId+=1,this.slot=document.createElement("div"),this.slot.id="slot".concat(this.slotId),this.slot.style.position="relative",this.slot.style.top="0",this.slot.style.left="0",this.slot.style.width="100%",this.slot.style.height="100%",this.slot.style.padding="0",this.slot.style.margin="0",this.videoSlot=document.createElement("video"),this.videoSlot.setAttribute("muted","true"),this.videoSlot.setAttribute("playsinline","true"),this.videoSlot.setAttribute("webkit-playsinline","true"),this.videoSlot.style.width="100%",this.videoSlot.style.height="100%",this.videoSlot.style.zIndex="-1",this.videoSlot.style.position="absolute",this.videoSlot.style.top="0",this.videoSlot.style.left="0",this.slot.appendChild(this.videoSlot)},e.prototype.sendXMLRequest=function(t,i){var a=this;t===void 0&&(t=!1),i===void 0&&(i=null);var s=new XMLHttpRequest,n=i||this.adSource;s.open("GET",this.replaceMacros(n)),s.responseType="document",s.withCredentials=t,s.timeout=6e4,s.addEventListener("load",function(){s.status!==200?t?a.sendXMLRequest(!1,n):(a.passback(),a.amby.dispatch(Ie.setAdStatus(et.states.STATUS_ERROR,a.name))):(a.xmlDocument=s.response,a.proccessResponse())}),s.addEventListener("error",function(){t?a.sendXMLRequest(!1,n):a.passback()}),s.addEventListener("timeout",function(){a.passback(),a.amby.dispatch(Ie.setAdStatus(et.states.STATUS_ERROR,a.name))}),s.send()},e.prototype.passback=function(){if(this.amby.get("passback",!1)){this.amby.dispatch(Ie.setTriggerToTrue("ad.passback"));try{Xe.Helpers.createScriptAndRun("Passback_".concat(this.amby.get("mgVideoIndex")),this.amby.get("passback",!1))}catch(t){(0,xt.mgDebug)(t)}}},e.prototype.getContentVideoDuration=function(){var t=this.amby.get("player.duration",0),i=this.amby.get("playlist",[]);if(!t&&i.length){var a=i[0],s=JSON.parse(atob(a.videoExt));t=s.duration}return t},e}(pu.VpaidPlayerBase);Li.VpaidPlayerComponent=hu});var ys=pe(gs=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(gs,"__esModule",{value:!0});gs.ExcoComponent=void 0;var Vt=Ve(),Ut=Pe(),uu=He(),mu=function(){function r(e,t){var i=this;this.amby=e.amby;var a=t.name,s=a===void 0?"ad":a,n=t.container,l=t.adSource;this.rootElement=e.rootElement,this.name=s,this.playerContainerDiv=n,this.adSource=l,this.playerId=this.playerContainerDiv.id;var c=document.location.protocol;this.protocol=c.indexOf("http")===0?c:"https:",(0,uu.mgDebug)("ExCoComponent initializing."),this.amby.addSubListener("".concat(this.name,".init"),function(){i.onPlayerInit()})}return r.prototype.onPlayerInit=function(){var e=this;switch(this.amby.get("".concat(this.name,".init"))){case Vt.states.INIT_NEEDED:this.amby.dispatch(Ut.setAdInit(Vt.states.INIT_IN_PROGRESS,this.name)),setTimeout(function(){return e.initPlayer()},0);break;case Vt.states.INIT_RESET:this.amby.dispatch(Ut.setAdInit(Vt.states.INIT_IN_PROGRESS,this.name)),this.reset(),this.initPlayer();break;case Vt.states.INIT_STOP:this.reset();break}},r.prototype.initPlayer=function(){if(this.amby.dispatch(Ut.setAdStatus(Vt.states.STATUS_INIT,this.name)),!this.script){var e=document.createElement("div");e.id=this.adSource,this.playerContainerDiv.appendChild(e),this.script=document.createElement("script"),this.script.setAttribute("type","text/javascript"),this.script.className="exco-player",this.script.src="".concat(this.protocol,"//player.ex.co/player/").concat(this.adSource);var t=document.getElementsByName("script");t&&t.length>0?t[0].parentNode.insertBefore(this.script,t[0]):document.head.insertBefore(this.script,document.head.firstChild),this.addPlayerListeners()}},r.prototype.addPlayerListeners=function(){var e=this;window.addEventListener("message",function(t){var i;if(t.data.type==="exco-event")switch(t.data.name){case"player-load":e.amby.dispatch(Ut.upsertState((i={},i[e.name]={adTag:t.data.metadata.playerId},i))),e.amby.dispatch(Ut.setAdInit(Vt.states.INIT_DONE,e.name)),e.amby.dispatch(Ut.setAdStatus(Vt.states.STATUS_READY,e.name)),e.amby.get("ad.visible",!1)||e.amby.dispatch(Ut.setAdStatus(Vt.states.STATUS_PLAYING,e.name));break;case"ad-impression":break;case"ad-completed":break;case"cta-clicked":break;case"player-closed":break;case"player-muted":break;case"player-unmuted":break;case"player-playing":e.amby.dispatch(Ut.setAdStatus(Vt.states.STATUS_PLAYING,e.name));break;case"player-paused":e.amby.dispatch(Ut.setAdStatus(Vt.states.STATUS_PAUSED,e.name));break}})},r.prototype.reset=function(){this.amby.dispatch(Ut.upsertAdState({adTag:null,adHash:null}))},r}();gs.ExcoComponent=mu});var ga=pe(Bi=>{"use strict";S();_();k();C();I();D();E();var fu=Bi&&Bi.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.AniviewDirectComponent=void 0;var qt=Ve(),jt=Pe(),gu=He(),yu=tr(),vu=na(),bu=Da(),xu=Pa(),Tu=function(r){fu(e,r);function e(t,i){var a=r.call(this,t,i)||this;a.amby=t.amby,a.rootElement=t.rootElement,a.widgetBlock=document.querySelector('[id*="ScriptRootC'.concat(a.amby.get("widgetId"),'"]'));var s=i.name,n=s===void 0?"ad":s,l=i.container,c=i.publisherId,h=i.tagId;a.rootElement=t.rootElement,a.name=n,a.playerContainerDiv=l,a.publisherId=c,a.tagId=h,a.playerId=a.playerContainerDiv.id,a.addedNodes=[];var g=document.location.protocol;return a.protocol=g.indexOf("http")===0?g:"https:",(0,gu.mgDebug)("AniViewDirectComponent initializing."),a.amby.get("formatConfig.forceMute",!1)&&(a.noSoundComponent=new vu.NoSoundComponent(a.amby,{playerDiv:a.playerContainerDiv,adName:n})),a.amby.get("formatConfig.hideConsole",!1)&&window.location.href.indexOf("mgwdebug")===-1&&(a.proxyConsoleComponent=new xu.ProxyConsoleComponent(a.amby,{playerDiv:a.playerContainerDiv})),a.amby.get("formatConfig.detectUnmute",!0)&&(a.unmuteDetectComponent=new bu.UnmuteDetectComponent(t)),a.amby.addSubListener("".concat(a.name,".init"),function(){a.onPlayerInit()}),a}return e.prototype.onPlayerInit=function(){var t=this;switch(this.amby.get("".concat(this.name,".init"))){case qt.states.INIT_NEEDED:this.amby.dispatch(jt.setAdInit(qt.states.INIT_IN_PROGRESS,this.name)),setTimeout(function(){return t.initPlayer()},0);break;case qt.states.INIT_RESET:this.amby.dispatch(jt.setAdInit(qt.states.INIT_IN_PROGRESS,this.name)),this.initPlayer();break;case qt.states.INIT_STOP:break}},e.prototype.initPlayer=function(){var t=this;if(!this.amby.get("cappingData")){this.initRequested=!0,this.cappingDataListener||(this.amby.addSubListener("cappingData",function(){t.amby.get("cappingData")&&t.initRequested&&(t.initRequested=!1,t.initPlayer())}),this.cappingDataListener=!0);return}this.script||(window["av_getPosition_".concat(this.tagId,"_").concat(this.amby.get("widgetId"))]||(window["av_getPosition_".concat(this.tagId,"_").concat(this.amby.get("widgetId"))]=function(i){return i.posType="in",t.playerContainerDiv}),this.script=document.createElement("script"),this.script.id="AV".concat(this.tagId),this.script.dataset.positionApi="av_getPosition_".concat(this.tagId,"_").concat(this.amby.get("widgetId")),this.script.async=!0,this.script.setAttribute("type","text/javascript"),this.script.src=this.getScriptUrl(),this.script.addEventListener("load",function(){t.onPlayerLoad()}),this.widgetBlock.parentNode.appendChild(this.script),this.name==="ad"&&(this.observer=this.getObserver(function(i){t.waitForPlaying(i)}),this.observer.observe(this.playerContainerDiv,{childList:!0,subtree:!0})),this.isInDOM()||this.amby.dispatch(jt.setTriggerToTrue("widget.newBox")))},e.prototype.onPlayerLoad=function(){var t=this;this.amby.dispatch(jt.setAdInit(qt.states.INIT_DONE,this.name)),this.amby.dispatch(jt.setAdStatus(qt.states.STATUS_READY,this.name)),this.name!=="ad"&&this.amby.dispatch(jt.setAdStatus(qt.states.STATUS_PLAYING,this.name)),setTimeout(function(){if(t.playerContainer=t.rootElement.querySelector("div.AV".concat(t.tagId)),!t.playerContainer&&(t.playerContainer=document.querySelector("div.AV".concat(t.tagId)),t.playerContainer)){t.playerGUI=t.playerContainer.querySelector(".avp-p-gui");var i=t.findCss();i.forEach(function(a){t.playerContainerDiv.appendChild(a.cloneNode(!0)),t.playerContainerDiv.appendChild(t.playerContainer)})}t.amby.get("formatConfig.forceMute",!1)&&(t.soundDirectButton=t.playerContainerDiv.querySelector("div.avp-p-cn-s.avp-btn"),t.soundDirectButton&&t.soundDirectButton.addEventListener("click",function(){t.amby.dispatch(jt.upsertAdState({initMuted:!t.amby.get("ad.initMuted",!0)}))})),t.directCloseButton=t.playerContainerDiv.querySelector("avp-close-button.avp-close-button"),t.directCloseButton&&t.directCloseButton.addEventListener("click",function(){t.amby.dispatch(jt.setAdStatus(qt.states.STATUS_STOPPED))})},1e3),this.playerContainerDiv.addEventListener("transitionend",function(){var i=t.rootElement.querySelector("#aniBox>div");i||(i=document.querySelector("#aniBox>div")),i&&(i.style.height="".concat(t.amby.get("ad.size.height"),"px"))}),this.amby.addSubListener("player.isSticky",function(){var i=t.rootElement.querySelector("#aniBox>div");i||(i=document.querySelector("#aniBox>div")),t.amby.get("player.isSticky",!1)?setTimeout(function(){i&&(i.style.height="".concat(t.amby.get("ad.size.height"),"px"))},50):setTimeout(function(){i&&i.style.removeProperty("height")},50)})},e.prototype.getObserver=function(t){var i=this;return new MutationObserver(function(a){a.forEach(function(s){if(s.type==="childList"&&s.addedNodes.length){var n=Array.prototype.slice.call(s.addedNodes);i.addedNodes.push(n),t(n)}})})},e.prototype.waitForPlaying=function(t){var i=this;t.forEach(function(a){if(a.tagName==="VIDEO")a.addEventListener("playing",function(){i.amby.dispatch(jt.setAdStatus(qt.states.STATUS_PLAYING,i.name)),i.observer.disconnect()});else if(a.querySelectorAll&&a.querySelectorAll("video"))for(var s=a.querySelectorAll("video"),n=0;n<s.length;n++)s[n].addEventListener("playing",function(){i.amby.dispatch(jt.setAdStatus(qt.states.STATUS_PLAYING,i.name)),i.observer.disconnect()})})},e.prototype.isInDOM=function(){for(var t=this.playerContainerDiv;t!==document&&t.parentNode;)t=t.parentNode;return t===document},e.prototype.findCss=function(){if(!this.playerGUI)return[];var t=[],i=document.styleSheets;this.playerGUI.matches=this.playerGUI.matches||this.playerGUI.webkitMatchesSelector||this.playerGUI.mozMatchesSelector||this.playerGUI.msMatchesSelector||this.playerGUI.oMatchesSelector;for(var a=0;a<i.length;a++)if(i[a].ownerNode.tagName==="STYLE"){for(var s=i[a].rules||i[a].cssRules,n=0;n<s.length;n++)if(this.playerGUI.matches(s[n].selectorText)){t.push(i[a].ownerNode);break}}return t},e.prototype.getScriptUrl=function(){return"".concat(this.protocol,"//tg1.aniview.com/api/adserver/spt?AV_TAGID=")+"".concat(this.tagId,"&AV_PUBLISHERID=").concat(this.publisherId,"&").concat(this.getRef1())},e}(yu.AniviewBase);Bi.AniviewDirectComponent=Tu});var vs=pe(Oi=>{"use strict";S();_();k();C();I();D();E();var wu=Oi&&Oi.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.SmartBackfillComponent=void 0;var Su=Pe(),_u=sa(),ku=Ce(),Cu=function(r){wu(e,r);function e(t){var i=r.call(this)||this;i.widget=t,i.amby=t.amby,i.rejectedSent=!1,i.observers=[],i.amby.addSubListener("ad.startRequested",function(){i.amby.get("ad.startRequested",!1)&&i.observers.forEach(function(s){s.disconnect()})});var a=i.getMediaElements(document.body);return a&&a.forEach(function(s){i.addListener(s)}),setTimeout(function(){i.checkForIframes(document.body),setTimeout(function(){i.observedDocuments.push(document),i.observers.push(i.getObserver(document))})}),i}return e.prototype.observerAction=function(t){var i=this;if(t instanceof HTMLElement&&((t.tagName==="VIDEO"||t.tagName==="AUDIO")&&this.addListener(t),t.querySelectorAll)){var a=this.getMediaElements(t);a&&a.forEach(function(s){i.addListener(s)})}setTimeout(function(){i.checkForIframes(t.ownerDocument)})},e.prototype.checkIframeAction=function(t){var i=this,a=ku.Helpers.checkIframe(t);if(a&&this.observedDocuments.indexOf(a)===-1){this.observedDocuments.push(a);var s=this.getMediaElements(a);s&&s.forEach(function(l){i.addListener(l)});var n=a.getRootNode();this.observers.push(this.getObserver(n,t.contentWindow)),setTimeout(function(){i.checkForIframes(a)})}},e.prototype.addListener=function(t){var i=this;!this.inMgPlayer(t)&&this.listenedElems.indexOf(t)===-1&&(this.listenedElems.push(t),this.checkMedia(),t.addEventListener("playing",function(){i.checkMedia()}),t.addEventListener("pause",function(){i.checkMedia()}))},e.prototype.checkMedia=function(){this.amby.dispatch(Su.upsertAdState({rejecting:!!this.isAnyPlayerPlaying()}))},e.prototype.isAnyPlayerPlaying=function(){return this.listenedElems.reduce(function(t,i){return e.isPlaying(i)||t},!1)},e.isPlaying=function(t){return t.readyState>2&&t.paused===!1&&(t.currentSrc!==""||t.src!=="")},e}(_u.DomManagerComponent);Oi.SmartBackfillComponent=Cu});var bs=pe(Mi=>{"use strict";S();_();k();C();I();D();E();var Iu=Mi&&Mi.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.TremorComponent=void 0;var Du=ga(),Eu=function(r){Iu(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getScriptUrl=function(){return"".concat(this.protocol,"//tg1.unrulyvideo.com/api/adserver/spt?AV_TAGID=")+"".concat(this.tagId,"&AV_PUBLISHERID=").concat(this.publisherId,"&").concat(this.getRef1())},e}(Du.AniviewDirectComponent);Mi.TremorComponent=Eu});var Ts=pe(xs=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(xs,"__esModule",{value:!0});xs.CustomEngine=void 0;var Mt=Ve(),ei=Pe(),So=He(),Pu=Ce(),Au=function(){function r(e,t){var i=this;this.amby=e.amby;var a=t.name,s=a===void 0?"ad":a,n=t.container,l=t.adSource;this.adSource=l,this.name=s,this.playerContainerDiv=n,this.addedNodes=[],this.amby.addSubListener("".concat(this.name,".init"),function(){i.onPlayerInit()})}return r.prototype.onPlayerInit=function(){var e=this;switch(this.amby.get("".concat(this.name,".init"))){case Mt.states.INIT_NEEDED:this.amby.dispatch(ei.setAdInit(Mt.states.INIT_IN_PROGRESS,this.name)),setTimeout(function(){return e.initPlayer()},0);break;case Mt.states.INIT_RESET:this.amby.dispatch(ei.setAdInit(Mt.states.INIT_IN_PROGRESS,this.name)),this.initPlayer();break;case Mt.states.INIT_STOP:break}},r.prototype.initPlayer=function(){var e=this;if(Pu.Helpers.addClass(this.playerContainerDiv.parentElement,"noanim"),this.adSource){this.adSource=decodeURIComponent(this.adSource).replace(/\+/g," "),this.script=document.createElement("script");try{var t=this.adSource.match(/render *\(['|"](\S+)['|"]\)/),i=t[1];this.script.id=i}catch(a){(0,So.mgDebug)("Unsuccessful parsing id tag: ".concat(a))}this.script.async=!0,this.script.setAttribute("type","text/javascript"),this.script.innerHTML=this.adSource,this.playerContainerDiv.appendChild(this.script),(0,So.mgDebug)("onPlayerLoad load"),this.onPlayerLoad()}this.name==="ad"&&(this.observer=this.getObserver(function(a){e.waitForPlaying(a)}),this.observer.observe(this.playerContainerDiv,{childList:!0,subtree:!0}))},r.prototype.waitForPlaying=function(e){var t=this;e.forEach(function(i){if(i.tagName==="VIDEO")i.addEventListener("playing",function(){t.amby.dispatch(ei.setAdStatus(Mt.states.STATUS_PLAYING,t.name)),t.observer.disconnect()});else if(i.querySelectorAll&&i.querySelectorAll("video")){for(var a=i.querySelectorAll("video"),s=0;s<a.length;s++)a[s].addEventListener("playing",function(){t.amby.dispatch(ei.setAdStatus(Mt.states.STATUS_PLAYING,t.name)),t.observer.disconnect()});for(var n=i.querySelectorAll("img"),s=0;s<n.length;s++)n[s].complete?(t.amby.dispatch(ei.setAdStatus(Mt.states.STATUS_PLAYING,t.name)),t.observer.disconnect()):n[s].addEventListener("load",function(){t.amby.dispatch(ei.setAdStatus(Mt.states.STATUS_PLAYING,t.name)),t.observer.disconnect()})}})},r.prototype.getObserver=function(e){var t=this;return new MutationObserver(function(i){i.forEach(function(a){if(a.type==="childList"&&a.addedNodes.length){var s=Array.prototype.slice.call(a.addedNodes);t.addedNodes.push(s),e(s)}})})},r.prototype.onPlayerLoad=function(){this.amby.dispatch(ei.setAdInit(Mt.states.INIT_DONE,this.name)),this.amby.dispatch(ei.setAdStatus(Mt.states.STATUS_READY,this.name)),this.name!=="ad"&&this.amby.dispatch(ei.setAdStatus(Mt.states.STATUS_PLAYING,this.name))},r}();xs.CustomEngine=Au});var Io=pe(Ri=>{"use strict";S();_();k();C();I();D();E();var Lu=Ri&&Ri.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Outstream=void 0;var zt=Ve(),ke=Pe(),Bu=La(),Ou=Ma(),Je=Ce(),Mu=Ha(),ya=He(),_o=la(),Ru=da(),Hu=Ya(),Nu=Za(),Gu=aa(),Vu=Ja(),ko=ts(),qu=ca(),Wu=os(),Uu=ds(),Co=fa(),ju=fs(),zu=ys(),Fu=ga(),Yu=vs(),$u=bs(),Zu=Ts(),lr="visibleNotPause",pr="visibleOnly",Xu=function(r){Lu(e,r);function e(t){var i=r.call(this,t)||this;return i.videoSensorComponent=new Hu.VideoSensorComponent(t),i.styleComponent=new Vu.StyleComponent(i.widget),i.styleComponent.styleChecking(function(){i.onStyleLoad()}),i}return e.prototype.onStyleLoad=function(){var t=this;this.amby.get("visibilityKpi")&&this.amby.dispatch(ke.upsertState({widget:{renderTime:Date.now()}})),this.autoStart=this.amby.get("autoStart"),this.slider=this.amby.get("formatConfig.slider",!1),this.sticky=this.amby.get("formatConfig.sticky",!1),this.sliderSize=this.amby.get("formatConfig.sliderSize","m").toLowerCase(),this.sliderAlign=this.amby.get("formatConfig.sliderAlign","right").toLowerCase(),this.reInit=parseInt(this.amby.get("formatConfig.reInit"),10),this.widgetComponent=new Ou.WidgetComponent(this.widget,function(){t.onTeasersLoaded()})},e.prototype.onTeasersLoaded=function(){var t=this;this.amby.get("widget.allImagesLoaded",!1)?this.deferredInitPlayer():this.amby.addSubListener(["widget","allImagesLoaded"],function(){t.amby.get("widget.allImagesLoaded")&&t.deferredInitPlayer()})},e.prototype.deferredInitPlayer=function(){var t=this;(typeof this.formatConfig.startDelay!="number"||this.slider&&this.startScroll)&&(this.formatConfig.startDelay=0),setTimeout(function(){t.initPlayer()},this.formatConfig.startDelay*1e3)},e.prototype.initPlayer=function(){var t=this,i;if(this.formatConfig.targetElemSelector&&(this.targetedElem=document.querySelector(this.formatConfig.targetElemSelector)||this.rootElement.querySelector(this.formatConfig.targetElemSelector)),this.blockMain=this.widget.block.querySelector(".mgbox"),this.blockMain||(this.blockMain=this.widget.block,this.blockMain.style.position="relative"),this.targetedElem&&!this.targetedElem.isEqualNode(this.blockMain)?this.adContainerComponent=new _o.AdContainerComponent(this.amby,document.body):this.adContainerComponent=new _o.AdContainerComponent(this.amby,this.blockMain),this.calcStartOnScroll(this.adContainerComponent.playerContainer),this.amby.addTriggerListener("widget.newBox",function(){t.blockMain=t.widget.block.querySelector(".mgbox"),t.blockMain||(t.blockMain=t.widget.block,t.blockMain.style.position="relative"),(0,ya.mgDebug)("New box found."),(0,ya.mgDebug)(t.blockMain),t.adContainerComponent.appendPlayerContainer(t.blockMain),t.observer&&t.observer.disconnect(),t.observer=Je.Helpers.onVisible(t.adContainerComponent.playerContainer,function(n){t.onContainerVisible(n)},t.amby.get("formatConfig.visiblePart",.9),t.amby.get("formatConfig.hiddenPart",.5)),t.calcStartOnScroll(t.adContainerComponent.playerContainer),setTimeout(function(){t.placementChanged=!0,t.updatePosition()},50)}),this.moveToBodyComponent=new Nu.MoveToBodyComponent(this.widgetId,this.adContainerComponent.playerContainer),this.sticky||this.slider){switch(this.amby.get("formatConfig.sliderSize","m").toLowerCase()){case"s":this.stickyClass="small ";break;case"m":this.stickyClass="medium ";break;case"l":this.stickyClass="large ";break}this.stickyClass+=this.amby.get("formatConfig.sliderAlign","right"),this.adContainerComponent.playerContainer.addEventListener("animationend",function(){t.updatePosition()}),this.adContainerComponent.playerContainer.addEventListener("transitionend",function(){t.updatePosition()})}if(this.slider&&(this.stickPlayer(),this.amby.get("formatConfig.moveToBody",!1)&&this.moveToBodyComponent.attachBody(),this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new ko.LogoComponent(this.amby,this.adContainerComponent.playerContainer,!1))),this.sticky&&this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new ko.LogoComponent(this.amby,this.adContainerComponent.playerContainer)),this.updatePosition(),window.addEventListener("resize",function(){t.updatePosition()}),this.amby.get("formatConfig.focusSound",!1)&&(this.amby.dispatch(ke.upsertAdState({isUnmuteOnHover:!0})),this.adContainerComponent.playerDiv.addEventListener("mouseenter",function(){t.amby.dispatch(ke.upsertAdState({mouseOver:!0}))}),this.adContainerComponent.playerDiv.addEventListener("mouseleave",function(){t.amby.dispatch(ke.upsertAdState({mouseOver:!1}))})),Array.isArray(this.config.adPlayers)){var a=null;if(this.config.adPlayers.forEach(function(n){!a&&typeof n=="object"&&(a=n)}),!a.mobileChannelId&&!a.desktopChannelId&&a.engine==="aniview"&&(a=null),a){var s=Je.Helpers.getUrlParam("mgwcampaign");switch(s&&(s.match(/pubads\.g/)&&(a.engine="ima"),a.adSource=s),this.amby.dispatch(ke.upsertState({ad:{playerEngine:a.engine}})),this.amby.dispatch(ke.upsertState({ad:{enableCTA:(i=a.enableCTA)!==null&&i!==void 0?i:!1}})),a.engine){case"aniview":this.adComponent=new Bu.AniViewComponent(this.widget,{publisherId:a.publisherId,channelId:this.amby.get("deviceType")==="mobile"?a.mobileChannelId:a.desktopChannelId,playerContainerId:this.adContainerComponent.playerContainer.id,playerDivId:this.adContainerComponent.playerDiv.id,vastRetry:a.vastRetry,errorLimit:a.errorLimit,maxrun:a.maxrun,logLevel:a.logLevel,timeout:parseInt(a.timeout,10),nextAdTimeout:parseInt(a.nextAdTimeout,10),ref1:a.ref1,soundButton:a.soundbutton,pauseButton:a.pausebutton,timeLine:a.timeline,aniviewParams:a.aniviewParams,waterfall:a.waterfall,noCompleteTimeout:a.noCompleteTimeout,skipoffset:a.skipoffset,verifiedSources:a.verifiedSources,initSize:a.initSize});break;case"mgAdPlayer":this.adComponent=new qu.MgAdPlayerComponent(this.widget,{container:this.adContainerComponent.playerDiv,mgsetup:a.mgsetup,quality:a.quality,adPlaylist:a.adPlaylist});break;case"ima":this.skipButton=new Uu.SkipAdButtonComponent(this.amby,this.adContainerComponent.playerContainer,"ad"),this.muteButton=new Co.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),this.adComponent=new Wu.ImaSdkComponent(this.widget,{adSource:a.adSource,requestsLimit:a.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id});break;case"vpaid":this.muteButton=new Co.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),a.adSource||(a.adResponse=this.widget.mgRec.config.vastContent),this.adComponent=new ju.VpaidPlayerComponent(this.widget,{adSource:a.adSource,requestsLimit:a.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv,desiredBitrate:this.amby.get("formatConfig.bitrate"),vpaidMode:a.vpaidMode,adResponse:a.adResponse,skipoffset:a.skipoffset});break;case"exco":this.adComponent=new zu.ExcoComponent(this.widget,{adSource:a.adSource,container:this.adContainerComponent.playerDiv});break;case"aniviewDirect":this.adComponent=new Fu.AniviewDirectComponent(this.widget,{publisherId:a.publisherId,tagId:a.playerTagId,ref1:a.ref1,container:this.adContainerComponent.playerDiv});break;case"tremor":this.adComponent=new $u.TremorComponent(this.widget,{publisherId:a.publisherId,tagId:a.playerTagId,ref1:a.ref1,container:this.adContainerComponent.playerDiv});break;case"connatix":this.amby.dispatch(ke.upsertState({ad:{playerEngine:a.engine}})),this.adComponent=new Zu.CustomEngine(this.widget,{publisherId:a.publisherId,adSource:a.adSource,container:this.adContainerComponent.playerDiv}),this.amby.dispatch(ke.upsertAdState({skipoffset:a.skipoffset}));break}this.amby.dispatch(ke.upsertAdState({skipoffset:a.skipoffset}))}else(0,ya.mgDebug)("There is no available AD player.")}this.amby.addSubListener(["widget","blurred"],function(){t.onAdPlayerBlurred()}),this.amby.addTriggerListener("ad.clicked",function(){t.onAdClickedTriggerBase()}),this.amby.addSubListener("ad.status",function(){var n=t.amby.get("ad.status");n===zt.states.STATUS_PLAYING?(t.onAdStatusChange(),t.onAdStatusBase()):Je.Helpers.vitalCall(function(){t.onAdStatusChange(),t.onAdStatusBase()},t.amby.get("isVital",!0))}),this.amby.get("closeBtn.enabled")&&(this.amby.addSubListener("ad.init",function(){t.amby.get("ad.init")===zt.states.INIT_DONE&&(t.closeBtnComponent?(!t.closeBtnComponent.elem||!t.adContainerComponent.playerContainer.contains(t.closeBtnComponent.elem))&&t.closeBtnComponent.createElement():t.closeBtnComponent=new Ru.CloseButtonComponent(t.amby,t.adContainerComponent.playerDiv))}),this.amby.addTriggerListener(["closeBtn","clicked"],function(){t.amby.get("player.isSticky",!1)&&t.amby.dispatch(ke.upsertGlobalState({sticky:!1})),t.amby.dispatch(ke.setAdVisible(!1)),t.amby.dispatch(ke.setTriggerToTrue("ad.actionStop")),t.amby.dispatch(ke.setTriggerToTrue("ad.closed"))})),this.muteButton&&this.amby.addTriggerListener("muteBtn.clicked",function(){t.onMuteBtnClicked()}),this.amby.get("formatConfig.smartBackfill",!1)&&(this.amby.addSubListener("ad.rejecting",function(){!t.amby.get("ad.startRequested",!1)&&t.amby.get("ad.rejecting")&&t.amby.get("ad.status")===zt.states.STATUS_READY&&[zt.states.STATUS_PLAYING,zt.states.STATUS_PAUSED].indexOf(t.amby.get("ad.status"))===-1&&(t.amby.dispatch(ke.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){t.amby.dispatch(ke.setTriggerToTrue("ad.actionStop"))},500))}),this.smartBackfillComponent=new Yu.SmartBackfillComponent(this.widget)),this.formatConfig.targetElemSelector&&setInterval(function(){t.updatePosition()},500),this.amby.dispatch(ke.setAdVisible(!1)),this.callStartInit()},e.prototype.onAdStatusChange=function(){var t=this,i=this.amby.get("ad.status");switch((0,ya.mgDebug)("Ads ".concat(i,".").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),i){case zt.states.STATUS_READY:this.amby.get("formatConfig.smartBackfill",!1)&&this.amby.get("ad.rejecting")&&(this.amby.dispatch(ke.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){t.amby.dispatch(ke.setTriggerToTrue("ad.actionStop"))},500)),this.amby.get("formatConfig.visibleInit",!1)&&Je.Helpers.vitalCall(function(){return t.amby.dispatch(ke.setAdVisible(!0))},this.amby.get("isVital",!0)),this.observer||(this.observer=Je.Helpers.onVisible(this.adContainerComponent.playerContainer,function(a){t.onContainerVisible(a)},this.amby.get("formatConfig.visiblePart",.9),this.amby.get("formatConfig.hiddenPart",.5)),this.sticky&&(0,Gu.addSubListener)("sticky",function(){t.sticky=t.amby.get().sticky})),Je.Helpers.vitalCall(function(){return t.initActionPlay()},this.amby.get("isVital",!0)),Je.Helpers.vitalCall(function(){return t.updatePosition()},this.amby.get("isVital",!0));break;case zt.states.STATUS_PLAYING:this.amby.dispatch(ke.setAdVisible(!0)),this.amby.dispatch(ke.upsertState({muteBtn:{visible:!0}})),this.updatePosition(),this.amby.get("formatConfig.playFunc")&&Je.Helpers.createScriptAndRun("PlayFunc_".concat(this.mgVideoIndex),this.amby.get("formatConfig.playFunc"));break;case zt.states.STATUS_STOPPED:this.amby.dispatch(ke.setAdVisible(!1)),this.amby.dispatch(ke.upsertState({muteBtn:{visible:!1}})),this.reInit&&this.createReInitTimeout(),this.amby.get("formatConfig.stopFunc")&&Je.Helpers.createScriptAndRun("StopFunc_".concat(this.mgVideoIndex),this.amby.get("formatConfig.stopFunc"));break;case zt.states.STATUS_ERROR:this.amby.dispatch(ke.setAdVisible(!1)),this.reInit&&this.createReInitTimeout(),this.amby.get("formatConfig.stopFunc")&&Je.Helpers.createScriptAndRun("StopFunc_".concat(this.mgVideoIndex),this.amby.get("formatConfig.stopFunc"));break}},e.prototype.initActionPlay=function(){var t=this;this.slider&&this.startScroll&&!(0,Je.getInObject)(this.amby.get(),["initedStartScroll"],!1)?(this.amby.dispatch(ke.upsertGlobalState({initedStartScroll:!0})),window.addEventListener("scroll",function(){t.startOnScroll(function(){t.amby.dispatch(ke.upsertAdState({startRequested:!0})),t.amby.dispatch(ke.setTriggerToTrue("ad.actionPlay"))})}),this.startOnScroll(function(){t.amby.dispatch(ke.upsertAdState({startRequested:!0})),t.amby.dispatch(ke.setTriggerToTrue("ad.actionPlay"))})):[pr,lr].indexOf(this.autoStart)>-1&&!this.slider?this.playOnVisible():(this.amby.dispatch(ke.upsertAdState({startRequested:!0})),this.amby.dispatch(ke.setTriggerToTrue("ad.actionPlay"))),this.amby.get("ad.reInited")&&this.amby.get("player.isSticky")&&(this.amby.dispatch(ke.upsertAdState({startRequested:!0})),this.amby.dispatch(ke.setTriggerToTrue("ad.actionPlay")))},e.prototype.updatePosition=function(){var t=this;if(this.slider||this.sticky&&this.amby.get("player.isSticky",!1)){var i=Je.Helpers.getElemWidth(this.adContainerComponent.playerContainer);this.pos={top:null,left:null,width:i,height:i/this.aspectRatio.width*this.aspectRatio.height,pWidth:i,pHeight:i/this.aspectRatio.width*this.aspectRatio.height}}else{document.body.contains(this.blockMain)||(this.blockMain=this.widget.block.querySelector(".mgbox")||this.widget.block);try{this.pos=Je.Helpers.getPlayerPos(this.targetedElem&&!this.targetedElem.isEqualNode(this.blockMain)?this.targetedElem:this.blockMain,parseInt(this.formatConfig.teaserIndex,10)||0,parseInt(this.formatConfig.teaserSize,10)||1,parseInt(this.formatConfig.teaserHeight,10)||1,this.formatConfig.teaserStick,this.aspectRatio,this.formatConfig.targetElemSelector,this.amby.get("deviceType")==="mobile",this.rootElement)}catch{setTimeout(function(){t.updatePosition(),t.pos&&t.amby.dispatch(ke.upsertAdState({size:{width:t.pos.pWidth,height:t.pos.pHeight}}))},10);return}}(!this.previousPos||!Je.Helpers.isEqual(this.previousPos,this.pos)||this.placementChanged)&&this.pos.width>0&&(this.placementChanged=!1,this.previousPos=this.pos,this.adContainerComponent.applyPlayerSize(this.pos,this.slider||this.sticky&&this.amby.get("player.isSticky",!1)),this.amby.dispatch(ke.upsertAdState({resize:!0,size:{width:this.pos.pWidth,height:this.pos.pHeight}})))},e.prototype.stickPlayer=function(){var t=this;this.containerOffsetTop||(this.adContainerComponent.playerContainer.offsetParent?this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetParent.offsetTop+this.adContainerComponent.playerContainer.offsetTop:this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetTop),Je.Helpers.addClass(this.adContainerComponent.playerContainer,this.stickyClass),Je.Helpers.addClass(this.adContainerComponent.playerContainer,"noanim"),this.slider||(this.shadowDiv?this.shadowDiv.style.display="block":(this.shadowDiv=document.createElement("div"),this.shadowDiv.style.width="".concat(this.pos.width,"px"),this.shadowDiv.style.height="".concat(this.pos.height*.9,"px"),this.shadowDiv.style.top="".concat(this.pos.top,"px"),this.shadowDiv.style.left="".concat(this.pos.left,"px"),this.shadowDiv.style.position="absolute",this.shadowDiv.className="shadowDiv_".concat(this.amby.get("widgetId")),this.adContainerComponent.playerContainer.parentNode.insertBefore(this.shadowDiv,this.adContainerComponent.playerContainer),Je.Helpers.onVisible(this.shadowDiv,function(i){i&&t.amby.get("player.isSticky",!1)&&t.unstickPlayer()},1,0))),this.amby.get("formatConfig.moveToBody",!1)&&this.moveToBodyComponent.attachBody(),this.amby.dispatch(ke.setPlayerSticky(!0)),this.placementChanged=!0,this.updatePosition()},e.prototype.unstickPlayer=function(){Je.Helpers.removeClass(this.adContainerComponent.playerContainer,this.stickyClass),this.shadowDiv&&(this.shadowDiv.style.display="none"),this.amby.get("formatConfig.moveToBody",!1)&&this.moveToBodyComponent.detachBody(this.article.nextSibling),this.amby.dispatch(ke.setPlayerSticky(!1)),this.placementChanged=!0,this.updatePosition()},e.prototype.onMuteBtnClicked=function(){(0,ya.mgDebug)("Mute Button clicked."),this.amby.get("ad.initMuted",!0)?this.amby.dispatch(ke.upsertAdState({initMuted:!1,unmute:!0})):this.amby.dispatch(ke.upsertAdState({initMuted:!0,mute:!0}))},e.prototype.onContainerVisible=function(t){if(this.inSight=t,this.sticky){if(t&&!this.amby.get("player.isSticky",!1))this.isOtherWidgetSticky()||(this.wasVisible=!0),[pr,lr].indexOf(this.autoStart)>-1&&this.amby.get("ad.status")!==zt.states.STATUS_PLAYING&&this.amby.get("player.isPlayingOnVisible",!0)&&(this.amby.dispatch(ke.upsertAdState({startRequested:!0})),this.amby.dispatch(ke.setTriggerToTrue("ad.actionPlay")));else if(this.wasVisible&&(0,Je.getInObject)(this.amby.get(),["sticky"],!0)&&!this.amby.get("player.isSticky",!1)&&!this.isOtherWidgetSticky())this.stickPlayer();else if(this.amby.get("player.isSticky",!1)){var i=Je.Helpers.getViewTop(),a=Je.Helpers.getWindowHeight();i<=this.containerOffsetTop+this.containerHeight*.5&&i+a>=this.containerOffsetTop+this.containerHeight*1.6&&this.unstickPlayer()}this.updatePosition()}else[pr,lr].indexOf(this.autoStart)>-1&&!this.slider&&this.playOnVisible()},e}(Mu.FormatBase);Ri.Outstream=Xu});var dr=pe(ws=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ws,"__esModule",{value:!0});ws.InArticleComponent=void 0;var Ju=He(),Hi=Ce(),Ku=Pe(),Qu=Ve(),em=function(){function r(e,t,i){var a=this;this.amby=e.amby,this.playerContainerDiv=t,this.rootElement=e.rootElement,this.widgetId=this.amby.get("widgetId"),this.articleSelectors=this.amby.get("formatConfig.articleSelectors",!1),this.shadowDivs=[],this.articles=[],this.aspectRatio=(this.amby.get("player.aspectratio")||"16:9").match(/(\d+):(\d+)/).reduce(function(s,n,l){return s[["ratio","width","height"][l]]=n,s},{}),this.articleSelectors?(Array.isArray(this.articleSelectors)||(this.articleSelectors=[this.articleSelectors]),this.articleSelectors.unshift(".MGVideoAnchor".concat(this.widgetId))):this.articleSelectors=[".MGVideoAnchor".concat(this.widgetId)],this.amby.get("formatConfig.multipleArticles",!1)?(i||(document.querySelector("._mgw_".concat(this.widgetId," .mgheader"))||this.rootElement.querySelector("._mgw_".concat(this.widgetId," .mgheader"))?this.articleSelectors.push("._mgw_".concat(this.widgetId," .mgheader")):this.articleSelectors.push("._mgw_".concat(this.widgetId," .mgbox"))),this.articleSelectors.forEach(function(s){var n=document.querySelectorAll(s);n||(n=a.rootElement.querySelectorAll(s)),n&&(n=Array.apply(null,n),n.forEach(function(l){l&&l.parentNode&&a.articles.push(l)}))}),this.articles.length>0&&(this.articles.sort(function(s,n){return Hi.Helpers.getOffsetTop(s)-Hi.Helpers.getOffsetTop(n)}),this.articles.forEach(function(s){var n=document.createElement("div");n.style.width="".concat(Hi.Helpers.getElemWidth(s.parentNode),"px"),n.style.position="absolute",Hi.Helpers.isIE()&&(s.className.indexOf("mgheader")>-1||s.className.indexOf("mgbox")>-1)&&(n.style.top="0",n.style.left="0"),n.className="shadowDiv_".concat(a.amby.get("widgetId")),s.nextSibling?s.parentNode.insertBefore(n,s.nextSibling):s.parentNode.appendChild(n),n.style.height="".concat(Hi.Helpers.getElemWidth(n)/a.aspectRatio.width*a.aspectRatio.height,"px");var l=Hi.Helpers.onVisible(n,function(c){n.inSight=c,c?setTimeout(function(){a.relocatePlayer(n)},0):a.findPlacement()});a.shadowDivs.push({shadowDiv:n,observer:l})}),i&&this.amby.addSubListener("ad.status",function(){a.amby.get("ad.status")===Qu.states.STATUS_STOPPED&&a.shadowDivs.forEach(function(s){var n=s.shadowDiv,l=s.observer;n.style.display="none",l.disconnect()})}),this.amby.addSubListener("player.inSight",function(){a.amby.get("player.inSight")||a.findPlacement()}))):(this.articleSelectors.forEach(function(s){a.article||(a.article=document.querySelector(s)),a.article||(a.article=a.rootElement.querySelector(s))}),this.article&&this.article.parentNode?this.article.nextSibling?this.article.parentNode.insertBefore(this.playerContainerDiv,this.article.nextSibling):this.article.parentNode.appendChild(this.playerContainerDiv):(0,Ju.mgDebug)("No container found. Src: ".concat(window.location!==window.parent.location?document.referrer:document.location.href)))}return r.prototype.relocatePlayer=function(e){(!e.nextSibling||!this.playerContainerDiv.isEqualNode(e.nextSibling))&&!this.amby.get("player.inSight")&&(e.nextSibling?e.parentNode.insertBefore(this.playerContainerDiv,e.nextSibling):e.parentNode.appendChild(this.playerContainerDiv),this.amby.dispatch(Ku.setTriggerToTrue("player.positionChanged")))},r.prototype.findPlacement=function(){var e=this;this.shadowDivs.forEach(function(t){var i=t.shadowDiv;i.inSight&&e.relocatePlayer(i)})},r.prototype.isSomeInSight=function(){return this.shadowDivs.reduce(function(e,t){return e||t.shadowDiv.inSight},!1)},r}();ws.InArticleComponent=em});var Eo=pe(Ni=>{"use strict";S();_();k();C();I();D();E();var tm=Ni&&Ni.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Ni,"__esModule",{value:!0});Ni.AttachedWidgetVideo=void 0;var gt=Ve(),Le=Pe(),Ss=He(),im=Ha(),am=La(),cr=la(),Ye=Ce(),sm=da(),rm=Ya(),nm=Ma(),om=aa(),lm=Za(),pm=Ja(),dm=ts(),cm=ca(),hm=dr(),um=os(),mm=ds(),Do=fa(),fm=fs(),gm=ys(),ym=ga(),vm=vs(),bm=bs(),xm=Ts(),_s="visibleNotPause",hr="visibleOnly",Tm="onLoad",wm="onClick",Sm=function(r){tm(e,r);function e(t){var i=r.call(this,t)||this;return i.videoSensorComponent=new rm.VideoSensorComponent(t),i.styleComponent=new pm.StyleComponent(i.widget),i.styleComponent.styleChecking(function(){i.onStyleLoad()}),i}return e.prototype.onStyleLoad=function(){var t=this;this.amby.get("visibilityKpi")&&this.amby.dispatch(Le.upsertState({widget:{renderTime:Date.now()}})),this.sticky=!!(0,Ye.getInObject)(this.amby.get(),["sticky"],!0)&&!!this.amby.get("formatConfig.sticky",!1),this.wasVisible=!1,this.reInit=parseInt(this.amby.get("formatConfig.reInit"),10),this.moveToBody=this.formatConfig.moveToBody||!1,this.widgetComponent=new nm.WidgetComponent(this.widget,function(){t.onTeasersLoaded()})},e.prototype.onTeasersLoaded=function(){var t=this;this.autoStart=this.amby.get("autoStart",_s),this.showed=this.amby.get("formatConfig.name")!=="outstream",this.amby.get("widget.allImagesLoaded",!1)?this.deferredInitPlayer():this.amby.addSubListener("widget.allImagesLoaded",function(){t.amby.get("widget.allImagesLoaded")&&t.deferredInitPlayer()})},e.prototype.deferredInitPlayer=function(){var t=this;typeof this.formatConfig.startDelay!="number"&&(this.formatConfig.startDelay=0),setTimeout(function(){t.initPlayer()},this.formatConfig.startDelay*1e3)},e.prototype.initPlayer=function(){var t=this,i;if(this.blockMain=this.widget.block.querySelector(".mgbox"),this.blockMain||(this.blockMain=this.widget.block),this.amby.get("formatConfig.name")==="outstream"?(this.articleSelectors=this.amby.get("formatConfig.articleSelectors",!1),this.amby.get("formatConfig.inArticle",!1)?(this.adContainerComponent=new cr.AdContainerComponent(this.amby,this.blockMain,"ad","above"),this.inArticleComponent=new hm.InArticleComponent(this.widget,this.adContainerComponent.playerContainer,!0),this.amby.addTriggerListener("player.positionChanged",function(){t.applyAttachedPlayerSize(),[gt.states.STATUS_PLAYING,gt.states.STATUS_PAUSED,gt.states.STATUS_READY].indexOf(t.amby.get("ad.status"))>-1&&(t.inSight?!t.showed&&t.inArticleComponent.isSomeInSight()&&t.showPlayer():t.hidePlayer()),t.playOnVisible()})):this.adContainerComponent=new cr.AdContainerComponent(this.amby,this.widget.block,"ad",this.amby.get("formatConfig.adsPlace","above"))):this.adContainerComponent=new cr.AdContainerComponent(this.amby,this.blockMain),this.sticky){switch(this.amby.get("formatConfig.sliderSize","m").toLowerCase()){case"s":this.stickyClass="small ";break;case"m":this.stickyClass="medium ";break;case"l":this.stickyClass="large ";break}this.stickyClass+=this.amby.get("formatConfig.sliderAlign","right"),this.adContainerComponent.playerContainer.addEventListener("animationend",function(){t.applyAttachedPlayerSize()}),this.adContainerComponent.playerContainer.addEventListener("transitionend",function(){t.applyAttachedPlayerSize()})}if(this.calcStartOnScroll(this.adContainerComponent.playerContainer),this.moveToBodyComponent=new lm.MoveToBodyComponent(this.widgetId,this.adContainerComponent.playerContainer),this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new dm.LogoComponent(this.amby,this.adContainerComponent.playerContainer,!this.amby.get("formatConfig.inArticle",!1))),Ye.Helpers.addClass(this.adContainerComponent.playerContainer,"block"),this.amby.dispatch(Le.setAdVisible(!1)),this.applyAttachedPlayerSize(),this.previousWidth=Ye.Helpers.getElemWidth(this.adContainerComponent.playerContainer),this.previousHeight=Ye.Helpers.getElemHeight(this.adContainerComponent.playerContainer),window.addEventListener("resize",function(){(t.previousWidth!==Ye.Helpers.getElemWidth(t.adContainerComponent.playerContainer)||t.previousHeight!==Ye.Helpers.getElemHeight(t.adContainerComponent.playerContainer))&&(t.previousWidth=Ye.Helpers.getElemWidth(t.adContainerComponent.playerContainer),t.previousHeight=Ye.Helpers.getElemHeight(t.adContainerComponent.playerContainer),t.applyAttachedPlayerSize())}),this.autoStart===wm&&(this.clickDiv=document.createElement("div"),this.clickDiv.className="mgClickDiv_".concat(this.widgetId),this.clickDiv.onclick=function(n){(0,Ss.mgDebug)("Clicked on teaser"),t.clickDiv.style.display="none",t.amby.dispatch(Le.setTriggerToTrue("ad.unmute")),t.amby.dispatch(Le.upsertAdState({startRequested:!0})),t.amby.dispatch(Le.setTriggerToTrue("ad.actionPlay")),n.cancelBubble=!0},this.adContainerComponent.playerContainer.appendChild(this.clickDiv)),Array.isArray(this.config.adPlayers)){var a=null;if(this.config.adPlayers.forEach(function(n){!a&&typeof n=="object"&&(a=n)}),!a.mobileChannelId&&!a.desktopChannelId&&a.engine==="aniview"&&(a=null),a){var s=Ye.Helpers.getUrlParam("mgwcampaign");switch(s&&(s.match(/pubads\.g/)&&(a.engine="ima"),a.adSource=s),this.amby.dispatch(Le.upsertState({ad:{playerEngine:a.engine}})),this.amby.dispatch(Le.upsertState({ad:{enableCTA:(i=a.enableCTA)!==null&&i!==void 0?i:!1}})),a.engine){case"aniview":this.adComponent=new am.AniViewComponent(this.widget,{publisherId:a.publisherId,channelId:this.amby.get("deviceType")==="mobile"?a.mobileChannelId:a.desktopChannelId,playerContainerId:this.adContainerComponent.playerContainer.id,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv,skipoffset:a.skipoffset,vastRetry:a.vastRetry,errorLimit:a.errorLimit,maxrun:a.maxrun,logLevel:a.logLevel,timeout:parseInt(a.timeout,10),nextAdTimeout:parseInt(a.nextAdTimeout,10),ref1:a.ref1,soundButton:a.soundbutton,pauseButton:a.pausebutton,timeLine:a.timeline,aniviewParams:a.aniviewParams,waterfall:a.waterfall,noCompleteTimeout:a.noCompleteTimeout,verifiedSources:a.verifiedSources,initSize:a.initSize}),this.amby.dispatch(Le.upsertAdState({skipoffset:a.skipoffset}));break;case"mgAdPlayer":this.adComponent=new cm.MgAdPlayerComponent(this.widget,{container:this.adContainerComponent.playerDiv,mgsetup:a.mgsetup,quality:a.quality,adPlaylist:a.adPlaylist});break;case"ima":this.skipButton=new mm.SkipAdButtonComponent(this.amby,this.adContainerComponent.playerContainer,"ad"),this.muteButton=new Do.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),this.adComponent=new um.ImaSdkComponent(this.widget,{adSource:a.adSource,requestsLimit:a.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv});break;case"vpaid":this.muteButton=new Do.MuteButtonComponent(this.amby,this.adContainerComponent.playerContainer),a.adSource||(a.adResponse=this.widget.mgRec.config.vastContent),this.adComponent=new fm.VpaidPlayerComponent(this.widget,{adSource:a.adSource,requestsLimit:a.requestsLimit,playerDivId:this.adContainerComponent.playerDiv.id,playerDiv:this.adContainerComponent.playerDiv,desiredBitrate:this.amby.get("formatConfig.bitrate"),vpaidMode:a.vpaidMode,adResponse:a.adResponse,skipoffset:a.skipoffset});break;case"exco":this.adComponent=new gm.ExcoComponent(this.widget,{adSource:a.adSource,container:this.adContainerComponent.playerDiv});break;case"aniviewDirect":this.adComponent=new ym.AniviewDirectComponent(this.widget,{publisherId:a.publisherId,tagId:a.playerTagId,ref1:a.ref1,container:this.adContainerComponent.playerDiv});break;case"tremor":this.adComponent=new bm.TremorComponent(this.widget,{publisherId:a.publisherId,tagId:a.playerTagId,ref1:a.ref1,container:this.adContainerComponent.playerDiv});break;case"connatix":this.amby.dispatch(Le.upsertState({ad:{playerEngine:a.engine}})),this.adComponent=new xm.CustomEngine(this.widget,{publisherId:a.publisherId,adSource:a.adSource,container:this.adContainerComponent.playerDiv}),this.amby.dispatch(Le.upsertAdState({skipoffset:a.skipoffset}));break}}else(0,Ss.mgDebug)("There is no available AD player.")}this.amby.addSubListener(["widget","blurred"],function(){t.onAdPlayerBlurred()}),this.amby.addTriggerListener("ad.clicked",function(){t.onAdClickedTriggerBase()}),this.amby.addSubListener("ad.status",function(){t.onAdStatusChange(),t.onAdStatusBase()}),this.amby.get("closeBtn.enabled")&&(this.amby.addSubListener("ad.init",function(){t.amby.get("ad.init")===gt.states.INIT_DONE&&(t.closeBtnComponent?(!t.closeBtnComponent.elem||!t.adContainerComponent.playerContainer.contains(t.closeBtnComponent.elem))&&t.closeBtnComponent.createElement():t.closeBtnComponent=new sm.CloseButtonComponent(t.amby,t.adContainerComponent.playerDiv))}),this.amby.addTriggerListener("closeBtn.clicked",function(){t.amby.get("player.isSticky",!1)&&t.amby.dispatch(Le.upsertGlobalState({sticky:!1})),Ye.Helpers.removeClass(t.adContainerComponent.playerContainer,"noanim"),t.hidePlayer(),t.amby.dispatch(Le.setAdVisible(!1)),t.amby.dispatch(Le.setTriggerToTrue("ad.actionStop")),t.amby.dispatch(Le.setTriggerToTrue("ad.closed"))})),this.muteButton&&this.amby.addTriggerListener("muteBtn.clicked",function(){t.onMuteBtnClicked()}),this.amby.get("formatConfig.smartBackfill",!1)&&(this.amby.addSubListener("ad.rejecting",function(){!t.amby.get("ad.startRequested",!1)&&t.amby.get("ad.rejecting")&&t.amby.get("ad.status")===gt.states.STATUS_READY&&[gt.states.STATUS_PLAYING,gt.states.STATUS_PAUSED].indexOf(t.amby.get("ad.status"))===-1&&(t.amby.dispatch(Le.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){t.amby.dispatch(Le.setTriggerToTrue("ad.actionStop"))},500))}),this.smartBackfillComponent=new vm.SmartBackfillComponent(this.widget)),this.callStartInit()},e.prototype.onAdStatusChange=function(){var t=this,i=this.amby.get("ad.status");switch((0,Ss.mgDebug)("Ads ".concat(i,".").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),i){case gt.states.STATUS_READY:this.amby.get("formatConfig.smartBackfill",!1)&&this.amby.get("ad.rejecting")&&(this.amby.dispatch(Le.upsertState({player:{isPlayingOnVisible:!1},ad:{rejected:!0}})),setTimeout(function(){t.amby.dispatch(Le.setTriggerToTrue("ad.actionStop"))},500)),this.amby.get("formatConfig.visibleInit",!1)&&(this.showPlayer(),this.amby.dispatch(Le.setAdVisible(!0))),this.observer||(Ye.Helpers.isIE()?setTimeout(function(){t.addContainerObserver()},100):this.addContainerObserver()),this.autoStart===Tm||this.amby.get("ad.reInited")&&this.amby.get("player.isSticky")?(this.amby.dispatch(Le.upsertAdState({startRequested:!0})),this.amby.dispatch(Le.setTriggerToTrue("ad.actionPlay"))):[hr,_s].indexOf(this.autoStart)>-1&&this.playOnVisible(),this.sticky&&(this.stickyObserver||(this.stickyObserver=Ye.Helpers.onVisible(this.adContainerComponent.playerContainer,function(a){if(a&&!t.amby.get("player.isSticky",!1))t.isOtherWidgetSticky()||(t.wasVisible=!0),[hr,_s].indexOf(t.autoStart)>-1&&t.amby.get("ad.status")!==gt.states.STATUS_PLAYING&&t.amby.get("player.isPlayingOnVisible",!0)&&(t.amby.dispatch(Le.upsertAdState({startRequested:!0})),t.amby.dispatch(Le.setTriggerToTrue("ad.actionPlay")));else if(t.wasVisible&&(0,Ye.getInObject)(t.amby.get(),["sticky"],!0)&&!t.amby.get("player.isSticky",!1)&&!t.isOtherWidgetSticky())t.stickPlayer();else if(t.amby.get("player.isSticky",!1)&&t.showed){var s=Ye.Helpers.getViewTop(),n=Ye.Helpers.getWindowHeight();s<=t.containerOffsetTop+t.containerHeight*.5&&s+n>=t.containerOffsetTop+t.containerHeight*1.6&&t.unstickPlayer()}t.placementChanged&&(t.placementChanged=!1,t.applyAttachedPlayerSize())},.6),(0,om.addSubListener)("sticky",function(){t.sticky=t.amby.get().sticky})));break;case gt.states.STATUS_PLAYING:this.clickDiv&&(this.clickDiv.style.display="none"),this.amby.dispatch(Le.setAdVisible(!0)),this.amby.dispatch(Le.upsertState({muteBtn:{visible:!0}})),this.formatConfig.name==="outstream"&&!this.showed?(!this.amby.get("formatConfig.multipleArticles")||this.inArticleComponent.isSomeInSight())&&this.showPlayer():this.applyAttachedPlayerSize();break;case gt.states.STATUS_STOPPED:Ye.Helpers.removeClass(this.adContainerComponent.playerContainer,"noanim"),this.formatConfig.name==="outstream"&&(this.hidePlayer(),this.amby.dispatch(Le.setAdVisible(!1)),this.amby.dispatch(Le.upsertState({muteBtn:{visible:!1}}))),this.reInit&&this.createReInitTimeout();break;case gt.states.STATUS_ERROR:this.hidePlayer(),this.amby.dispatch(Le.setAdVisible(!1)),this.reInit&&this.createReInitTimeout();break}},e.prototype.applyAttachedPlayerSize=function(){var t=Ye.Helpers.getElemWidth(this.adContainerComponent.playerContainer);this.adHeight=t/this.aspectRatio.width*this.aspectRatio.height,this.containerHeight||(this.containerHeight=this.adHeight),this.showed||this.amby.get("player.isSticky",!1)?this.adContainerComponent.playerContainer.style.height="".concat(this.adHeight,"px"):Ye.Helpers.isIE()?this.adContainerComponent.playerContainer.style.height="0.01px":this.adContainerComponent.playerContainer.style.height="0px",this.amby.dispatch(Le.upsertAdState({resize:!0,size:{width:t,height:this.adHeight}}))},e.prototype.showPlayer=function(){this.showed=!0,this.shadowDiv&&this.amby.get("player.isSticky",!1)&&(this.shadowDiv.style.display="block"),this.applyAttachedPlayerSize(),this.adContainerComponent.playerDiv.firstChild&&this.adContainerComponent.playerDiv.firstChild.clientHeight===0&&window.dispatchEvent(new Event("resize"))},e.prototype.hidePlayer=function(){this.showed=!1,this.shadowDiv&&(this.shadowDiv.style.display="none"),this.applyAttachedPlayerSize()},e.prototype.stickPlayer=function(){var t=this;this.containerOffsetTop||(this.adContainerComponent.playerContainer.offsetParent?this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetParent.offsetTop+this.adContainerComponent.playerContainer.offsetTop:this.containerOffsetTop=this.adContainerComponent.playerContainer.offsetTop),Ye.Helpers.addClass(this.adContainerComponent.playerContainer,this.stickyClass),Ye.Helpers.addClass(this.adContainerComponent.playerContainer,"noanim"),this.shadowDiv?this.shadowDiv.style.display="block":(this.shadowDiv=document.createElement("div"),this.shadowDiv.style.width="100%",this.shadowDiv.style.height="".concat(this.adHeight*.6,"px"),this.shadowDiv.className="shadowDiv_".concat(this.amby.get("widgetId")),this.adContainerComponent.playerContainer.parentNode.insertBefore(this.shadowDiv,this.adContainerComponent.playerContainer),Ye.Helpers.onVisible(this.shadowDiv,function(i){t.shadowDivShown=i,t.shadowDivShown&&t.amby.get("player.isSticky",!1)&&t.unstickPlayer(),t.placementChanged&&(t.placementChanged=!1,t.applyAttachedPlayerSize())})),this.moveToBody&&this.moveToBodyComponent.attachBody(),this.placementChanged=!0,this.amby.dispatch(Le.setPlayerSticky(!0))},e.prototype.unstickPlayer=function(){Ye.Helpers.removeClass(this.adContainerComponent.playerContainer,this.stickyClass),this.shadowDiv&&(this.shadowDiv.style.display="none"),this.moveToBody&&this.moveToBodyComponent.detachBody(this.article.nextSibling),this.placementChanged=!0,this.amby.dispatch(Le.setPlayerSticky(!1))},e.prototype.addContainerObserver=function(){var t=this;this.observer=Ye.Helpers.onVisible(this.adContainerComponent.playerContainer,function(i){t.inSight=i,t.amby.dispatch(Le.upsertState({player:{inSight:i}})),t.amby.get("formatConfig.multipleArticles",!1)&&[gt.states.STATUS_PLAYING,gt.states.STATUS_PAUSED,gt.states.STATUS_READY].indexOf(t.amby.get("ad.status"))>-1&&(t.inSight?!t.showed&&t.inArticleComponent.isSomeInSight()&&t.showPlayer():t.hidePlayer()),[hr,_s].indexOf(t.autoStart)>-1&&!t.sticky&&t.playOnVisible(t.amby.get("formatConfig.multipleArticles",!1)?t.showed:void 0)},this.amby.get("formatConfig.visiblePart"),this.amby.get("formatConfig.hiddenPart"))},e.prototype.onMuteBtnClicked=function(){(0,Ss.mgDebug)("Mute Button clicked."),this.amby.get("ad.initMuted",!0)?this.amby.dispatch(Le.upsertAdState({initMuted:!1,unmute:!0})):this.amby.dispatch(Le.upsertAdState({initMuted:!0,mute:!0}))},e}(im.FormatBase);Ni.AttachedWidgetVideo=Sm});var Po=pe(ks=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(ks,"__esModule",{value:!0});ks.OutstreamBase=void 0;var _m=Ve(),yi=Ce(),ur=He(),km=Pe(),Cm=Io(),Im=Eo(),Dm=function(){function r(){}return r.init=function(e,t){var i=(0,yi.getInObject)(e,["mgRec","config","enabled"]);if(!i||i==="0"){(0,ur.mgDebug)("Widget disabled.");return}var a=(0,yi.getInObject)(e,["mgRec","config","formats"]),s=(0,yi.getInObject)(e,["mgRec","cappingData","dt"],"desktop");if(s==="tablet"&&(s="mobile"),Array.isArray(a)){for(var n=0;n<a.length;n++)if(a[n].device===s&&["outstream","attachedWidget"].indexOf(a[n].name)>-1&&(!a[n].test||yi.Helpers.getUrlParam(a[n].test)||yi.Helpers.getCookie(a[n].test))){var l=(0,yi.getInObject)(e,["mgRec","config","parentCid"],(0,yi.getInObject)(e,["mgRec","cid"])),c=(0,_m.createAmby)("video_".concat(l,"_").concat(t));c.dispatch(km.setFormatConfig(a[n])),e.amby=c,e.formatConfig=a[n],a[n].name==="outstream"&&(a[n].adsPlace==="over"||a[n].adsPlace===void 0||!!a[n].slider)?((0,ur.mgDebug)("Initialising Outstream module"),e.outstream=new Cm.Outstream(e)):(a[n].name==="attachedWidget"||a[n].name==="outstream"&&(["above","below"].indexOf(a[n].adsPlace)>-1||!!a[n].inArticle))&&((0,ur.mgDebug)("Initialising AttachedWidgetVideo module"),e.attachedWidget=new Im.AttachedWidgetVideo(e));break}}},r}();ks.OutstreamBase=Dm});var Lo=pe(Cs=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Cs,"__esModule",{value:!0});Cs.AdControllerComponent=void 0;var je=Ve(),Oe=Pe(),vi=Ce(),Em=La(),Pm=la(),Am=He(),Lm=ds(),Bm=ca(),Om=os(),Ao=fa(),Mm=fs(),Rm=ys(),Hm=ga(),Nm=bs(),Gm=Ts(),Vm=function(){function r(e,t){var i=this;this.amby=e.amby,this.widget=e,this.mgVideoIndex=this.amby.get("mgVideoIndex"),this.widgetId=this.amby.get("widgetId"),this.adPlayers=this.amby.get("adPlayers",[]),this.schedule={},Array.isArray(this.amby.get("adSchedule"))&&this.amby.get("adSchedule").forEach(function(a){i.schedule[a.offset]=a.adPlayers}),this.maxAdsAtTime=this.amby.get("formatConfig.maxAdsAtTime",2),this.players={},this.readyPlayers=[],this.adsAtTime=0,Array.isArray(this.adPlayers)&&this.adPlayers.forEach(function(a){i.players[a.name]=a,i.players[a.name].container=new Pm.AdContainerComponent(i.amby,t.playerDiv,a.name),(a.engine==="youtube"||a.engine==="ima")&&(i.players[a.name].skipButton=new Lm.SkipAdButtonComponent(i.amby,i.players[a.name].container.playerContainer,a.name),a.engine==="ima"&&(i.players[a.name].muteButton=new Ao.MuteButtonComponent(i.amby,i.players[a.name].container.playerContainer))),(a.engine==="ima"||a.engine==="vpaid")&&(i.players[a.name].muteButton=new Ao.MuteButtonComponent(i.amby,i.players[a.name].container.playerContainer)),i.addPlayerListeners(a.name)}),this.addListeners(),(0,Am.mgDebug)("AdControllerComponent initiated.")}return r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("ad.init",function(){switch(e.amby.get("ad.init")){case je.states.INIT_NEEDED:case je.states.INIT_RESET:e.readyPlayers.forEach(function(t){e.amby.dispatch(Oe.setAdInit(je.states.INIT_STOP,t))}),e.readyPlayers=[],e.curPosition=e.amby.get("ad.curAdPosition"),e.schedule&&e.curPosition&&e.schedule[e.curPosition]&&e.schedule[e.curPosition].forEach(function(t){e.initAdPlayer(t)}),e.amby.dispatch(Oe.setAdInit(je.states.INIT_IN_PROGRESS));break;case je.states.INIT_STOP:e.schedule&&e.curPosition&&e.schedule[e.curPosition]&&e.schedule[e.curPosition].forEach(function(t){e.amby.dispatch(Oe.setAdInit(je.states.INIT_STOP,t))});break}}),this.amby.addTriggerListener("ad.actionPlay",function(){e.amby.get("ad.enabled")&&(e.readyPlayers.length>0?(e.amby.dispatch(Oe.upsertAdState({startRequested:!0})),e.amby.dispatch(Oe.setTriggerToTrue("".concat(e.readyPlayers[0],".actionPlay")))):e.startRequested=!0)}),this.amby.addTriggerListener("ad.actionPause",function(){e.amby.dispatch(Oe.setTriggerToTrue("".concat(e.readyPlayers[0],".actionPause")))}),this.amby.addTriggerListener("ad.actionClose",function(){e.amby.dispatch(Oe.setTriggerToTrue("".concat(e.readyPlayers[0],".actionClose")))}),this.amby.addTriggerListener("ad.actionStop",function(){e.readyPlayers.forEach(function(t){[je.states.STATUS_PLAYING,je.states.STATUS_PAUSED].indexOf(e.amby.get("".concat(t,".status")))>-1&&e.amby.dispatch(Oe.setTriggerToTrue("".concat(t,".actionStop")))})})},r.prototype.addPlayerListeners=function(e){var t=this;this.amby.addSubListener("".concat(e,".status"),function(){t.onPlayerStatus(e)}),this.amby.addTriggerListener("".concat(e,".impression"),function(){t.amby.dispatch(Oe.setTriggerToTrue("ad.impression"))})},r.prototype.onPlayerStatus=function(e){switch(this.amby.get("".concat(e,".status"))){case je.states.STATUS_READY:this.readyPlayers.indexOf(e)===-1&&this.readyPlayers.push(e),[je.states.STATUS_READY,je.states.STATUS_PLAYING].indexOf(this.amby.get("ad.status"))===-1&&(this.amby.dispatch(Oe.setAdInit(je.states.INIT_DONE)),this.amby.dispatch(Oe.setAdStatus(je.states.STATUS_READY))),(this.amby.get("ad.curAdPosition")==="pre"||this.players[e].engine==="youtube")&&this.amby.dispatch(Oe.setAdVisible(!0,e)),this.startRequested&&(this.startRequested=!1,this.amby.dispatch(Oe.upsertAdState({startRequested:!0})),this.amby.dispatch(Oe.setTriggerToTrue("".concat(this.readyPlayers[0],".actionPlay"))));break;case je.states.STATUS_PLAYING:this.amby.dispatch(Oe.setAdVisible(!0,e)),this.amby.dispatch(Oe.upsertState({muteBtn:{visible:!0}})),this.amby.dispatch(Oe.setAdStatus(je.states.STATUS_PLAYING));break;case je.states.STATUS_PAUSED:this.amby.dispatch(Oe.setAdStatus(je.states.STATUS_PAUSED));break;case je.states.STATUS_ERROR:case je.states.STATUS_STOPPED:this.adsAtTime+=1,this.amby.dispatch(Oe.setAdVisible(!1,e)),this.readyPlayers.splice(this.readyPlayers.indexOf(e),1),this.readyPlayers.length>0&&this.maxAdsAtTime>this.adsAtTime?this.amby.dispatch(Oe.setTriggerToTrue("".concat(this.readyPlayers[0],".actionPlay"))):(this.adsAtTime=0,this.amby.dispatch(Oe.upsertState({muteBtn:{visible:!1}})),this.amby.dispatch(Oe.setAdStatus(this.amby.get("".concat(e,".status")))));break;case je.states.STATUS_INIT:[je.states.STATUS_ERROR,je.states.STATUS_STOPPED].indexOf(this.amby.get("ad.status"))>-1&&this.amby.dispatch(Oe.setAdStatus(je.states.STATUS_INIT));break}},r.prototype.initAdPlayer=function(e){var t,i,a,s,n,l;if(this.players[e]&&!this.players[e].component){!this.players[e].mobileChannelId&&!this.players[e].desktopChannelId&&this.players[e].engine==="aniview"&&(this.players[e].engine=null);var c=vi.Helpers.getUrlParam("mgwcampaign");switch(c&&(c.match(/pubads\.g/)&&(this.players[e].engine="ima"),this.players[e].adSource=c),this.amby.dispatch(Oe.upsertState({ad:{playerEngine:this.players[e].engine}})),this.amby.dispatch(Oe.upsertState({ad:{enableCTA:(l=this.players[e].enableCTA)!==null&&l!==void 0?l:!1}})),this.players[e].engine){case"aniview":this.players[e].component=new Em.AniViewComponent(this.widget,{name:e,publisherId:this.players[e].publisherId,channelId:this.amby.get("deviceType")==="mobile"?this.players[e].mobileChannelId:this.players[e].desktopChannelId,playerContainerId:this.players[e].container.playerContainer.id,playerDivId:this.players[e].container.playerDiv.id,vastRetry:this.players[e].vastRetry,errorLimit:this.players[e].errorLimit,maxrun:this.players[e].maxrun,logLevel:this.players[e].logLevel,timeout:parseInt(this.players[e].timeout,10),nextAdTimeout:parseInt(this.players[e].nextAdTimeout,10),ref1:this.players[e].ref1,soundButton:this.players[e].soundbutton,pauseButton:this.players[e].pausebutton,timeLine:this.players[e].timeline,aniviewParams:this.players[e].aniviewParams,waterfall:this.players[e].waterfall,noCompleteTimeout:this.players[e].noCompleteTimeout,skipoffset:this.players[e].skipoffset,verifiedSources:this.players[e].verifiedSources,initSize:this.players[e].initSize}),this.amby.dispatch(Oe.upsertState((t={},t[e]={skipoffset:this.players[e].skipoffset},t)));break;case"mgAdPlayer":this.players[e].component=new Bm.MgAdPlayerComponent(this.widget,{name:e,container:this.players[e].container.playerDiv,mgsetup:this.players[e].mgsetup,quality:this.players[e].quality,adPlaylist:this.players[e].adPlaylist}),this.amby.dispatch(Oe.upsertState((i={},i[e]={skipoffset:this.players[e].skipoffset},i)));break;case"ima":this.players[e].component=new Om.ImaSdkComponent(this.widget,{name:e,adSource:this.players[e].adSource,requestsLimit:this.players[e].requestsLimit,playerDivId:this.players[e].container.playerDiv.id}),this.amby.dispatch(Oe.upsertState((a={},a[e]={skipoffset:this.players[e].skipoffset},a)));break;case"vpaid":if(!this.players[e].adSource)this.players[e].adResponse=this.widget.mgRec.config.vastContent;else{var h=vi.Helpers.getConsentData(),g=this.players[e].adSource,y=h.gdpr?"gdpr":"";g=vi.Helpers.replaceAll(g,"{gdpr}",String(Number(h.gdpr))),g=vi.Helpers.replaceAll(g,"[REGULATIONS]",y),g=vi.Helpers.replaceAll(g,"{gdpr_consent}",h.consentData),g=vi.Helpers.replaceAll(g,"[GDPRCONSENT]",h.consentData),g=vi.Helpers.replaceAll(g,"{cxurl}",this.amby.get("cxurl","")),this.players[e].adSource=g}this.players[e].component=new Mm.VpaidPlayerComponent(this.widget,{name:e,adSource:this.players[e].adSource,requestsLimit:this.players[e].requestsLimit,playerDivId:this.players[e].container.playerDiv.id,desiredBitrate:this.amby.get("formatConfig.bitrate"),vpaidMode:this.players[e].vpaidMode,adResponse:this.players[e].adResponse,skipoffset:this.players[e].skipoffset}),this.amby.dispatch(Oe.upsertState((s={},s[e]={skipoffset:this.players[e].skipoffset},s)));break;case"exco":this.players[e].component=new Rm.ExcoComponent(this.widget,{name:e,adSource:this.players[e].adSource,container:this.players[e].container.playerDiv});break;case"aniviewDirect":this.players[e].component=new Hm.AniviewDirectComponent(this.widget,{name:e,publisherId:this.players[e].publisherId,tagId:this.players[e].playerTagId,ref1:this.players[e].ref1,container:this.players[e].container.playerDiv});break;case"tremor":this.players[e].component=new Nm.TremorComponent(this.widget,{name:e,publisherId:this.players[e].publisherId,tagId:this.players[e].playerTagId,ref1:this.players[e].ref1,container:this.players[e].container.playerDiv});break;case"connatix":this.adComponent=new Gm.CustomEngine(this.widget,{publisherId:this.players[e].publisherId,adSource:this.players[e].adSource,container:this.players[e].container.playerDiv,name:e}),this.amby.dispatch(Oe.upsertState((n={},n[e]={skipoffset:this.players[e].skipoffset},n)));break}this.amby.dispatch(Oe.setAdInit(je.states.INIT_NEEDED,e))}else this.amby.dispatch(Oe.setAdInit(je.states.INIT_RESET,e))},r}();Cs.AdControllerComponent=Vm});var Bo=pe(Is=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Is,"__esModule",{value:!0});Is.AdPlayerComponent=void 0;var Ue=Ve(),xe=Pe(),Gi=He(),qm=da(),Wm=Lo(),Um=la(),kt=Ce(),jm=vs(),zm=function(){function r(e,t){var i=this;this.amby=e.amby,this.widget=e,this.mainBox=t,this.rootElement=e.rootEleement;var a=this.amby.get("adSchedule",[]);this.formatConfig=this.amby.get("formatConfig",{}),this.playerTeaserIndex=this.amby.get("widget.playerTeaserIndex",0),this.mgVideoIndex=this.amby.get("mgVideoIndex"),this.widgetId=this.amby.get("widgetId");var s=this.amby.get("adPlayers",[]);this.preTimeoutTime=parseInt(this.formatConfig.preTimeout,10)||2,this.amby.dispatch(xe.upsertAdState({initMuted:!0})),this.schedule={},s&&Array.isArray(s)&&a&&Array.isArray(a)?s.forEach(function(n){a.forEach(function(l){l.adPlayers&&n.name&&l.adPlayers.indexOf(n.name)>-1&&(i.schedule[l.offset]||(i.schedule[l.offset]={adPlayers:[]}),i.schedule[l.offset].adPlayers.push(JSON.parse(JSON.stringify(n))),i.schedule[l.offset].loadAds=(0,kt.getInObject)(l,["loadAds"]),i.schedule[l.offset].preloadPercent=parseFloat((0,kt.getInObject)(l,["preloadPercent"],0)))})}):(0,Gi.mgDebug)("Config error: there is no adPlayers or adSchedule."),this.startScrollPixels=null,(this.formatConfig.startOnScroll||this.schedule.pre&&this.schedule.pre.loadAds==="playerLoaded"&&this.schedule.pre.preloadPercent>=0&&this.schedule.pre.preloadPercent<=100)&&(this.startOnScrollPercent=.51,this.schedule.pre.preloadPercent&&(this.startOnScrollPercent=1-parseFloat(this.schedule.pre.preloadPercent)/100),this.updateStartOnScrollPixels()),this.adContainerComponent=new Um.AdContainerComponent(this.amby,t),this.adControllerComponent=new Wm.AdControllerComponent(this.widget,this.adContainerComponent),this.addListeners(),(0,Gi.mgDebug)("AdPlayerComponent initiated.")}return r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("player.position",function(){if(e.amby.get("ad.enabled",!1)){var t=e.amby.get("player.position",0),i=e.amby.get("ad.enabledPosition",0);t&&(e.amby.get("ad.curAdPosition")===null?Object.entries(e.schedule).sort(function(a,s){return a[1].posInSec-s[1].posInSec}).forEach(function(a){var s=a[0],n=a[1];["pre","post"].indexOf(s)===-1&&!n.initiated&&e.amby.get("ad.curAdPosition")===null&&(n.initiated=!0,e.amby.get("ad.adInProgress",!1)||(e.amby.dispatch(xe.upsertAdState({adInProgress:!0,curAdPosition:s})),e.amby.get("formatConfig.initAdOnPosition",!1)||e.initAdPlayer()))}):["pre","post"].indexOf(e.amby.get("ad.curAdPosition"))===-1&&e.schedule[e.amby.get("ad.curAdPosition")]&&e.schedule[e.amby.get("ad.curAdPosition")].posInSec<=t-i&&e.amby.get("ad.status")===Ue.states.STATUS_READY&&(e.prevPlayerStatus=e.amby.get("player.status"),e.amby.get("formatConfig.initAdOnPosition",!1)?e.initAdPlayer():(e.amby.get("player.inSight")||e.amby.get("autoStart")==="onLoad")&&e.amby.dispatch(xe.setTriggerToTrue("ad.actionPlay")))),e.amby.dispatch(xe.upsertAdState({enabledTime:e.amby.get("ad.enabledTime",0)+1}))}}),this.amby.addSubListener("player.status",function(){switch(e.amby.get("player.status")){case Ue.states.STATUS_READY:e.startScrollPixels!==null&&e.schedule.pre&&e.getPreLoadAdsBy()==="playerLoaded"&&window.addEventListener("scroll",function(){e.startOnScroll(function(){e.presearchInit()})});break;case Ue.states.STATUS_PLAYING:e.hasPreScheduleLoaded()&&e.amby.get("ad.beforePlacementInitiated")&&!e.amby.get("ad.beforePlacementStopped")&&(e.amby.dispatch(xe.upsertAdState({curAdPosition:null,adInProgress:!1,beforePlacementStopped:!0})),e.amby.dispatch(xe.upsertPlayerState({wasPlaying:!0})),e.amby.dispatch(xe.setAdInit(Ue.states.INIT_STOP)));break}}),this.amby.addSubListener("ad.status",function(){e.onAdStatusChange()}),this.amby.addTriggerListener("player.resize",function(){kt.Helpers.vitalCall(function(){return e.applyPlayerSize()},e.amby.get("isVital",!0))}),this.amby.addSubListener("ad.enabled",function(){if(e.amby.get("ad.enabled",!1)){var t=e.amby.get("player.position",0),i=e.amby.get("player.duration",1);Object.entries(e.schedule).forEach(function(a){var s=a[0],n=a[1];if(["pre","post"].indexOf(s)===-1){var l=s.toString().match(/(\d+)%/);l&&l[1]?n.posInSec=Math.floor((i-t)*l[1]/100)||0:n.posInSec=parseInt(s,10)||0}}),kt.Helpers.vitalCall(function(){e.amby.dispatch(xe.upsertAdState({enabledPosition:e.amby.get("player.position",0)-e.amby.get("ad.enabledTime",0)}))},e.amby.get("isVital",!0))}e.canPrePlaySchedule()&&e.amby.get("ad.enabled",!1)&&(e.getPreLoadAdsBy()==="pageLoaded"?e.presearchInit():e.presearchObserver=kt.Helpers.onVisible(e.adContainerComponent.playerContainer,function(a){a&&(e.presearchInit(),e.presearchObserver.disconnect())},.01))}),this.amby.addSubListener("player.inSight",function(){e.amby.get("ad.enabled",!1)&&e.amby.get("player.inSight")&&[Ue.states.STATUS_PAUSED,Ue.states.STATUS_READY].indexOf(e.amby.get("ad.status"))>-1&&(e.amby.get("player.isPlayingOnVisible",!0)||!e.amby.get("ad.containerClicked",!1))&&(e.amby.get("autoStart")==="visibleNotPause"||e.canPrePlaySchedule()&&e.amby.get("ad.curAdPosition")==="pre")&&e.amby.dispatch(xe.setTriggerToTrue("ad.actionPlay"))}),this.amby.addTriggerListener("player.newItem",function(){(e.amby.get("player.isAdPlaying",!1)||e.amby.get("ad.adInProgress",!1))&&(e.amby.dispatch(xe.setAdInit(Ue.states.INIT_STOP)),e.amby.dispatch(xe.setAdStatus(Ue.states.STATUS_STOPPED))),Object.entries(e.schedule).forEach(function(t){var i=t[1];i.initiated=!1,i.posInSec=null}),e.amby.dispatch(xe.upsertAdState({enabledPosition:0,enabledTime:0,adInProgress:!1,curAdPosition:null}))}),this.amby.addTriggerListener("player.firstFrame",function(){e.schedule.pre&&["pageLoaded","playerLoaded"].indexOf(e.schedule.pre.loadAds)===-1&&(e.amby.dispatch(xe.upsertAdState({curAdPosition:"pre",visible:!0,adInProgress:!0})),e.amby.dispatch(xe.upsertPlayerState({actionPause:!0,isAdPlaying:!0})),e.amby.dispatch(xe.setAdStatus(Ue.states.STATUS_INIT)),e.preTimeout&&(clearTimeout(e.preTimeout),e.preTimeout=null),e.preTimeout=setTimeout(function(){(0,Gi.mgDebug)("PreTimeout fired."),e.amby.dispatch(xe.setAdInit(Ue.states.INIT_STOP)),e.amby.dispatch(xe.setAdStatus(Ue.states.STATUS_STOPPED))},e.preTimeoutTime*1e3),e.initAdPlayer())}),this.amby.addSubListener("player.duration",function(){Object.entries(e.schedule).forEach(function(t){var i=t[0],a=t[1],s=e.amby.get("player.position",0),n=e.amby.get("player.duration",1);if(a.initiated=!1,n>1)if(["pre","post"].indexOf(i)===-1){var l=i.toString().match(/(\d+)%/);l&&l[1]?a.posInSec=Math.floor((n-s)*(l[1]/100))||0:a.posInSec=parseInt(i,10)||0}else a.posInSec=null})}),this.amby.addTriggerListener("player.userUnmute",function(){e.amby.dispatch(xe.upsertAdState({initMuted:!1,unmute:!0}))}),this.amby.addTriggerListener("player.userMute",function(){e.amby.dispatch(xe.upsertAdState({initMuted:!0,mute:!0}))}),this.amby.addSubListener("ad.init",function(){e.amby.get("ad.init")===Ue.states.INIT_DONE&&(e.closeBtnComponent?(!e.closeBtnComponent.elem||!e.adContainerComponent.playerContainer.contains(e.closeBtnComponent.elem))&&e.closeBtnComponent.createElement():e.closeBtnComponent=new qm.CloseButtonComponent(e.amby,e.adContainerComponent.playerDiv))}),this.amby.get("formatConfig.smartBackfill",!1)&&(this.amby.addSubListener("ad.rejecting",function(){!e.amby.get("ad.startRequested",!1)&&e.amby.get("ad.rejecting")&&e.amby.get("ad.status")===Ue.states.STATUS_READY&&[Ue.states.STATUS_PLAYING,Ue.states.STATUS_PAUSED].indexOf(e.amby.get("ad.status"))===-1&&(e.amby.dispatch(xe.setAdEnabled(!1)),e.amby.dispatch(xe.upsertAdState({rejected:!0})),setTimeout(function(){e.amby.dispatch(xe.setAdInit(Ue.states.INIT_STOP))},500))}),this.smartBackfillComponent=new jm.SmartBackfillComponent(this.widget))},r.prototype.getPreLoadAdsBy=function(){return(0,kt.getInObject)(this.schedule,["pre","loadAds"])},r.prototype.hasPreScheduleLoaded=function(){return["pageLoaded","playerLoaded"].indexOf(this.getPreLoadAdsBy())>-1},r.prototype.canPrePlaySchedule=function(){return!this.amby.get("player.wasPlaying",!1)&&this.hasPreScheduleLoaded()},r.prototype.onAdStatusChange=function(){var e=this,t=this.amby.get("ad.status");switch((0,Gi.mgDebug)("Ads ".concat(t,".").concat(this.amby.get("ad.adTag")?" Ad source: ".concat(this.amby.get("ad.adTag")):"")),t){case Ue.states.STATUS_READY:this.amby.get("formatConfig.smartBackfill",!1)&&this.amby.get("ad.rejecting")&&(this.amby.dispatch(xe.setAdEnabled(!1)),this.amby.dispatch(xe.upsertAdState({rejected:!0})),setTimeout(function(){e.amby.dispatch(xe.setAdInit(Ue.states.INIT_STOP))},500)),this.preTimeout&&(clearTimeout(this.preTimeout),this.preTimeout=null),this.amby.get("ad.enabled",!1)&&(this.amby.get("formatConfig.visibleInit",!1)&&this.amby.dispatch(xe.setAdVisible(!0)),(this.amby.get("ad.curAdPosition")==="pre"&&!this.hasPreScheduleLoaded()||this.amby.get("formatConfig.initAdOnPosition",!1))&&this.amby.dispatch(xe.setTriggerToTrue("ad.actionPlay")),this.amby.get("ad.curAdPosition")==="pre"&&this.hasPreScheduleLoaded()&&(this.amby.get("ad.inSight",!1)||this.amby.get("autoStart")==="onLoad")&&this.amby.dispatch(xe.setTriggerToTrue("ad.actionPlay")));break;case Ue.states.STATUS_PLAYING:this.preTimeout&&(clearTimeout(this.preTimeout),this.preTimeout=null),this.prevPlayerStatus===Ue.states.STATUS_PAUSED||!this.amby.get("ad.enabled",!1)&&this.amby.get("ad.curAdPosition")!=="pre"||this.amby.get("autoStart")==="visibleOnly"&&!this.amby.get("player.inSight")?this.amby.dispatch(xe.setTriggerToTrue("ad.actionPause")):(this.amby.dispatch(xe.upsertPlayerState({isAdPlaying:!0,actionPause:!0})),this.applyPlayerSize(),this.amby.get("ad.enabled",!1)&&this.amby.dispatch(xe.setAdVisible(!0)),!this.amby.get("ad.initMuted",!0)&&!kt.Helpers.iOSversion()&&this.amby.dispatch(xe.setTriggerToTrue("ad.unmute")));break;case Ue.states.STATUS_ERROR:this.amby.get("ad.curAdPosition")==="pre"&&this.hasPreScheduleLoaded()&&(this.amby.get("ad.currentImpressions",0)>0&&this.amby.dispatch(xe.setTriggerToTrue("player.actionPlay")),this.amby.get("ad.beforePlacementStopped")||this.amby.dispatch(xe.upsertAdState({curAdPosition:null,adInProgress:!1,beforePlacementStopped:!0}))),this.prevPlayerStatus===Ue.states.STATUS_PLAYING&&this.amby.dispatch(xe.setTriggerToTrue("player.actionPlay")),this.onAdStopped();break;case Ue.states.STATUS_STOPPED:(this.prevPlayerStatus===Ue.states.STATUS_PLAYING||this.amby.get("player.position",0)>0||this.amby.get("ad.enabled",!1)&&this.amby.get("ad.curAdPosition")==="pre")&&(this.amby.get("player.inSight",!1)||["onLoad","visibleNotPause"].indexOf(this.amby.get("autoStart"))>-1?this.amby.dispatch(xe.setTriggerToTrue("player.actionPlay")):this.amby.dispatch(xe.upsertPlayerState({isPlayingOnVisible:!0}))),this.onAdStopped();break}},r.prototype.initAdPlayer=function(){var e=this;this.formatConfig.startOnScroll&&!this.startedByScroll?(window.addEventListener("scroll",function(){e.startOnScroll(function(){e.initAdPlayer()})}),this.startOnScroll(function(){e.initAdPlayer()})):(this.amby.dispatch(xe.upsertAdState({currentImpressions:0})),this.adPlayerInited?this.amby.dispatch(xe.setAdInit(Ue.states.INIT_RESET)):(this.amby.dispatch(xe.setAdInit(Ue.states.INIT_NEEDED)),this.adPlayerInited=!0))},r.prototype.applyPlayerSize=function(){var e=this;kt.Helpers.vitalCall(function(){var t=e.amby.get("videoElemPosition");e.adContainerComponent&&t&&(e.adContainerComponent.applyPlayerSize(t),e.amby.dispatch(xe.upsertAdState({resize:!0,size:{width:t.pWidth,height:t.pHeight}})))},this.amby.get("isVital",!0))},r.prototype.onAdStopped=function(){this.preTimeout&&(clearTimeout(this.preTimeout),this.preTimeout=null),this.amby.dispatch(xe.upsertPlayerState({isAdPlaying:!1})),this.amby.dispatch(xe.setAdVisible(!1)),this.amby.dispatch(xe.upsertAdState({adInProgress:!1,curAdPosition:null}))},r.prototype.presearchInit=function(){var e=this;!this.amby.get("player.wasPlaying",!1)&&!this.amby.get("ad.beforePlacementInitiated")&&kt.Helpers.vitalCall(function(){e.amby.dispatch(xe.upsertAdState({curAdPosition:"pre",adInProgress:!0,beforePlacementInitiated:!0})),e.amby.dispatch(xe.setAdStatus(Ue.states.STATUS_INIT)),e.initAdPlayer()},this.amby.get("isVital",!0))},r.prototype.startOnScroll=function(e){!this.startedByScroll&&this.startScrollPixels!==null&&(this.updateStartOnScrollPixels(),kt.Helpers.getViewTop()+kt.Helpers.getWindowHeight()/2>this.startScrollPixels&&((0,Gi.mgDebug)("Current Scroll: ".concat(kt.Helpers.getViewTop(),"px, Starting code on: ").concat(this.startScrollPixels,"px")),this.startedByScroll=!0,e()))},r.prototype.updateStartOnScrollPixels=function(){var e=this.mainBox.getBoundingClientRect().top+kt.Helpers.getViewTop(),t=this.startScrollPixels;this.startScrollPixels=Math.floor(e*this.startOnScrollPercent),this.startScrollPixels!==t&&(0,Gi.mgDebug)("Player Top: ".concat(e,"px, Start searching for ad on: ").concat(this.startOnScrollPercent,"% = ").concat(this.startScrollPixels,"px"))},r}();Is.AdPlayerComponent=zm});var Ho=pe(Es=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Es,"__esModule",{value:!0});Es.ContentPlayerComponent=void 0;var Ft=Ve(),Ee=Pe(),oi=Ce(),Fm=wi(),Ds=He(),Ym=nr(),Oo="playing",mr="paused",$m="buffering",Mo="idle",Zm="jwplayer",Ro="mgplayer",Xm="none",Jm=function(){function r(e,t,i){var a=this;if(this.amby=e.amby,this.playerType=this.amby.get("formatConfig.playerType",Ro),this.playerType!==Xm){this.playerContainerDiv=t,this.config=this.amby.get("formatConfig",{}),this.mgsetup=i,this.rootElement=e.rootElement,this.jwplatformUrl=this.config.jwplatformUrl||this.amby.get("libConfig.jwPlayerIdVrw"),this.playerId=this.amby.get("player.playerId"),this.aspectRatio=this.amby.get("player.aspectratio");var s=this.amby.get("playlist",[]);this.playlist=[],s?this.fillPlaylist(s):this.amby.addSubListener("playlist",function(){var n=a.amby.get("playlist",[]);n&&n.length>0&&(a.fillPlaylist(n),a.loadRequested&&a.player.load(a.playlist))}),this.currentPosition=0,this.amby.addSubListener("player.init",function(){a.onPlayerInit()}),this.amby.addTriggerListener("player.mute",function(){a.player&&a.player.setMute(!0)}),this.amby.addTriggerListener("player.unmute",function(){a.player&&a.player.setMute(!1)}),this.amby.addTriggerListener("player.resize",function(){a.onPlayerResize()}),this.amby.addTriggerListener("player.actionPlay",function(){a.player&&[Oo,$m].indexOf(a.player.getState())===-1&&a.player.play(!0)}),this.amby.addTriggerListener("player.actionPause",function(){a.player&&[mr,Mo].indexOf(a.player.getState())===-1&&a.player.pause(!0)}),this.amby.addTriggerListener("player.actionStop",function(){a.player&&[mr,Mo].indexOf(a.player.getState())===-1&&a.player.stop()}),this.amby.addSubListener("player.isControlsVisible",function(){a.player&&(a.amby.get("player.isControlsVisible",!1)?a.player.setControls(!0):a.player.setControls(!1))}),this.amby.addSubListener("player.itemIndex",function(){var n=a.amby.get("player.itemIndex");n!==null&&a.player&&a.itemIndex!==n&&a.player.playlistItem(n)}),this.amby.addSubListener("popup.visible",function(){a.onPlayerChangedLocation()}),this.amby.get("formatConfig.moveToBody",!1)&&this.amby.addSubListener("player.isSticky",function(){a.onPlayerChangedLocation()}),this.observer=oi.Helpers.onVisible(this.playerContainerDiv,function(n){n||a.amby.get("player.isSticky",!1)?((0,Ds.mgDebug)("Player is in sight."),a.amby.dispatch(Ee.setPlayerInSight(!0))):((0,Ds.mgDebug)("Player is out of sight."),a.amby.dispatch(Ee.setPlayerInSight(!1)))},this.amby.get("formatConfig.visiblePart",.9),this.amby.get("formatConfig.hiddenPart"))}}return r.prototype.onPlayerInit=function(){var e=this.amby.get("player.init");switch(e){case Ft.states.INIT_NEEDED:this.amby.dispatch(Ee.setPlayerInit(Ft.states.INIT_IN_PROGRESS)),this.playerType===Ro?this.initPlayer():this.loadLibrary();break}},r.prototype.onPlayerResize=function(e){var t=this;e===void 0&&(e=!1);var i=this.amby.get("player.size");this.player&&(i?this.player.resize(i.width,i.height,this.aspectRatio):this.player.resize()),oi.Helpers.isIE()&&!e&&setTimeout(function(){t.onPlayerResize(!0)},1200)},r.prototype.loadLibrary=function(){var e=this,t=new Fm.Loader({mgJwplatform:{url:this.jwplatformUrl,exists:"typeof window.jwplayer !== 'undefined'"}},function(){e.initPlayer()},this.amby.get("mgVideoIndex"));t.checkLoaded()},r.prototype.initPlayer=function(){var e=this.amby.get("formatConfig.staticRoot")||"video-native.".concat(this.amby.get("subnetDomain","")),t=[{description:"",image:"//".concat(e,"/XHcEUCFl-720.jpg"),file:"//".concat(e,"/XHcEUCFl-26327326.mp4"),title:"Video"}],i=this.amby.get("player.muted",!0);if(this.playerType===Zm)this.player=window.jwplayer(this.playerId),this.player.setup(oi.Helpers.mergeObjects({autostart:!1,repeat:!0,mute:i,advertising:{},aspectratio:this.aspectRatio,width:"100%",playlist:t},this.config.jwsetup));else{var a=this.amby.get("libConfig.mgPlayerStylesUrlTemplate"),s=a.replace("{{DOMAIN}}",e);this.config.mgsetup&&this.config.mgsetup.stylePath&&(this.config.mgsetup.stylePath=this.config.mgsetup.stylePath.replace("{{DOMAIN}}",e)),this.player=new Ym.MgPlayer(this.playerId,this.rootElement),this.player.setup(oi.Helpers.mergeObjects({autostart:!1,repeat:this.amby.get("formatConfig.repeat",!0),mute:i,playlist:t,stylePath:s,useWebm:!0},this.mgsetup))}this.addPlayerListeners()},r.prototype.addPlayerListeners=function(){var e=this;this.player.on("ready",function(){oi.Helpers.vitalCall(function(){return oi.Helpers.repaintSafari()},e.amby.get("isVital",!0)),e.playlist.length>0?e.player.load(e.playlist):e.loadRequested=!0}),this.player.on("playlist",function(){e.amby.dispatch(Ee.setPlayerInit(Ft.states.INIT_DONE)),e.amby.dispatch(Ee.setPlayerStatus(Ft.states.STATUS_READY))}),this.player.on("displayClick",function(){e.amby.dispatch(Ee.setTriggerToTrue("player.displayClicked"))}),this.player.on("play",function(t){e.amby.dispatch(Ee.setPlayerStatus(Ft.states.STATUS_PLAYING)),t.playReason==="interaction"?e.nextButtonClicked?(e.changedQualityPaused||e.player.pause(!0),e.nextButtonClicked=!1,e.changedQualityPaused=!1):(e.amby.dispatch(Ee.upsertPlayerState({isPlayingOnVisible:!0})),e.amby.dispatch(Ee.setTriggerToTrue("player.userPlay"))):e.amby.get("player.isAdPlaying",!1)&&e.player.pause(!0),(e.amby.get("ad.status")===Ft.states.STATUS_PLAYING||e.amby.get("player.isAdPlaying",!1))&&e.player.pause(!0)}),this.player.on("pause",function(t){(0,Ds.mgDebug)("Player Pause Event ".concat(t.pauseReason)),t.pauseReason==="interaction"&&(e.amby.dispatch(Ee.upsertPlayerState({isPlayingOnVisible:!1})),e.amby.dispatch(Ee.setTriggerToTrue("player.userPause"))),e.amby.dispatch(Ee.setPlayerStatus(Ft.states.STATUS_PAUSED))}),this.player.on("error",function(t){e.amby.dispatch(Ee.setPlayerStatus(Ft.states.STATUS_ERROR)),(0,Ds.mgDebug)(t)}),this.player.on("idle",function(){e.amby.dispatch(Ee.setPlayerStatus(Ft.states.STATUS_STOPPED))}),this.player.on("mute",function(t){e.amby.get("player.isControlsVisible",!1)&&!e.amby.get("player.isAdPlaying",!1)&&(t.mute?(e.amby.dispatch(Ee.upsertAdState({initMuted:!0})),e.amby.dispatch(Ee.setTriggerToTrue("player.userMute"))):(e.amby.dispatch(Ee.upsertAdState({initMuted:!1})),e.amby.dispatch(Ee.setTriggerToTrue("player.userUnmute")))),e.amby.dispatch(Ee.setPlayerMuted(t.mute))}),this.player.on("playlistItem",function(t){e.itemIndex=t.index,e.amby.dispatch(Ee.upsertPlayerState({itemIndex:t.index})),e.firstTimeNewItem?e.amby.dispatch(Ee.setTriggerToTrue("player.newItem")):e.firstTimeNewItem=!0}),this.player.on("time",function(t){t.position-e.currentPosition>1&&(e.currentPosition=Math.floor(t.position),e.amby.dispatch(Ee.upsertPlayerState({position:e.currentPosition})))}),this.player.on("firstFrame",function(){e.currentPosition=0,e.amby.dispatch(Ee.upsertPlayerState({duration:e.player.getDuration(),complete:!1})),e.amby.dispatch(Ee.setTriggerToTrue("player.firstFrame"))}),this.player.on("beforeComplete",function(){e.amby.dispatch(Ee.upsertPlayerState({complete:!0}))}),this.player.on("fullscreen",function(t){e.amby.dispatch(Ee.upsertPlayerState({fullscreen:t.fullscreen})),e.player.getState()===Oo&&setTimeout(function(){e.player.play(!0)},100),t.fullscreen||setTimeout(function(){e.fullscreenTimeout()},100)}),this.player.on("seek",function(t){e.amby.dispatch(Ee.setTriggerToTrue("player.seek")),e.amby.dispatch(Ee.upsertPlayerState({position:Math.floor(t.offset)})),e.currentPosition=Math.floor(t.offset)}),this.player.on("controls",function(){var t=e.player.getContainer().querySelector(".jw-controlbar-right-group .jw-icon-next");t&&t.addEventListener("click",function(i){e.amby.dispatch(Ee.setTriggerToTrue("player.nextClicked")),e.nextButtonClicked=!0,i.cancelBubble=!0})}),this.player.on("next",function(){e.amby.dispatch(Ee.setTriggerToTrue("player.next"))}),this.player.on("previous",function(){e.amby.dispatch(Ee.setTriggerToTrue("player.previous"))}),this.player.on("next_2",function(){e.amby.dispatch(Ee.setTriggerToTrue("player.next_2"))}),this.player.on("expand",function(){e.amby.dispatch(Ee.setTriggerToTrue("player.expandBtnClicked")),e.amby.dispatch(Ee.setTriggerToTrue("player.expand"))}),this.player.on("quality",function(t){e.player.getState()===mr&&(e.changedQualityPaused=!0),e.amby.dispatch(Ee.upsertPlayerState({quality:t.quality}))})},r.prototype.fullscreenTimeout=function(){var e=this;if(!window.screenTop&&!window.screenY||typeof document.webkitCurrentFullScreenElement<"u"&&document.webkitCurrentFullScreenElement!==null)setTimeout(function(){e.fullscreenTimeout()},100);else{var t=oi.Helpers.getParentBlockByClass(this.player.getContainer(),"_mgw_".concat(this.amby.get("widgetId",0)))||this.player.getContainer();window.scrollTo(0,oi.Helpers.getRect(t,!0).top-1)}},r.prototype.onPlayerChangedLocation=function(){var e=this;!this.amby.get("player.isAdPlaying",!1)&&this.player&&this.amby.get("player.status")===Ft.states.STATUS_PLAYING&&this.amby.get("formatConfig.inlinePlacement",1)&&setTimeout(function(){e.player.play(!0)},0)},r.prototype.fillPlaylist=function(e){var t=this;e.forEach(function(i){t.playlist.push({file:t.amby.get("formatConfig.quality")==="original"?i.link:i.link.replace(/^([^?]+?)(_360)?\.(mp4|webm)($|\?)/i,"$1_360.$3$4"),image:i.img,title:i.title,mediaid:i.id})})},r}();Es.ContentPlayerComponent=Jm});var Go=pe(Ps=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.PlaylistComponent=void 0;var Km=Ve(),No=Pe(),Yt=Ce(),Qm=He(),ef=function(){function r(e,t){(0,Qm.mgDebug)("PlaylistComponent initiated."),this.amby=e,this.popup=t,this.playlist=this.amby.get("playlist",[]),this.checkPlaylist()}return r.prototype.checkPlaylist=function(){var e=this;this.playlist.length===0?setTimeout(function(){e.checkPlaylist()},50):this.onPlaylistFilled()},r.prototype.onPlaylistFilled=function(){this.popup&&this.handlePopupConstructor(),this.amby.get("formatConfig.playerType")!=="none"&&this.addListeners()},r.prototype.handlePopupConstructor=function(){var e=this;this.widgetId=this.amby.get("widgetId",0),this.popupFooter=this.popup.querySelector("div[class*=video-info__footer]"),this.blockMain=Yt.Helpers.getParentBlockByClass(this.popup,"_mgw_".concat(this.widgetId)),this.blockMain&&(this.videoTeasers=this.blockMain.querySelectorAll(".mgline.vrline"),this.videoTeasers&&(this.videoTeasers=Array.apply(null,this.videoTeasers))),this.linkElems=[],this.playlist.forEach(function(t,i){var a=null,s="javascript:void({'id':'".concat(t.id,"',")+"'link':'".concat(t.link,"','hash':'").concat(t.hash,"'");t.videoExt&&(a=JSON.parse(atob(t.videoExt)),s+=",'videoExt':'".concat(t.videoExt,"'")),s+="})";var n=document.createElement("a");n.className="mgline-pop",n.href=s,n.innerHTML='<div class="image-with-text-pop"><div class="mcimg-pop">'+'<div class="image-container-pop"><img src="'.concat(t.img)+'" class="mcimg-pop" alt="'.concat(t.title,'">')+'</div></div><div class="mgline-pop__playing">Now playing</div><div class="mgline-pop__format-hd">HD</div><div class="mgline-pop__duration"></div><div class="text-elements"><div class="text_on_hover">'+'<div class="mctitle-pop">'.concat(t.title,"</div></div></div></div>"),n.onclick=function(T){e.amby.get("player.isAdPlaying",!1)||e.amby.dispatch(No.setTriggerToTrue("playlist.".concat(i,".clicked"))),T.cancelBubble=!0},e.linkElems.push(n),e.popupFooter.appendChild(n);var l=null,c=null;if(a.duration&&(l=a.duration%60,c=Math.floor(a.duration/60)),e.videoTeasers&&e.videoTeasers[i]){var h=e.videoTeasers[i].querySelector(".mg-total-views");h&&a.impressions&&(h.innerText=h.innerText.replace(/^\d*/,a.impressions));var g=e.videoTeasers[i].querySelector(".mg-video-duration");g&&a.duration&&(g.innerText="".concat(c,":").concat(l>9?l:"0".concat(l)))}var y=n.querySelector(".mgline-pop__duration");y&&a.duration&&(y.innerText="".concat(c,":").concat(l>9?l:"0".concat(l))),t.videoExt=a}),this.getScrollDeltas(),window.addEventListener("resize",function(){e.getScrollDeltas()})},r.prototype.addListeners=function(){var e=this;this.amby.addSubListener("player.itemIndex",function(){var t=e.amby.get("player.itemIndex");if(e.itemIndex!==t){e.itemIndex=t;var i=parseInt(e.amby.get("formatConfig.inlinePlacement",1),10);if(i){var a=(0,Yt.getInObject)(e.playlist,[t,"title"],"");e.amby.dispatch(No.upsertTeaser({index:i-1,teaser:{title:a}}))}if(e.popup){if(e.popupFooter){var s=e.popupFooter.querySelectorAll(".current-playing");s&&(s=Array.apply(null,s),s.forEach(function(c){Yt.Helpers.removeClass(c,"current-playing")})),Yt.Helpers.addClass(e.linkElems[t],"current-playing"),e.getScrollDeltas(),e.deltaScrollWidth&&(e.popupFooter.scrollLeft=e.deltaScrollWidth*(t-1)),e.deltaScrollHeight&&(e.popupFooter.scrollTop=e.deltaScrollHeight*(t-1))}var n=e.popup.querySelector("div[class*=video-info__title-cell]");n&&(n.innerHTML=e.linkElems[t].querySelector("img").getAttribute("alt"));var l=e.popup.querySelector("div[class*=video-info__sub-title]");l&&((0,Yt.getInObject)(e.playlist,[t,"videoExt","description"])?l.innerHTML=Yt.Helpers.fromAscii(e.playlist[t].videoExt.description):l.innerHTML="")}}}),this.popup&&this.amby.addSubListener("player.status",function(){if(e.linkElems&&typeof e.itemIndex<"u"){var t=e.linkElems[e.itemIndex].querySelector(".mctitle-pop");!e.amby.get("player.adIsPlaying",!1)&&e.amby.get("player.status")===Km.states.STATUS_PAUSED?Yt.Helpers.addClass(t,"paused"):Yt.Helpers.removeClass(t,"paused")}})},r.prototype.getScrollDeltas=function(){this.popupFooter&&this.linkElems.length>0&&(this.popupFooter.scrollWidth>this.popupFooter.scrollHeight?(this.deltaScrollWidth=Yt.Helpers.getElemWidth(this.linkElems[0]),this.deltaScrollHeight=!1):(this.deltaScrollHeight=Yt.Helpers.getElemHeight(this.linkElems[0]),this.deltaScrollWidth=!1))},r}();Ps.PlaylistComponent=ef});var Vo=pe(As=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(As,"__esModule",{value:!0});As.AnimatedArticleComponent=void 0;var tf=Ce(),af=function(){function r(e,t){this.amby=e.amby,this.widget=e,this.rootElement=e.rootElement,this.playerContainerDiv=t,this.placementSelector=this.amby.get("formatConfig.animatedArticleSelector",!1),this.aspectRatio=(this.amby.get("player.aspectratio")||"16:9").match(/(\d+):(\d+)/).reduce(function(i,a,s){return i[["ratio","width","height"][s]]=a,i},{}),this.replaceWithVideo()}return r.prototype.replaceWithVideo=function(){var e=document.body.querySelector(this.placementSelector);e&&(e.parentNode.insertBefore(this.rootElement,e),e.parentNode.removeChild(e));var t=tf.Helpers.getElemWidth(this.rootElement),i=t/(this.aspectRatio.width/this.aspectRatio.height);this.playerContainerDiv.style.height="".concat(i,"px")},r}();As.AnimatedArticleComponent=af});var Wo=pe(Vi=>{"use strict";S();_();k();C();I();D();E();var sf=Vi&&Vi.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.PerformanceBase=void 0;var $t=Ve(),de=Pe(),qe=Ce(),rf=Bo(),nf=Ho(),of=Ma(),lf=Go(),pf=fa(),df=Ha(),li=He(),cf=da(),qo=aa(),hf=Za(),uf=Ja(),mf=ts(),ff=dr(),gf=Vo(),fr="visibleNotPause",va="visibleOnly",yf="onLoad",vf=function(r){sf(e,r);function e(t,i){var a=this;return(0,li.mgDebug)("PerformanceBase constructor"),a=r.call(this,t)||this,a.addIndexes(a.widget.block.children),a.videoSensorComponent=i,a.getVideoTeaserIndex(function(){a.onTeasersLoaded()}),a}return e.prototype.onTeasersLoaded=function(){var t=this;this.addPlayerBlock(),(0,li.mgDebug)(this.playerContainerDiv),this.config.adSchedule&&(setTimeout(function(){t.adPlayerComponent=new rf.AdPlayerComponent(t.widget,t.playerContainerDiv)},0),setTimeout(function(){t.adPlayerComponent.schedule.pre&&t.amby.dispatch(de.setAdEnabled(!0))},0)),qe.Helpers.vitalCall(function(){t.styleComponent=new uf.StyleComponent(t.widget),t.styleComponent.styleChecking(function(){t.onStyleLoad()})},this.amby.get("isVital",!0))},e.prototype.onStyleLoad=function(){var t=this;this.amby.get("visibilityKpi")&&this.amby.dispatch(de.upsertState({widget:{renderTime:Date.now()}})),this.sticky=!!(0,qe.getInObject)(this.amby.get(),["sticky"],!0)&&!!this.amby.get("formatConfig.sticky",!1),this.stickyAd=!!(0,qe.getInObject)(this.amby.get(),["stickyAd"],!0)&&!!this.amby.get("formatConfig.stickyAd",!1),this.stickyMode=this.formatConfig.stickyMode||"visibleOnly",this.wasVisible=!1,this.showControlBar=!!this.formatConfig.controlbar||!0,this.moveToBody=this.formatConfig.moveToBody||!1,this.playerContentStart=this.amby.get("adSchedule").reduce(function(a,s){return s.offset==="pre"||a},!1),this.playerContentStart&&(qe.Helpers.addClass(this.widget.block,"ctplay"),this.amby.dispatch(de.upsertPlayerState({isPlayingOnVisible:!1})));var i=this.amby.get("formatConfig.mgsetup.theme");(!i||i==="mgred")&&qe.Helpers.addClass(this.widget.block,"mgred"),this.playlist=this.widget.mgRec.vr_playlist,this.inlinePlacement=parseInt(this.amby.get("formatConfig.inlinePlacement",1),10),this.autoStart=this.config.autoStart||fr,this.widgetComponent=new of.WidgetComponent(this.widget,function(){t.onImagesLoaded()})},e.prototype.onImagesLoaded=function(){var t=this;if(this.videoSensorComponent.addTeasersListeners(),this.playerTeaserIndex||(this.playerTeaserIndex=this.amby.get("widget.playerTeaserIndex")),this.playerComponent=new nf.ContentPlayerComponent(this.widget,this.playerContainerDiv,this.formatConfig.mgsetup),this.playerContentStart&&qe.Helpers.addClass(this.playerContainerDiv,"ctplay"),this.muteBtnComponent=new pf.MuteButtonComponent(this.amby,this.playerContainerDiv),(0,qe.getInObject)(this.widgetComponent,["videoTeasers",0,"teaser"])){var i=this.widgetComponent.videoTeasers[0].teaser;this.teaserImgContainer=i.querySelector(".mcimg .image-container"),this.teaserDiv=i}if(this.playlistComponent=new lf.PlaylistComponent(this.amby),this.sticky||this.stickyAd){switch(this.amby.get("formatConfig.sliderSize","m").toLowerCase()){case"s":this.stickyClass="small ";break;case"m":this.stickyClass="medium ";break;case"l":this.stickyClass="large ";break}this.stickyClass+=this.amby.get("formatConfig.sliderAlign","right"),this.closeBtnComponent=new cf.CloseButtonComponent(this.amby,this.playerContainerDiv),this.playerContainerDiv.addEventListener("animationend",function(){t.applyPlayerSize()}),this.playerContainerDiv.addEventListener("transitionend",function(){t.applyPlayerSize()}),this.amby.get("formatConfig.logo",!1)&&(this.logoComponent=new mf.LogoComponent(this.amby,this.playerContainerDiv))}this.amby.get("formatConfig.inArticle",!1)&&(this.inArticleComponent=new ff.InArticleComponent(this.widget,this.teasers[this.playerTeaserIndex],!1),this.amby.addTriggerListener("player.positionChanged",function(){t.applyPlayerSize()})),setTimeout(function(){t.addListeners(),t.amby.get("formatConfig.playerType")==="none"?(t.playerContainerDiv.classList.add("overflow-allowed"),t.amby.get("adSchedule").find(function(a){return a.offset==="pre"})||t.adPlayerComponent.initAdPlayer()):t.amby.dispatch(de.setPlayerInit($t.states.INIT_NEEDED))})},e.prototype.addListeners=function(){var t=this;this.amby.addSubListener("player.status",function(){t.onPlayerStatus(),t.onPlayerStatusBase()}),this.amby.addSubListener("player.visible",function(){t.onPlayerVisible()}),this.amby.addSubListener("player.muted",function(){var a=t.amby.get("player.muted",!0);t.amby.dispatch(de.upsertState({muteBtn:{muted:a}}))}),this.amby.addTriggerListener("muteBtn.clicked",function(){t.onMuteBtnClicked()}),this.amby.addTriggerListener("closeBtn.clicked",function(){(0,li.mgDebug)("Close Button clicked."),t.amby.get("player.isSticky",!1)?(t.sticky=!1,t.stickyAd=!1,t.amby.dispatch(de.upsertGlobalState({sticky:!1,stickyAd:!1})),t.amby.dispatch(de.setPlayerSticky(!1)),t.playerContainerDiv.removeAttribute("style"),t.applyPlayerSize(),qe.Helpers.vitalCall(function(){t.onTeaserInSight()},t.amby.get("isVital",!0))):t.amby.get("player.isAdPlaying",!1)&&(t.amby.dispatch(de.setTriggerToTrue("ad.closed")),t.amby.dispatch(de.setTriggerToTrue("ad.actionClose")))});var i=this.amby.get("teasers",[]);i&&Array.isArray(i)&&i.forEach(function(a,s){t.amby.addTriggerListener("teasers.".concat(s,".clicked"),function(){(0,li.mgDebug)("Teaser Clicked"),t.onClick(!0)})}),this.amby.addTriggerListener("player.displayClicked",function(){(0,li.mgDebug)("Player Clicked"),t.playerContentStart&&!t.amby.get("player.wasPlaying",!1)&&(t.amby.dispatch(de.upsertPlayerState({wasPlaying:!0})),t.showControlBar&&t.amby.dispatch(de.upsertPlayerState({isControlsVisible:!0})),t.amby.dispatch(de.setTriggerToTrue("player.actionPlay"))),t.amby.dispatch(de.setTriggerToTrue("player.playerInTeaserClicked")),t.amby.get("player.muted",!0)&&t.amby.get("formatConfig.unmuteOnClick",!0)&&(t.amby.dispatch(de.setTriggerToTrue("player.unmute")),t.amby.dispatch(de.upsertAdState({initMuted:!1}))),t.onClick()}),this.amby.addTriggerListener("player.userPlay",function(){t.amby.get("player.muted",!0)&&t.amby.get("formatConfig.unmuteOnClick",!0)&&(t.amby.dispatch(de.setTriggerToTrue("player.unmute")),t.amby.dispatch(de.upsertAdState({initMuted:!1})))}),this.amby.addSubListener("ad.status",function(){var a=t.amby.get("ad.status"),s=function(n){t.onAdStatus(n),t.onAdStatusBase()};a===$t.states.STATUS_PLAYING?s(a):setTimeout(function(){return s(a)},0)}),this.amby.addSubListener("player.isAdPlaying",function(){t.amby.get("player.isAdPlaying",!1)&&t.amby.get("ad.curAdPosition")==="pre"&&qe.Helpers.addClass(t.playerContainerDiv,"ad-loading")}),([va,fr].indexOf(this.autoStart)!==-1||this.sticky||this.stickyAd)&&(this.amby.addSubListener("teasers.".concat(this.inlinePlacement-1,".inSight"),function(){t.onTeaserInSight()}),(this.sticky||this.stickyAd)&&(this.amby.addSubListener("player.isSticky",function(){t.onPlayerSticky()}),(0,qo.addSubListener)("sticky",function(){t.sticky=t.amby.get().sticky}),(0,qo.addSubListener)("stickyAd",function(){t.stickyAd=t.amby.get().stickyAd}))),this.amby.addSubListener("player.fullscreen",function(){t.amby.get("player.fullscreen",!1)?t.amby.dispatch(de.setAdEnabled(!1)):t.amby.get("player.expanded",!1)&&setTimeout(function(){t.amby.dispatch(de.setAdEnabled(!0))},qe.Helpers.isSafari()?300:0)}),window.addEventListener("resize",function(){t.applyPlayerSize()}),this.playerContainerDiv.addEventListener("mouseenter",function(){t.amby.dispatch(de.setPlayerMouseOver(!0))}),this.playerContainerDiv.addEventListener("mouseleave",function(){t.amby.dispatch(de.setPlayerMouseOver(!1))}),this.amby.get("widget.allImagesLoaded",!1)?this.applyPlayerSize():(this.amby.addTriggerListener("widget.imageLoaded",function(){t.applyPlayerSize()}),this.amby.addSubListener("widget.allImagesLoaded",function(){t.amby.get("widget.allImagesLoaded",!1)&&t.applyPlayerSize()})),this.amby.addSubListener(["widget","blurred"],function(){t.onWidgetBlurred()}),this.amby.addTriggerListener("ad.clicked",function(){t.onAdClickedTriggerBase()})},e.prototype.addPlayerBlock=function(){if((!this.teasers||this.teasers.length===0)&&(this.teasers=this.widget.block.querySelectorAll(".mgline")),this.playerTeaserIndex||(this.playerTeaserIndex=this.amby.get("widget.playerTeaserIndex")),this.playerTeaserIndex!==null&&this.teasers&&this.teasers[this.playerTeaserIndex]){this.teaserImgContainer=this.teasers[this.playerTeaserIndex].querySelector(".mcimg .image-container"),this.teaserImg=this.teasers[this.playerTeaserIndex].querySelector(".mcimg .image-container img"),this.teaserImgContainer&&(this.playerContainerDiv=document.createElement("div"),this.playerContainerDiv.className="video-info__player",this.playerContainerDiv.id="vrJwPlayerBlock_".concat(this.mgVideoIndex),this.playerDiv=document.createElement("div"),this.rootElement.querySelector("#mgJwPlayer_".concat(this.mgVideoIndex))?this.playerDiv.id="mgJwPlayer_".concat(this.mgVideoIndex,"_").concat(Math.round(Math.random()*1e3)):this.playerDiv.id="mgJwPlayer_".concat(this.mgVideoIndex),this.amby.dispatch(de.upsertState({player:{playerId:this.playerDiv.id}})),this.playerContainerDiv.appendChild(this.playerDiv),this.teaserImgContainer.appendChild(this.playerContainerDiv),this.amby.get("animatedArticle",!1)&&(this.animatedArticle=new gf.AnimatedArticleComponent(this.widget,this.playerContainerDiv),this.applyPlayerSize()),this.playerContainerDiv.addEventListener("click",function(i){i.target.className.indexOf("jw-overlays")<0&&(i.cancelBubble=!0)}),this.moveToBodyComponent=new hf.MoveToBodyComponent(this.widgetId,this.playerContainerDiv));var t=this.widget.block.querySelector(".mgbox");t&&t.className.indexOf("MG_Gallery")>-1&&(t.parentNode.insertBefore(this.teasers[this.playerTeaserIndex],t),qe.Helpers.addClass(this.teasers[this.playerTeaserIndex],"vrnofloat"))}else(0,li.mgDebug)("Container not found.")},e.prototype.addIndexes=function(t){if(t.length>0)for(var i=0;i<t.length;i++)t[i].getAttribute("id")&&t[i].setAttribute("id",t[i].getAttribute("id")+this.mgVideoIndex),this.addIndexes(t[i].children)},e.prototype.onPlayerStatus=function(){var t=this,i=this.amby.get("player.status");switch((0,li.mgDebug)("Player status: ".concat(i)),i){case $t.states.STATUS_READY:qe.Helpers.vitalCall(function(){t.applyPlayerSize()},this.amby.get("isVital",!0)),setTimeout(function(){return t.amby.dispatch(de.setAdEnabled(!0))},0),this.inlinePlacement!==null&&setTimeout(function(){return t.initNotInlinePlacementPlayer()},0);break;case $t.states.STATUS_PLAYING:qe.Helpers.removeClass(this.playerContainerDiv,"ad-loading"),this.amby.dispatch(de.setPlayerVisible(!0)),this.showControlBar&&this.amby.dispatch(de.upsertPlayerState({isControlsVisible:!0})),this.amby.get("videoElemPosition.pWidth")===0&&this.applyPlayerSize();break;case $t.states.STATUS_PAUSED:this.amby.get("videoElemPosition.pWidth")===0&&this.applyPlayerSize();break}},e.prototype.initNotInlinePlacementPlayer=function(){var t=this;this.showControlBar&&!this.playerContentStart&&this.amby.dispatch(de.upsertPlayerState({isControlsVisible:!0})),this.stickyAd&&this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.isOtherWidgetSticky()&&(this.wasVisible=!0),this.sticky?(this.startScroll&&!(0,qe.getInObject)(this.amby.get(),["initedStartScroll"],!1)?(this.amby.dispatch(de.upsertGlobalState({initedStartScroll:!0})),window.addEventListener("scroll",function(){!t.wasVisible&&t.sticky&&t.startOnScroll(function(){t.startInSticky()})}),this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)||this.startOnScroll(function(){t.startInSticky()})):this.stickyMode==="onLoad"&&!this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.isOtherWidgetSticky()&&this.startInSticky(),this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&(this.isOtherWidgetSticky()||(this.wasVisible=!0),this.playerContentStart||this.amby.dispatch(de.setTriggerToTrue("player.actionPlay")))):(this.autoStart===yf||this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1))&&!this.playerContentStart&&this.amby.dispatch(de.setTriggerToTrue("player.actionPlay")),this.playerContentStart&&this.amby.dispatch(de.setPlayerVisible(!0))},e.prototype.onTeaserInSight=function(){var t=this;this.sticky&&!this.isOtherWidgetSticky()?(this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)?(this.wasVisible=!0,this.amby.dispatch(de.setPlayerSticky(!1)),[va,fr].indexOf(this.autoStart)!==-1&&this.amby.get("player.status")!==$t.states.STATUS_PLAYING&&this.amby.get("player.isPlayingOnVisible",!0)&&!this.amby.get("player.isAdPlaying",!1)&&this.amby.dispatch(de.setTriggerToTrue("player.actionPlay"))):this.wasVisible&&this.amby.dispatch(de.setPlayerSticky(!0)),setTimeout(function(){return t.applyPlayerSize()},0)):this.stickyAd&&this.amby.get("player.isAdPlaying",!1)?this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)?(this.isOtherWidgetSticky()||(this.wasVisible=!0),this.amby.dispatch(de.setPlayerSticky(!1))):this.wasVisible&&!this.isOtherWidgetSticky()&&this.amby.dispatch(de.setPlayerSticky(!0)):this.inlinePlacement&&!this.amby.get("player.expanded",!1)&&(this.amby.get("player.isAdPlaying",!1)?this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.focusPaused?this.amby.get("player.isPlayingOnVisible",!0)&&this.amby.dispatch(de.setTriggerToTrue("ad.actionPlay")):this.autoStart===va&&this.amby.dispatch(de.setTriggerToTrue("ad.actionPause")):this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)&&!this.focusPaused?(this.stickyAd&&!this.wasVisible&&!this.isOtherWidgetSticky()&&(this.wasVisible=!0),this.amby.get("player.isPlayingOnVisible",!0)&&this.amby.dispatch(de.setTriggerToTrue("player.actionPlay"))):this.autoStart===va&&this.amby.dispatch(de.setTriggerToTrue("player.actionPause")))},e.prototype.onPlayerSticky=function(){var t=this;this.amby.get("player.isSticky",!1)?(qe.Helpers.addClass(this.playerContainerDiv,this.stickyClass),this.moveToBody&&this.moveToBodyComponent.attachBody()):(qe.Helpers.removeClass(this.playerContainerDiv,this.stickyClass),this.moveToBody&&this.moveToBodyComponent.detachBody(this.teaserImgContainer)),this.applyPlayerSize(),setTimeout(function(){t.applyPlayerSize()},100)},e.prototype.onAdStatus=function(t){switch(t){case $t.states.STATUS_READY:this.stickyAd=this.amby.get("formatConfig.stickyAd",!1),qe.Helpers.removeClass(this.playerContainerDiv,"ad-loading"),this.amby.get("teasers.".concat(this.inlinePlacement-1,".inSight"),!1)?this.isOtherWidgetSticky()||(this.wasVisible=!0):this.autoStart===va&&this.amby.dispatch(de.setTriggerToTrue("player.actionPause"));break;case $t.states.STATUS_PLAYING:qe.Helpers.removeClass(this.playerContainerDiv,"ad-loading"),this.amby.dispatch(de.setPlayerVisible(!1)),qe.Helpers.addClass(this.teaserDiv,"ad-show"),this.amby.dispatch(de.upsertState({ad:{visible:!0}}));break;case $t.states.STATUS_STOPPED:this.stickyAd&&this.amby.get("player.isSticky",!1)&&(this.amby.dispatch(de.setPlayerSticky(!1)),this.amby.dispatch(de.setTriggerToTrue("player.actionPause"))),this.amby.dispatch(de.setPlayerVisible(!0)),qe.Helpers.removeClass(this.teaserDiv,"ad-show");break}},e.prototype.onClick=function(t){if(t===void 0&&(t=!1),this.itemIndex=this.amby.get("player.itemIndex"),this.itemIndex!==null){var i=this.amby.get("playlist.".concat(this.itemIndex,".videoExt"));typeof i=="string"&&(i=JSON.parse(atob(i)));var a=i.clickUrl;if(a){a=qe.Helpers.fromAscii(a);var s=window.open(a,"_blank");s&&(this.amby.dispatch(de.setTriggerToTrue("player.openPage")),s.focus(),t&&this.amby.dispatch(de.setTriggerToTrue("player.actionPause")))}else!this.amby.get("player.isAdPlaying")&&t&&(this.amby.get("player.status")===$t.states.STATUS_PLAYING?this.amby.dispatch(de.setTriggerToTrue("player.actionPause")):this.amby.dispatch(de.setTriggerToTrue("player.actionPlay")))}},e.prototype.onMuteBtnClicked=function(){(0,li.mgDebug)("Mute Button clicked."),this.muted=this.amby.get("player.muted",!1),this.muted?(this.amby.dispatch(de.setTriggerToTrue("player.userUnmute")),this.amby.dispatch(de.setTriggerToTrue("player.unmute")),this.amby.dispatch(de.upsertAdState({initMuted:!1}))):(this.amby.dispatch(de.setTriggerToTrue("player.userMute")),this.amby.dispatch(de.setTriggerToTrue("player.mute")),this.amby.dispatch(de.upsertAdState({initMuted:!0})))},e.prototype.onPlayerVisible=function(){var t=this.amby.get("player.visible",!1);t?qe.Helpers.addClass(this.playerContainerDiv,"showed"):qe.Helpers.removeClass(this.playerContainerDiv,"showed")},e.prototype.applyPlayerSize=function(t){var i=this;t===void 0&&(t=!0),qe.Helpers.vitalCall(function(){i.videoElementPosition(),i.teaserImgPosition(t)},this.amby.get("isVital",!0))},e.prototype.videoElementPosition=function(){this.playerContainerDiv.removeAttribute("style");var t=qe.Helpers.getElemWidth(this.playerContainerDiv),i=t,a=i/(this.aspectRatio.width/this.aspectRatio.height),s=qe.Helpers.getElemHeight(this.playerContainerDiv);if(s===0){var n=qe.Helpers.getImgSizeByUrl(this.teaserImg.src);n?(s=n.height,s<=0&&(s=a),this.playerContainerDiv.style.height="".concat(s,"px")):s=a}s>a&&(a=s,i=a*(this.aspectRatio.width/this.aspectRatio.height)),(this.sticky||this.stickyAd)&&this.amby.get("player.isSticky",!1)&&(i=t,s=t/(this.aspectRatio.width/this.aspectRatio.height),a=s,this.playerDiv.style.width="".concat(i,"px"),this.playerContainerDiv.style.width="".concat(i,"px")),this.playerContainerDiv.style.height="".concat(s,"px"),this.playerDiv.style.height="".concat(a,"px");var l={width:t,height:s,pWidth:i,pHeight:a};qe.Helpers.isIE()&&(l.top=0,l.left=0),this.amby.dispatch(de.upsertState({videoElemPosition:l,player:{size:{width:i,height:a}}}))},e.prototype.teaserImgPosition=function(t){var i=this.teaserImgContainer.getBoundingClientRect();this.amby.dispatch(de.setPlayerTeaserPosition({top:i.top-this.widget.block.getBoundingClientRect().top,left:i.left-this.widget.block.getBoundingClientRect().left,width:i.width,height:i.height||0})),t&&(this.amby.dispatch(de.setTriggerToTrue("player.resize")),this.amby.dispatch(de.setTriggerToTrue("player.teaserPositionChanged")))},e.prototype.startInSticky=function(){this.amby.dispatch(de.setPlayerSticky(!0)),this.applyPlayerSize(),this.playerContentStart||this.amby.dispatch(de.setTriggerToTrue("player.actionPlay"))},e.prototype.getVideoTeaserIndex=function(t){var i=this;this.teasers=this.widget.block.querySelectorAll(".mgline"),(!this.teasers||this.teasers.length===0||Array.apply(null,this.teasers).filter(function(n){return n.className.indexOf("vrline")>=0}).length===0)&&setTimeout(function(){i.getVideoTeaserIndex(t)},50),this.inlinePlacement||(this.inlinePlacement=parseInt(this.amby.get("formatConfig.inlinePlacement",1),10));for(var a=0,s=0;s<this.teasers.length;s++)if(this.teasers[s].className.indexOf("vrline")>-1){if(this.inlinePlacement!==null&&this.inlinePlacement===a+1){this.playerTeaserIndex=s,this.amby.dispatch(de.upsertState({widget:{playerTeaserIndex:this.playerTeaserIndex}})),t&&t();break}a+=1}},e}(df.FormatBase);Vi.PerformanceBase=vf});var Uo=pe(Ls=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.NativeBase=void 0;var bf=Ve(),pi=Ce(),xf=Wo(),Tf=Pe(),wf=Ya(),Sf=function(){function r(){}return r.init=function(e,t){var i=this,a=(0,pi.getInObject)(e,["mgRec","config","formats"]),s=(0,pi.getInObject)(e,["mgRec","cappingData","dt"],"desktop");if(s==="tablet"&&(s="mobile"),Array.isArray(a)){for(var n=0;n<a.length;n++)if(a[n].device===s&&a[n].name==="native"&&(!a[n].test||pi.Helpers.getUrlParam(a[n].test)||pi.Helpers.getCookie(a[n].test))){var l=(0,pi.getInObject)(e,["mgRec","config","parentCid"],(0,pi.getInObject)(e,["mgRec","cid"])),c=(0,pi.getInObject)(e,["mgRec","config","isVital"],!0),h=(0,bf.createAmby)("video_".concat(l,"_").concat(t));h.dispatch(Tf.setFormatConfig(a[n])),e.amby=h,e.formatConfig=a[n],(a[n].performance===!0||a[n].sticky===!0&&!a[n].embedded)&&(this.videoSensorComponent=new wf.VideoSensorComponent(e),pi.Helpers.vitalCall(function(){e.performance=new xf.PerformanceBase(e,i.videoSensorComponent)},c));break}}},r}();Ls.NativeBase=Sf});var jo=pe(Ct=>{"use strict";S();_();k();C();I();D();E();var _f=Ct&&Ct.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,a)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),bi=Ct&&Ct.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_f(e,r,t)};Object.defineProperty(Ct,"__esModule",{value:!0});bi(He(),Ct);bi(Gn(),Ct);bi(wi(),Ct);bi(Ce(),Ct);bi(Wn(),Ct);bi(Po(),Ct);bi(Uo(),Ct)});var zo=pe(di=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(di,"__esModule",{value:!0});di.servLibrary=di.loadLibrary=di.loadStyles=void 0;var ba=jo();window._mgLib1_11_185||(window._mgLib1_11_185=function(){function r(e,t){this.block=e,this.mgRec=t,this.modules=r.modules,this.libConfig=r.libConfig,this.rootElement=null,this.amby=null,this.served=!1,window._mgwhook&&window._mgwhook(this),this.initBlock()}return r.prototype.initBlock=function(){for(var e in r.modules)if(r.modules.hasOwnProperty(e)&&r.modules[e].init)try{r.modules[e].init(this,r.widgets.length)}catch(t){this.hasOwnProperty("debug")&&typeof this.debug=="function"&&this.debug("Error in ".concat(e,": ").concat(t.toString()))}},r.prototype.setConfig=function(e){this.mgRec.config=e},r._mgload=function(e){typeof this.log>"u"&&(this.log=new ba.Debug(ba));var t=e.config.parentCid||e.cid;this.log.debug(new Date().getTime()-window.performance.timing.navigationStart),this.log.debug("_mgload: "+t+" libVer: 1_11_185 DOMLoaded: "+r.DOMContentLoaded),e.rootElement=e.rootElement||document;var i=e.rootElement.getElementsByClassName("_mgw_"+t);if(i.length===0&&e.rootElement.classList&&e.rootElement.classList.contains("_mgw_"+t)&&(i=[],i.push(e.rootElement)),i.length===0){i=[];for(var a=e.rootElement.querySelectorAll("div[class*=vrPopup]"),s=0,n=a.length;s<n;s++)a[s].parentNode&&i.push(a[s].parentNode)}for(var s=0,n=i.length;s<n;s++)i[s].getAttribute("data-mgloaded")||(this.log.debug(i[s]),i[s].setAttribute("data-mgloaded","true"),r.widgets.push(new r(i[s],e)))},r._mgserv=function(e){typeof this.log>"u"&&(this.log=new ba.Debug(ba));var t=e.config.parentCid||e.cid;this.log.debug("_mgserv: "+t+" libVer: 1_11_185");var i=r.widgets;if(i&&i.length>0)for(var a=0;a<i.length;a++){var s=i[a].mgRec.config.parentCid||i[a].mgRec.cid;if(t===s&&!i[a].served){i[a].served=!0,i[a].mgRec.vr_playlist=e.vr_playlist,i[a].mgRec.cappingData=e.cappingData,e.config&&(i[a].mgRec.config.uuid=e.config.uuid,i[a].mgRec.config.templateId=e.config.templateId,i[a].mgRec.config.subid=e.config.subid),i[a].amby.dispatch({type:"UPSERT_STATE",state:{playlist:e.vr_playlist,cappingData:e.cappingData,servLib:e.servLib,cxurl:e.cxurl}}),e.config.vastContent&&i[a].amby.dispatch({type:"UPSERT_STATE",state:{ad:{vastContent:e.config.vastContent}}});break}}},r.prototype.getWidgets=function(){return r.widgets},r.prototype.isDOMContentLoaded=function(){return r.DOMContentLoaded},r}(),_mgLib1_11_185.modules=ba,_mgLib1_11_185.widgets=[],_mgLib1_11_185.DOMContentLoaded=document.readyState!=="loading",_mgLib1_11_185.libConfig=JSON.parse('{"jwPlayerIdVrw":"//content.jwplatform.com/libraries/WLok6WPd.js","mgPlayerStylesUrlTemplate":"//{{DOMAIN}}/mgPlayer/css/mgPlayer_v2.css","teaserCappingSensorUrlTemplate":"//{{DOMAIN}}/c","videoSensorUrlTemplate":"//{{DOMAIN}}/vs/","adSrcNoUiUrlTemplate":"//video-native.{{DOMAIN}}/scripts/adSrcNoUi.js","baseStylesUrlTemplate":"//{{DOMAIN}}/mgPlayer/css/","lang":{"skipText":{"en":"Skip","uk":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u0438","ru":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C"},"skipOffsetText":{"en":"Skip ad in %s","uk":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u0438 \u0440\u0435\u043A\u043B\u0430\u043C\u0443 \u0447\u0435\u0440\u0435\u0437 %s","ru":"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0440\u0435\u043A\u043B\u0430\u043C\u0443 \u0447\u0435\u0440\u0435\u0437 %s"},"clickText":{"en":"Learn more","uk":"\u0414\u0456\u0437\u043D\u0430\u0442\u0438\u0441\u044F \u0431\u0456\u043B\u044C\u0448\u0435","ru":"\u0423\u0437\u043D\u0430\u0442\u044C \u0431\u043E\u043B\u044C\u0448\u0435"},"headerText":{"en":"Advertisement","uk":"\u0420\u0435\u043A\u043B\u0430\u043C\u0430","ru":"\u0420\u0435\u043A\u043B\u0430\u043C\u0430"}}}'),document.addEventListener("DOMContentLoaded",function(){document.location.href.indexOf("mgwdebug")>0&&console.info("DOMContentLoaded: ".concat(new Date().getTime()-window.performance.timing.navigationStart)),_mgLib1_11_185.DOMContentLoaded=!0}));function kf(r,e){if(!r.querySelector("#mgPlayerStyles")){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","".concat(e)),t.id="mgPlayerStyles",t.addEventListener("load",function(){t.setAttribute("data-loaded","true")}),document.getElementById("mgPlayerStyles")||document.head.appendChild(t),r.isEqualNode(document)||r.appendChild(t.cloneNode(!0))}}di.loadStyles=kf;function Cf(r){return window._mgLib1_11_185._mgload(r)}di.loadLibrary=Cf;function If(r){return window._mgLib1_11_185._mgserv(r)}di.servLibrary=If});var qi,Wi,gr=ne(()=>{S();_();k();C();I();D();E();Nn();bt();(function(r){r.beforeInjectScriptEvent="beforeinjectscriptevent"})(qi||(qi={}));Wi=class{constructor(e,t,i,a,s,n){this.blankImage=`data:image/svg+xml,%3Csvg
            xmlns="http://www.w3.org/2000/svg"
            width="492" height="277"
            viewBox="0 0 492 277"
            %3E%3C/svg%3E`,this.hrefAttr="href",this.enabledCooperationTypes=JSON.parse('["wages"]'),this.BaseBlockClass=Wi,this.app=this,this.context=t,this.root=this.context.document.getElementById(e),this.debugBlock=new Sa(this),this.lifeCycleLoadResolver=null,this.waitConsentResolver=null,this.rootId=e,this.containerId=a,this.uniqId=s,this.fallbackMode=i,this.page=1,this.adlink="",this.template="",this.templateContent=null,this.id=1456432,this.originalId=1456432,this.pvid="",this.muid="",this.beforeInitBlockHooks=[],this.afterPreRenderNewsHooks=[],this.beforeInjectScriptHooks=[],this.beforeInjectTemplateHooks=[],this.beforeLoadNewsHooks=[],this.afterLoadNewsHooks=[],this.afterInjectScriptHooks=[],this.beforePrepareCappingDataHooks=[],this.afterPrepareCappingDataHooks=[],this.afterSendCappingHooks=[],this.beforeInitHooks=[],this.afterInitHooks=[],this.beforeInjectScriptEvent=null;try{typeof CustomEvent=="function"?this.beforeInjectScriptEvent=new CustomEvent(qi.beforeInjectScriptEvent):(this.beforeInjectScriptEvent=this.context.document.createEvent("CustomEvent"),this.beforeInjectScriptEvent.initCustomEvent(qi.beforeInjectScriptEvent))}catch{this.beforeInjectScriptEvent=null}if(this.blocksAddress="",this.tickerPrefix="",this.countLoadBlocks=0,this.preTemplate="",this.postTemplate="",this.banners={},this.loadedDefault=!1,this.teaserData={},this.servicerData={},this.pagesServicerData=[],this.childWidgetsData=JSON.parse('{"1488793":{"childId":1488793,"newsWidgetIdPartner":0,"customFuncBlocks":[],"showMonetizationEnabled":1,"childCountNews":6,"isAdblockChild":true,"childSubtype":"under-article-widget-adblock"}}'),this.versionWidget=n,this.sspPerformance=10>=Math.ceil(Math.random()*100),this.doubleClickType="",this.doubleClickCheckId=0,this.doubleClickPercent=0,this.widgetConstructorData=JSON.parse('{"blur":"auto","cols":1,"font":"arial","kind":"wages","rows":15,"type":"smart","media":{"opacity":80,"duration":1,"minWidth":250,"position":"bottom","minHeight":150,"videoOverlay":1},"mgbox":{"styles":{"maxWidth":1220}},"price":false,"theme":"#2b397b","width":0,"button":1,"mcdesc":{"styles":{"font":"verdana","color":"#666666","display":"none","fontSize":11,"fontStyle":"normal","textAlign":"center","fontWeight":"normal","textDecoration":"none"}},"mgline":{"styles":{"width":"150","height":"120","margin":"2","borderColor":"#ffffff","borderStyle":"solid","borderWidth":0,"borderRadius":"0"}},"imgType":"super","mcimage":{"size":200,"styles":{"padding":0,"borderColor":"#ffffff","borderStyle":"solid","borderWidth":0},"size-width":492,"size-height":277},"mcprice":{"show":"false","styles":{"font":"verdana","color":"#2a3a7b","fontSize":14,"fontStyle":"normal","textAlign":"left","fontWeight":"bold","textDecoration":"none"}},"mctable":{"styles":{"borderColor":"","borderWidth":0,"backgroundColor":""}},"mctitle":{"styles":{"color":"#515150","fontSize":"17","fontStyle":"normal","textAlign":"center","fontWeight":"bold","text-transform":"uppercase","textDecoration":"none"}},"subType":"smart-plus","mcdomain":{"styles":{"font":"arial","color":"#bbbbbb","display":"block","fontSize":10,"fontStyle":"normal","textAlign":"center","fontWeight":"normal","textDecoration":"none"}},"rerunAds":"0","isToaster":"","colsMobile":2,"isDragDown":"","previewImg":"https:\\/\\/cdn.mgid.com\\/images\\/draw-widget-preview.jpg","colorButton":"","imageFormat":46,"imageShadow":"","scrollEffect":"0","textPosition":"bottom","autoplacement":"off","formatChanged":true,"customGradient":"","isInterstitial":"","popupFrequency":15,"widgetFormatId":7,"is_int_exchange":"0","mobileWidgetImg":"https:\\/\\/cdn.mgid.com\\/images\\/mobile-widget-preview.png","passageFrequency":60,"showEffectButton":"false","showWidgetButton":"true","teaserCardShadow":"0","teaserFixedWidth":"0","imageScaleOnHover":"","interstitialAfter":3,"is_show_ad_marker":0,"frequencyOfDisplay":"1","widgetTitleSettings":{"styles":{"font":"arial","color":"#2b397b","fontSize":14,"text-transform":"uppercase"}},"frequencyCappingShow":3,"frequencyCappingTime":2,"notificationPosition":"top","toasterInactivityTime":8,"widgetTypeDescription":1}'),typeof this.widgetConstructorData.mctitle<"u"&&typeof this.widgetConstructorData.mctitle.styles<"u"&&typeof this.widgetConstructorData.mctitle.styles.fontSize<"u"?this.autoSizeTitle=this.widgetConstructorData.mctitle.styles.fontSize:this.autoSizeTitle=0,this.globalSettings=JSON.parse('{"capping_observer_threshold":"0.5","current_language":"en","widget_lazy_load_margin":"1000","accidental_clicks_delay":"10","ia_page_view_timeout":"180","ia_page_imp_timeout":"180","widget_intentiq_refresh_millis":"43200000","retention_tool_widget_utm":"utm_mgid_push","except_ads_limit":"150"}'),this.preRenderImageSizes={},this.preRenderTeaserSizes={},this.customBanners=JSON.parse('{"1456432":[],"1488793":[]}'),this.initServicerRequest=!0,this.exceptAdsList=[],this.clickHandlers=[],this.observerWidgetHooks=[],this.observerTeasersHooks=[],this.sspDoubleClickHash=[],this.requestParams={},this.userAgentDataParams=null,this.consentDataParams=null,this.webProtocol="https:",this.clickHandlerList={onSiteNotificationClick:{handler:"onSiteNotificationHandler",priority:8},onSmartDoubleClick:{handler:"onSmartDoubleClickHandler",priority:10},onAntifraudStatisticsClick:{handler:"onAntifraudStatisticsClickHandler",priority:15},sspDoubleClick:{handler:"sspDoubleClickHandler",priority:20},activateDelayLink:{handler:"activateDelayLinkHandler",priority:30},accidentalClicks:{handler:"accidentalClicksHandler",priority:50},externalCountersLink:{handler:"externalCountersLinkHandler",priority:100},returnedRefreshClick:{handler:"returnedRefreshClickHandler",priority:120},internalExchangeLogger:{handler:"internalExchangeLoggerHandler",priority:150},showDesktopDoubleClick:{handler:"showDesktopDoubleClickButton",priority:150},showMobileDoubleClick:{handler:"showDoubleClickButton",priority:150},hangNiceLinkListener:{handler:"hangNiceLinkListener",priority:200},closeWidgetClick:{handler:"closeWidget",priority:600},refreshNews:{handler:"refreshNewsHandler",priority:700}},this.context.self!==this.context.top){let l=this.context.document.referrer.split("/");this.intExchangeProtocol=l[0].indexOf("http")==0?l[0]:"https:"}else{let l=this.context.document.location.protocol;this.intExchangeProtocol=l.indexOf("http")==0?l:"https:"}this.sourceName="",this.setTemplate(`<div class="mgbox">\r
	<!--advertPrefix-->\r
	{foreach}\r
	{if this.iteration == 1}<div class="row1">{/if}{if this.iteration == 2}</div><div class="row2">{/if}{if this.iteration == 4}</div><div class="row1">{/if}{if this.iteration == 5}</div><div class="row1">{/if}{if this.iteration == 6}</div><div class="row2">{/if}{if this.iteration == 8}</div><div class="row1">{/if}{if this.iteration == 9}</div><div class="row1">{/if}{if this.iteration == 10}</div><div class="row2">{/if}{if this.iteration == 12}</div><div class="row1">{/if}{if this.iteration == 13}</div><div class="row1">{/if}{if this.iteration == 14}</div><div class="row2">{/if}{if this.iteration == 16}</div>{/if}\r
	<div class="mgline">\r
		{if $banner}{$banner}{/if}\r
		{if $teaser}\r
		<a class="allink" {$target} {$href}></a>\r
		<div class="image-with-text">\r
			<div class="mcimg">\r
				<a {$target} {$href} >\r
					<div class="image-container">\r
						<div class="image-gradient">\r
							<img class="mcimg" {$src} />\r
							<!--intExchangeWagesImagePlace-->\r
						</div>\r
					</div>\r
				</a>\r
			</div>\r
			<div class="text-elements">\r
				<div class="text_on_hover">\r
					<div class="mctitle"><a {$target} {$href}>{$title}</a></div>\r
					<div class="mcdesc"><a {$target} {$href}>{$desc}</a></div>\r
					<div class="mcdomain"><a {$target} {$href}>{$source}</a></div>\r
				</div>\r
			</div>\r
		</div>\r
		{/if}\r
	</div>\r
	{/foreach}\r
</div>\r
</div>\r
`.replace(/[\r\n]/g,"")),this.setStyles(".mgbox * { -webkit-transition: all .25s; -moz-transition: all .25s; -ms-transition: all .25s; -o-transition: all .25s; transition: all .25s; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: none; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; width: 100%; max-width: 680px; font-family: Arial; } .mgheader { border-bottom: 1px solid #ccc !important; padding-bottom: 3px; margin-bottom: 10px; } .mgheader div a { position: relative; top: -5px; } .mgheader div img { position: relative; top: 5px; height: 27px; } .mghead { color: #333; font-size: 17px; line-height: 1.2; text-transform: uppercase !important; margin: 5px 0 0 0 !important; font-family: Arial; font-weight: 400; } .mgline { background: transparent; cursor: pointer; display: inline-block; _overflow: hidden; *zoom: 1; *display: inline; border: none; box-sizing: border-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; vertical-align: top; position: relative; margin-bottom: 5px; } .mgline .allink { height: 100%; width: 100%; display: block; position: absolute; cursor: pointer; z-index: 1; } .mgline .image-with-text { width: 100% !important; height: auto; max-width: 100%; margin: 0 auto; position: relative; } .mgline .image-container { position: relative; } div.mcimg { padding: 0; text-align: center; display: block !important; } .mgline:hover:not(.vrline) div.mcimg { opacity: 0.8 !important; } img.mcimg { border-style: none; width: 100%; height: auto !important; max-width: 680px; max-height: 385px; box-sizing: border-box; display: block; margin: 0; } .mgline .text-elements { padding-top: 10px; } .text-elements a { text-decoration: none; } .mgline .text_on_hover a { top: 0; left: 0; } .mctitle { text-align: left; } .mctitle a { font-family: Arial; font-weight: bold; font-size: 20px; line-height: 22px; font-style: normal; text-decoration: none; color: #333; letter-spacing: -0.4px; } .mgline:hover .mctitle a { color: #0F4B81; text-decoration: none; } .mcdesc { display: none; text-align: left; } .mcdesc a { font-family: Arial; font-weight: normal; font-size: 16px; line-height: 20px; font-style: normal; text-decoration: none; color: #a9a9a9; } .mcdomain { display: block; text-align: left; margin-top: 10px; } .mcdomain a { font-family: Arial; font-weight: 400; font-size: 17px; line-height: 16px; font-style: normal; text-decoration: none; color: #A9A9A9; display: block; overflow: hidden; text-transform: uppercase; letter-spacing: 0.85px; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } img.mcimgad { position: absolute; bottom: 0; right: 0; z-index: 10; opacity: 0.7; width: 20px; height: 20px; } .mgbox .row1, .mgbox .row2 { display: flex; flex-direction: row; flex-wrap: wrap; width: 100%; max-width: 100%; position: relative; margin: 0 0 5px !important; } .mgbox .row1 .mgline { width: 100%; max-width: 100%; } .row1 .mgline img.mcimgad { left: 0; } .row1 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row1 .mgline .mcdesc { margin-top: 10px; } .row1 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .mgbox .row2 .mgline { width: 49.5%; max-width: 49.5%; } .row2 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row2 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row2 .mgline:first-child { margin-right: 1%; } .row2 .mgline .mctitle { margin-bottom: 5px !important; } .row2 .mgline .mcdesc { display: none !important; } @media (max-width: 480px) { .row1 .mgline:not(.vrline) div.mcimg { float: none; width: 100%; } .row1 .mgline div.mcimg { float: none; width: 100%; } .row1 .mgline img.mcimgad { left: inherit; } .row1 .mgline .text-elements { width: 100% !important; bottom: 0 !important; } .row1 .mgline .text_on_hover { width: auto; height: auto; } .row1 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline { width: 100% !important; max-width: 100% !important; } .row2 .mgline:first-child { width: 100%; margin-right: 0; max-width: 100% !important; } .mctitle, .mcdesc { width: 100% !important; } .mctitle, .mcdesc { text-align: left !important; } .mgline { overflow: hidden; } .mghead { font-size: 15px; } .mgheader div img { max-height: 24px; } .mctitle a { font-size: 18px; line-height: 19px; letter-spacing: -0.2px; } .mcdomain a { font-size: 12px; line-height: 12px; } .mcdomain { margin-top: 5px; } } .mgbox .row2 .mgline { display: block; } ".replace(/\\'/g,"'")),this.servicerDomain="servicer.mgid.com",this.adBlockStyles=`.mgresponsive { display: inherit; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: solid; border-width: 0; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; } .mgline { position: relative; } .mgline .image-with-text { position: relative; } .mgbox { width: 100%; max-width: 700px; } div.mcimg { padding: 0; text-align: center; } img.mcimg { border-style: solid; border-color: #ffffff; border-width: 0; width: 100% !important; height: auto !important; max-width: 492px; max-height: 277px; box-sizing: border-box; display: block; aspect-ratio: 1.77777778; } .mgline .text-elements { position: absolute; bottom: 0; left: 0; background: transparent linear-gradient(to bottom, transparent 0px, rgba(0, 0, 0, 0.7) 50%, rgba(0, 0, 0, 0.9) 100%) repeat scroll 0 0; width: 100%; } .mctitle { margin: 10px 1% 1px 1%; text-align: left; line-height: 1 !important; } .mctitle a { font-weight: bold; font-size: 13px; line-height: 1.1; font-style: normal; text-decoration: none; color: #fff; font-family: Arial,Helvetica,sans-serif; } .mgline:hover .mctitle a { color: #fff; text-decoration: underline !important; } .mcdesc { display: none; text-align: center; } .mcdesc a { font-weight: normal; font-size: 12px; line-height: 12px; font-style: normal; text-decoration: none; color: #666666; font-family: Verdana,Geneva,sans-serif; } .mcdomain { display: block; text-align: left; margin: 0 1%; overflow: hidden; } .mcdomain a { font-weight: normal; font-size: 11px; line-height: 16px; font-style: normal; text-decoration: none; color: #C7C7C7; font-family: Arial,Helvetica,sans-serif; display: block; overflow: hidden; padding-top: 1px; padding-bottom: 5px; } .mcdomain a img.mcimgsrc { vertical-align: bottom; margin-bottom: -3px; height: 20px; width: 20px; display: inline-block; } .mgline { background: none repeat scroll 0 0; cursor: pointer; overflow: hidden; zoom: 1; display: inline; padding: 0 !important; border-style: solid; border-color: #ffffff; border-width: 0; width: calc(33.333% - 10px); max-width: 33.333%; box-sizing: border-box; margin: 0 0 5px; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; flex-wrap: wrap; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; } .mgline .image-container { position: relative; } .mgline .image-container .mcimgad { position: absolute; right: 0; bottom: 0; width: 20px; height: 20px; } .mgline { vertical-align: top; } .mgline, .mgbox { min-width: 90px; } .mgline[max-width~="120px"] .mcdesc { display: none !important; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } .text-elements a { text-decoration: none; } div.mcprice { text-align: left; } div.mcprice span { font-weight: bold; font-size: 14px; line-height: 14px; font-style: normal; text-decoration: none; color: #2a3a7b; font-family: Verdana,Geneva,sans-serif; } div.mgbuybox, div.mgarrowbox { display: none; } div.mgbuybox, div.mgarrowbox, div.mcprice { display: none; } span.mcpriceold { text-decoration: line-through !important; } @media (max-width: 480px) { .mgline { width: 48% !important; margin: 1% !important; max-width: 48% !important; } } @media (max-width: 480px) { .mgline { width: 98% !important; margin: 1% !important; max-width: 98% !important; } } img.mcimg { margin: 0; opacity: 1 !important; } .mgline { position: relative; } .mgline .fake { visibility: hidden; position: relative; padding-top: 4px; } .mgbuybox { text-align: right; font-weight: 700; font-size: 12px; color: #666666; } .mcdesc { margin-top: 0; margin-bottom: 2px; } .mcdesc a { line-height: 1.5 !important; } .mcprice-wrap { position: absolute; display: block; top: 0; left: 0; text-decoration: none; } .mcdiscount { color: #fff; border: none; font-size: 1.21em; } .mgarrowbox { position: relative; background: #fff; padding-right: 12px; } .mgarrowbox:before { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #fff; } div.mcprice-cover { display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-wrap: nowrap; -ms-flex-wrap: nowrap; flex-wrap: nowrap; -webkit-align-items: stretch; -moz-box-align: stretch; -ms-flex-align: stretch; align-items: stretch; -webkit-justify-content: flex-start; justify-content: flex-start; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; height: 42px; font-size: 14px; } div.mcprice-cover .mcprice { font-size: 1.29em; color: #fff; } div.mcprice-cover.mcprice-cover_old .mcprice-inner { padding-top: 4px; width: auto; } div.mcprice-cover.mcprice-cover_old .mcprice-val { padding-right: 0; } div.mcprice-cover.mcprice-cover_old .mcprice { margin-bottom: 4px; color: #2a3a7b; font-size: 1em; } div.mcprice-cover.mcprice-cover_old + .mcprice-cover { display: none !important; } .mcprice-val, .mcprice-inner { display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-align-items: center; -moz-box-align: center; -ms-flex-align: center; align-items: center; -webkit-justify-content: flex-start; justify-content: flex-start; white-space: nowrap; } .mcprice-inner { background: #ed181d; position: relative; padding: 0 2px 0 8px; text-align: center; color: #fff; width: 100%; } .mcprice-inner:before { content: \\'\\'; position: absolute; top: 0; right: -10px; border-top: 21px solid transparent; border-bottom: 21px solid transparent; border-left: 10px solid #ed181d; } .mcprice-val { padding: 2px 10px 0 14px; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; -webkit-justify-content: center; justify-content: center; -webkit-align-items: flex-start; -moz-box-align: start; -ms-flex-align: start; align-items: flex-start; font-weight: bold; font-style: normal; text-align: left; } .mcpriceold { display: block !important; position: relative; width: 100%; font-size: 0.78em; font-weight: inherit; color: #ed181d; } .mcpriceold span { position: relative; } .mcpriceold span:before { content: \\'\\'; height: 1px; background: #ed181d; left: 0; right: 0; top: 50%; position: absolute; } div.mgbuybox, div.mgarrowbox { display: none; } .fake, .mgtobottom { display: table; bottom: 0; width: 100%; text-align: left; } .fake > *, .mgtobottom > * { display: table-cell; } .mgtobottom__buy { padding-right: 20px; } .mgtobottom { position: absolute; } .mgline .image-with-text, .mgline .mgtobottom { width: 100% !important; margin: 0 auto; } .mgline .image-with-text, .mgline .mgtobottom { max-width: 294px; } .mghead { font-family: Arial,Helvetica,sans-serif !important; color: #2b397b; font-size: 14px !important; text-transform: uppercase !important; } .mghead { margin: 10px 0 0 0 !important; font-weight: 600 !important; } div.mcprice, div.mcriceold { font-weight: bold; font-size: 14px; line-height: 14px; font-style: normal; text-decoration: none; color: #2a3a7b; font-family: Verdana,Geneva,sans-serif; } .mgline[max-width~="120px"] .mgarrowbox, .mgline[max-width~="120px"] .mgbuybox { display: none !important; } .mgline .image-with-text { min-height: 1px; } @media (max-width: 480px) { .mgline { width: 98% !important; margin: 1% !important; max-width: 98% !important; } } .mgheader { border-bottom: 1px solid #2b397b !important; padding-bottom: 3px; margin-bottom: 3px; } .mgheader div object, .mgheader div object a, .mgheader div img { max-width: 40px; max-height: 22px; } .mgheader div object:nth-child(2), .mgheader div object:nth-child(2) > a, .mgheader div object:nth-child(2) > a > img { max-width: 12px; max-height: 22px; } `.replace(/\((\'|\")?\/\//g,"($1https://"),this.clickTracking="",this.loadedType="",this.parentCustomFuncBlocks={},this.childFuncBlocks={},this.browserId=-1,this.deviceType=ii.Desktop,this.hrefAttr="href",this.enabledCooperationTypes=JSON.parse('["wages"]'),this.consentData="",this.cmpEnabled=!1,this.uspString="",this.uspEnabled=!1,this.tcfv2Data=null,this.tcfv2Enabled=!1,this.cookieMatchingDomain="cm.mgid.com",this.context._mgIntExchangeNews=this.context._mgIntExchangeNews||{},this.iframePlacementType=0,this.networkInformationType="unknown",this.networkInformationEffectiveType="unknown",this.networkInformationSaveData=0,this.pageUrl="",this.refererUrl="",this.refererParam="",this.adblockDetectResult=null,this.gptOptions=JSON.parse('{"slot":"\\/22717329971,422621568\\/libero.pe\\/libero.pe_882635_1456432_smart_1_PE_ES_IAB17_web","divId":"div-gpt-ad-1456432","lazy":1000,"backfill":1510155}'),this.getActiveChilds().length||(this.videoWidgetsLib=zo())}getQueryParameterByName(e){e=e.replace(/[\[\]]/g,"\\$&");let i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(this.app.context.location.href);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}setStyles(e){this.app.styles=e.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//")}setTemplate(e){e=e.replace(/^\s*[\r\n]|\s{2,}/gm,""),e=e.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//"),e=e.replace('src="//','src="'+this.app.webProtocol+"//"),this.app.templateText=e.replace('href="//','href="'+this.app.webProtocol+"//")}cutString(e,t,i){if(e.length<=t)return e;let a=[];a=e.split(" ");let s=a[0]+" ",n;for(let l=1;l<a.length;l++){if(n=s+a[l],n.length>t)return s+(typeof i>"u"||i?"...":"");s+=a[l]+" "}return e}parseString(e,t){let i=[],a,s="";for(i=e.split(" "),a=0;a<i.length;a++)i[a].length>t&&i[a].search(/&\w+;/)<0?s+=i[a].substr(0,t)+" "+i[a].substr(t)+" ":s+=i[a]+" ";return s}prepareTitle(e){return e=this.app.cutString(e,75,1),e}prepareDesc(e){return e=this.app.cutString(e,75,1),e}hidePreloadDiv(){this.app.fallbackMode?this.app.fallbackMode&&this.app.countLoadBlocks===0&&(this.app.root.innerHTML="",this.app.context.document.getElementById("M"+882635+"PreloadC"+1456432)&&(this.app.context.document.getElementById("M"+882635+"PreloadC"+1456432).style.display="none")):["MarketGidPreloadC"+this.app.containerId,"M"+882635+"PreloadC"+this.app.containerId,"MarketGidPreloadN"+this.app.containerId,"M"+882635+"PreloadN"+this.app.containerId].every(t=>{let i=this.app.context.document.getElementById(t);return i?(i.style.display="none",!1):!0})}prerenderNews(e){if(this.app.root&&e){this.app.fallbackMode&&this.app.countLoadBlocks===0&&(this.app.root.innerHTML=""),this.advertLinkBlock.refreshAdvertLink(),e=this.app.advertLinkBlock.parseAdvertLink(e),this.app.addPreRenderTemplate(e);let t=this.app.root.getElementsByTagName("a");for(let i=0;i<t.length;i++)t[i].rel="sponsored nofollow noopener"}}loadNewsPrestart(e){if(this.app.hidePreloadDiv(),typeof e<"u"){this.app.servicerData=e;let t={page:this.app.pagesServicerData.length+1,servicerData:this.app.servicerData};if(this.app.pagesServicerData.push(t),typeof e.dt<"u"&&(this.app.deviceType=e.dt),typeof e.brid<"u"&&(this.app.browserId=e.brid),typeof this.app.servicerData.lib<"u"&&this.app.servicerData.config&&this.app.servicerData.config.formats&&this.preloadVideoWidgetResources(),typeof this.app.servicerData<"u"&&typeof this.app.servicerData.css<"u"&&(this.app.styles=this.app.servicerData.css,this.app.stylesheetsBlock.add("split_style",this.app.servicerData.css),this.app.stylesheetsBlock.remove("main")),typeof this.app.servicerData<"u"&&typeof this.app.servicerData.t<"u"&&this.app.servicerData.t!==""){let i=this.app.servicerData.t.replace(/\r?\n/g,"");this.app.setTemplate(i)}}}preloadVideoWidgetResources(){let e=this.app.servicerData.dt?this.app.servicerData.dt:"desktop",t=this.app.servicerData.config.formats.filter(i=>i.device===e)[0];if(t){let{protocol:i}=this.context.document.location,a=i.indexOf("http")!==-1?`${i}//`:"https://",s=this.app.currentSubnetDomain,n=`video-native.${s}/mgPlayer/css`,l=`mgStyles${this.id}`;if(t.styleUrl){let c=t.styleUrl.replace("{{DOMAIN}}",this.app.currentSubnetDomain).replace(/^(https?:\/\/|\/\/)/,`${a}`);this.appendWidgetPreloadDom(c,l,!0)}(typeof t.playerType>"u"||t.playerType==="mgplayer")&&this.appendWidgetPreloadDom(`${a}video-native.${s}/mgPlayer/img/mgPlayer_v2_sprite.svg`)}}appendWidgetPreloadDom(e,t="",i=!1){let a=this.context.document.createElement("link");a.setAttribute("href",e);let s=e.split(".").pop();s==="css"&&(a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet")),s==="svg"&&a.setAttribute("type","image/svg+xml"),t&&a.setAttribute("id",t),i&&(a.onload=()=>{a.setAttribute("data-loaded","true")}),this.app.isShadowRoot()?(this.app.root.getRootNode().appendChild(a),this.context.document.head.appendChild(a.cloneNode(!0))):this.context.document.head.appendChild(a)}addVideoLib(){if(typeof this.app.servicerData.lib<"u"){let e=this.app.servicerData.lib!=="1.11.185"?`1.11.185<${this.app.servicerData.lib}`:"",t=JSON.parse('{"vpaid":{"adsLimit":1,"totalTimeout":60,"singleTimeout":30,"maxSinglePlayers":5},"enabled":"1","formats":[{"loop":true,"name":"outstream","test":false,"device":"desktop","maximp":1,"sticky":false,"adsPlace":"over","autoStart":"visibleOnly","moveToBody":false,"teaserSize":1,"teaserIndex":0,"teaserHeight":1,"closeButtonEnable":1},{"loop":true,"name":"outstream","test":false,"device":"mobile","maximp":1,"sticky":false,"adsPlace":"over","autoStart":"visibleOnly","moveToBody":false,"teaserSize":1,"teaserIndex":0,"teaserHeight":1,"closeButtonEnable":1}],"adPlayers":[{"name":"aniviewDirectPlayer","engine":"aniviewDirect","channelId":"64d14b2d4f3cef6fdd03d785","playerTagId":"64d3945adefcf84d5506afa4","publisherId":"5ac2203f073ef46a6856c7b0"}],"autoStart":"visibleNotPause","adSchedule":[{"offset":0,"adPlayers":["aniviewDirectPlayer"]},{"offset":"pre","loadAds":"pageLoaded","adPlayers":["aniviewDirectPlayer"]}],"trickyInstream":"1"}'),i={lib:this.getActiveChilds().length===0?"1.11.185":this.app.servicerData.lib,servLib:e,cid:this.app.id,sid:882635,config:typeof this.app.servicerData.config<"u"?this.app.servicerData.config:t,vr_playlist:typeof this.app.servicerData.vr_playlist<"u"?this.app.servicerData.vr_playlist:[],template:"",styles:"",paramsData:{isSmart:!0},cxurl:this.app.contextBlock.contextUriParse(),subnetDomain:this.app.currentSubnetDomain,countersDomain:"c.mgid.com",lang:this.app.servicerData.sl,cappingData:{dt:this.app.servicerData.dt,ts:this.app.servicerData.ts,tt:this.app.servicerData.tt,h2:this.app.servicerData.h2,iv:this.app.servicerData.iv,psid:this.app.servicerData.psid,isBot:this.app.servicerData.isBot,subnet:this.app.currentSubnet,lang:this.app.globalSettings.current_language},rootElement:this.app.root};this.app.root.className.indexOf("_mgw_"+1456432)===-1&&(this.app.root.className+=(this.app.root.className.length===0?"":" ")+"_mgw_"+1456432),this.app.root.className.indexOf("_mgVideoBlock_"+1456432)===-1&&(this.app.root.className+=(this.app.root.className.length===0?"":" ")+"_mgVideoBlock_"+1456432),setTimeout(()=>{if(this.getActiveChilds().length>0||this.app.servicerData.config&&this.app.servicerData.config.testWidgetLib){this.app.context._mgq=this.app.context._mgq||[];let a=!0,s=this.app.webProtocol+"//cdn.mgid.com/js/wglibs/mgWidget_"+this.app.servicerData.lib+(a?".es6":".es5")+".js";if(this.app.servicerData.config&&this.app.servicerData.config.testWidgetLib){let l=this.app.servicerData.config.testWidgetLib.match(/mgWidget_(debug_)?(VID\d+)/);l!==null&&(this.app.servicerData.lib=l[2]);let c=this.app.servicerData.config.testWidgetLib;c.indexOf(".es")===-1&&(c=c.replace(".js",a?".es6.js":".es5.js")),s=c+"?r="+encodeURIComponent(this.app.pageUrl)}let n=this.app.context.document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0,n.src=s,this.app.context.document.head.appendChild(n),this.app.context._mgq.push(["_mgload",i]),this.startMgqwp()}else this.videoWidgetsLib.loadLibrary(i)},0)}}loadNews(e){if(e.length>0){let i=this.app.getRenderer(this.app.templateText).getHtml(e);if(this.app.addVideoLib(),this.app.root&&i){if(i=this.app.advertLinkBlock.parseAdvertLink(i),this.app.fallbackMode&&this.app.countLoadBlocks==0&&(this.app.root.innerHTML=""),this.app.templateContent=this.app.context.document.createElement("template"),this.app.templateContent.innerHTML="<div>"+this.app.preTemplate+i+this.app.postTemplate+"</div>",typeof this.app.templateContent.content>"u"){let l=this.app.templateContent,c=document.createDocumentFragment(),h=l.childNodes;for(let g=0;g<h.length;g++)c.appendChild(h[g].cloneNode(!0));this.app.templateContent.content=c}this.app.templateContent=this.app.templateContent.content.firstChild;for(let l=0;l<this.app.beforeInjectTemplateHooks.length;l++){let c=this.app.beforeInjectTemplateHooks[l];try{c()}catch(h){this.app.log(`BaseBlock - beforeInjectTemplateHooks hook ${c} failed`,"error",h)}}let a=this.app.templateContent.querySelectorAll(".mgline-gpt");if(a.length)for(let l=0;l<a.length;l++)a[l].innerHTML="";let s=this.app.templateContent.querySelectorAll("img.mcimg");if(s.length>0)for(let l=0;l<s.length;l++)s[l].src=s[l].getAttribute("data-src"),s[l].setAttribute("alt","");let n=this.app.templateContent.querySelectorAll("video.mcvideo");if(n.length>0)for(let l=0;l<n.length;l++){let c=n[l];c.onplay=function(){c.classList.add("played")},c.removeAttribute("nopin"),c.removeAttribute("crossorigin"),c.src=c.getAttribute("data-src"),typeof c.childNodes[0]<"u"&&c.parentElement.appendChild(c.childNodes[0])}this.app.addTemplate(this.app.templateContent),this.app.renderBanners(!0,null)}}else if(this.app.root&&this.app.countLoadBlocks==0){this.app.root.innerHTML="";return}if(this.app.servicerData&&this.app.servicerData.muidn&&this.app.servicerData.pvid&&this.app.pvid!=""&&this.app.servicerData.pvid==this.app.pvid)try{if(this.app.context.localStorage&&this.app.context.localStorage.setItem("mgMuidn",this.app.servicerData.muidn),this.app.isAmp()){let i=new Date(new Date().setFullYear(new Date().getFullYear()+1)).toUTCString(),a="mgMuidn="+this.app.servicerData.muidn+";domain=.ampproject.net;expires="+i+";SameSite=None;Secure";this.app.context.document.cookie=a}this.app.muid=this.app.servicerData.muidn}catch{}this.app.cookieBlock.cookieStorage.page=this.app.page,this.app.cookieBlock.cookieStorage.time=new Date().getTime().toString(),this.app.cookieBlock.setCookie();let t=this.app.root.getElementsByTagName("a");for(let i=0;i<t.length;i++)t[i].rel="sponsored nofollow noopener";this.app.countLoadBlocks++}addTemplate(e){this.app.root.appendChild(e)}addPreRenderTemplate(e){this.app.root.insertAdjacentHTML("beforeend",this.app.preTemplate+e+this.app.postTemplate)}getViewportHeight(){let e=this.app.context.document,t=this.app.context,i="documentElement",a="clientHeight",s="clientWidth",n="innerHeight",l="innerWidth",c="scrollHeight",h="scrollWidth",g="offsetHeight",y="offsetWidth",T="offsetLeft",b="offsetTop",P="scrollTop",x="scrollLeft";return this.app.isAmp()?typeof t["intersectionRect"+1456432+"_"+this.uniqId]<"u"?{c:t["intersectionRect"+1456432+"_"+this.app.uniqId].height,s:t["intersectionRect"+1456432+"_"+this.app.uniqId].y}:{c:t["intersectionRect"+1456432].height,s:t["intersectionRect"+1456432].y}:t[l]?{c:t[n],s:t.pageYOffset}:e[i]&&e[i][s]?{c:e[i][a],s:e[i][P]}:e.body[s]?{c:e.body[a],s:e.body[P]}:0}renderBanners(e,t){for(let i in this.app.banners)if(this.app.banners[i].rs!=e){if(!e){if(this.app.banners[i].iteration!=t)continue;this.app.banners[i].rs=!1}if(this.app.banners[i].isRendered===!0)continue;let a=this.app.root.querySelector("#"+i),s=this.app.banners[i].html,n=!1;if(this.app.banners[i].clickUrl&&s.indexOf("${CLICK_PIXEL}")!==-1){let c=this.app.allowReturnParams;this.app.allowReturnParams=!0,s=s.replace(/\${CLICK_PIXEL}/g,this.app.banners[i].clickUrl+this.app.getAntifraudQueryParameter(this.app.banners[i].clickUrl)),n=!0,this.app.allowReturnParams=c}s.indexOf("{page_url}")!==-1&&(s=s.replace(/{page_url}/g,this.app.pageUrl)),s.indexOf("{referrer_url}")!==-1&&(s=s.replace(/{referrer_url}/g,this.app.refererUrl));let l='<!DOCTYPE html><html><body style="margin: 0;">'+s+"</body></html>";this.app.banners[i].useSecureIframe?this.app.renderInSafeIframe(a,`banner_${i}`,l):(a.contentWindow.document.open(),a.contentWindow.document.write(l),a.contentWindow.document.close()),this.app.banners[i].isRendered=!0,n||(c=>{a.contentWindow.document.body.addEventListener("click",h=>{let g=h.target,y=!1;for(;g.parentElement;)if(g.tagName==="A"){y=!0;break}else g=g.parentElement;y&&this.app.request.pixel("bannerClickTracker",this.app.banners[c].clickUrl,{k:this.app.getAntifraudQueryParameter(this.app.banners[c].clickUrl)},{})},!0)})(i)}}renderInSafeIframe(e,t,i){e.sandbox="allow-scripts allow-popups";let a=this.app.context.location.href.indexOf("admin.")===-1&&this.app.context.location.href.indexOf("dashboard.")===-1&&this.app.context.location.href.indexOf("panel.")===-1;27>0&&a&&(e.sandbox="allow-same-origin allow-scripts allow-popups"),"srcdoc"in e?e.srcdoc=i:(e.src=this.app.webProtocol+`//cdn.mgid.com/widgets/framehost.html#${t}`,this.app.context.addEventListener("message",s=>{s.origin===this.app.webProtocol+"//cdn.mgid.com"&&s.data===`loaded #${t}`&&e.contentWindow.postMessage(i,"*")},!1))}getPageCount(){return 20}init(){if(this.app.countersBlock.widgetPerformancePixel("init"),typeof JSON!="object"&&(this.app.hidePreloadDiv(),this.app.log("Unsupported browser","error")),this.app.canUseShadowDom()){let e=this.app.root;try{e.parentNode.attachShadow({mode:"open"}).appendChild(e)}catch(t){this.app.log("Shadow DOM can't be attached: ","error",t)}}if(this.app.root){this.app.cookieBlock.getCookie();let e=parseInt(this.app.cookieBlock.cookieStorage.page),t=this.app.context["MarketGidPageOffset"]?parseInt(this.app.context["MarketGidPageOffset"]):0;this.app.addClickHandler(this.app.clickHandlerList.hangNiceLinkListener.handler,this.app.clickHandlerList.hangNiceLinkListener.priority),this.app.addEvent(this.app.root,"mouseup",this.app.eventsHangNiceLinkListener),this.app.addEvent(this.app.root,"contextmenu",this.app.eventsHangNiceLinkListener),this.app.addEvent(this.app.root,"touchstart",this.app.eventsHangNiceLinkListener);let i=this.app.getPageCount();if(e!=null&&e<i&&e>0?this.app.page=e+1:(e>i-1||e<1)&&(this.app.page=1+t),new Date().getTime()-(typeof this.app.cookieBlock.cookieStorage.time<"u"?this.app.cookieBlock.cookieStorage.time:0)>=6e5&&(this.app.page=1+t),this.app.page||(this.app.page=1),this.app.pageUnlim=this.app.page-1,this.app.cookieBlock.cookieStorage.page=this.app.page,this.app.cookieBlock.setCookie(),!this.app.context.document.cookie){let a=new Date;this.app.page=a.getSeconds()%i+1}this.app.blocksAddress=this.app.webProtocol+"//"+this.app.servicerDomain+"/",this.app.clickTracking=typeof this.app.context.MGClickTracking<"u"?this.app.context.MGClickTracking:"",this.app.adBlockStatement=!1,this.app.adBlockStatement=this.app.adBlockDetect(),this.app.adBlockStatement&&(this.app.getRoot().classList.add("eyeo"),this.app.rtbDisabled=1),this.app.adBlockStatement&&this.app.setTemplate(`<div class="mgbox">
    <!--advertPrefix-->
    {foreach}
    <div class="mgline">
        {if $banner}{$banner}{/if}
        {if $teaser}
        <div class="image-with-text">
            <div class="mcimg">
                <a {$target} {$href} >
                    <div class="image-container">
                        <img class="mcimg" {$src} />
                        <!--intExchangeWagesImagePlace-->
                    </div>
                </a>
            </div>
            <div class="text-elements">
                <div class="text_on_hover">
                    <div class="mcdomain-top mcdomain" style="display: none;"><a {$target} {$href}>{$source}</a></div>
                    <div class="mctitle"><a {$target} {$href}>{$title}</a></div>
                </div>
            </div>
        </div>
        {/if}
    </div>
    {/foreach}
</div>
`.replace(/[\r\n]/g,"")),this.app.context.onClickExcludes=this.app.context.onClickExcludes||[],this.app.context.onClickExcludes.push(this.app.root),typeof this.app.context["s1"]<"u"&&this.app.context["s1"]&&this.app.context["s1"]!=="${PUBLISHER_ID}"&&(this.app.sourceName=this.app.context["s1"]),this.app.adBlockStatement&&(this.app.sourceName="eyeo"),this.app.adBlockStatement?this.app.stylesheetsBlock.add("adBlockMain",this.app.adBlockStyles):this.app.stylesheetsBlock.add("main",this.app.styles),this.app.addEvent(this.app.root,"click",this.app.widgetClickHandler),this.app.addEvent(this.app.root,"auxclick",this.app.widgetClickHandler)}}resetPage(){this.app.page=1}getMostTopWindow(){let e=this.app.context;for(;e!=e.parent;)try{let t=e.parent.document.body;e=e.parent}catch{break}return e}getDevicePixelRatio(){let e=1;return typeof this.app.context.devicePixelRatio<"u"?e=this.app.context.devicePixelRatio:typeof this.app.context.screen.systemXDPI<"u"&&typeof this.app.context.screen.logicalXDPI<"u"&&this.app.context.screen.systemXDPI>this.app.context.screen.logicalXDPI&&(e=this.app.context.screen.systemXDPI/this.app.context.screen.logicalXDPI),e%1===0||(e=e.toFixed(3)),e}getCbusterParameter(){return this.app.context.MG_CacheBuster||new Date().getTime()+""+Math.floor(Math.random()*1e9+1)}injectScript(e,t){this.app.beforeInjectScriptEvent&&this.app.context.document.body.dispatchEvent(this.app.beforeInjectScriptEvent),this.app.injectionScriptMethod(e,t)}createServicerScriptElement(e,t){let i=this.app.context.document.createElement("script"),a=`MarketGidC${1456432}DisableStart`,s=`mgDisableStart${1456432}`,n=typeof this.app.context[a]<"u";n||(n=typeof this.app.context[s]<"u"),i.type=n?"text/plain":"text/javascript",i.charset="utf-8",i.referrerPolicy="strict-origin-when-cross-origin";let l=1456432;this.app.adBlockStatement&&Object.keys(this.app.childWidgetsData).some(g=>{let y=this.app.childWidgetsData[g];if(y.showMonetizationEnabled===1&&typeof y.childId<"u")return l=y.childId,this.app.requestParams.src_cid=this.app.originalId,!0});let c=e?"fs/":"",h=this.app.blocksAddress+c+l+"/"+t;if(Array.isArray(this.app.context.document.mgExceptIds)){let g=h.indexOf("?")>-1?"&":"?",y=this.app.context.document.mgExceptIds.join(",");if(h.indexOf("except_ads")>-1){let T=new RegExp("([?&])except_ads=(.*?)(&|$)","i");h=h.replace(T,"$1except_ads=$2,"+y+"$3"),h=h.replace("=,","=")}else h+=`${g}except_ads=${y}`}return i.src=h,i}getMuid(){if(!this.app.muid.length){let e="";if(this.app.isAmp())e=this.app.getCookieValue("mgMuidn");else try{this.app.context.localStorage&&(e=this.app.context.localStorage.getItem("mgMuidn"))}catch{}typeof e=="string"&&e.length&&(this.app.muid=e)}return this.app.muid}getCookieValue(e){let t="";try{let i=this.app.context.document.cookie.split("; ").filter(a=>a.indexOf(e)!==-1);i.length&&(t=i[0].split("=")[1])}catch(i){this.app.log("getCookieValue Failed","error",i)}return t}injectionScriptMethod(e,t){let i=this.app.createServicerScriptElement(e,this.app.page);if(this.app.requestParams={...this.app.requestParams,...this.app.pageViewPixelBlock.getPageDataParams()},this.app.userAgentDataParams&&(this.app.requestParams={...this.app.requestParams,...this.app.userAgentDataParams}),this.app.consentDataParams=this.app.consentsBlock.getConsentData(),this.app.consentDataParams&&(this.app.requestParams={...this.app.requestParams,...this.app.consentDataParams}),typeof this.app.context["_mgRMB"+882635]<"u"&&(this.app.requestParams.rmb=1),this.app.adBlockStatement&&(this.app.requestParams.adb=1,typeof this.app.rtbDisabled<"u"&&(this.app.requestParams.rtb_disabled=this.app.rtbDisabled)),typeof this.app.context.MGi<"u"&&(this.app.requestParams.iso=this.app.context.MGi,this.app.requestParams.token="0a9d28f235f7cff634f7bcbfa3465e1f"),this.app.sourceName!==""&&(this.app.requestParams.src_id=this.app.sourceName),typeof this.app.context["ampOptions"+1456432+"_"+this.app.uniqId]<"u")try{let g=JSON.parse(this.app.context["ampOptions"+1456432+"_"+this.app.uniqId]),y=typeof g.src_id<"u"?g.src_id:this.app.sourceName;this.app.requestParams.src_id=y}catch{}if(this.app.adBlockStatement&&(this.app.requestParams.ad="pg,r"),JSON.parse('["wages"]').indexOf("int_exchange")>=0){let g=this.app.context.document.querySelector('meta[property="og:title"]');if(this.app.context!==this.app.context.top)try{g=this.app.context.parent.document.querySelector('meta[property="og:title"]')}catch{}g&&(this.app.requestParams.ogtitle=encodeURIComponent(g.getAttribute("content")))}this.app.uniqId!==""&&(this.app.requestParams.uniqId=this.app.uniqId),this.app.getActiveChilds().length&&(this.app.requestParams.childs=this.app.getActiveChilds().join(",")),t&&(this.app.requestParams.rsh=t,this.app.requestParams.initial_composite=this.app.id,t===2&&this.app.getExceptAds().length&&(this.app.requestParams.except_ads=this.app.getExceptAds().join(","))),Array.isArray(this.app.context._mgExceptAds)&&this.app.context._mgExceptAds.length&&(this.app.requestParams.except_ads=this.app.context._mgExceptAds.join(",")),this.app.gptOptions?.backfill&&!this.app.adBlockStatement&&(this.app.requestParams.gpt=1),typeof this.app.context.MG_setRequestNonPersonalizedAds<"u"&&this.app.context.MG_setRequestNonPersonalizedAds==1&&(this.app.requestParams.npa=1),this.app.getInternalIds().length&&(this.app.requestParams.exclude_int_exchange=this.app.getInternalIds().join(","));try{let g=navigator.connection||navigator.mozConnection||navigator.webkitConnection;typeof g.type<"u"&&(this.app.networkInformationType=g.type,this.app.requestParams.nit=this.app.networkInformationType),typeof g.effectiveType<"u"&&(this.app.networkInformationEffectiveType=g.effectiveType,this.app.requestParams.niet=this.app.networkInformationEffectiveType),typeof g.saveData<"u"&&(this.app.networkInformationSaveData=g.saveData?1:0,this.app.requestParams.nisd=g.saveData)}catch{}this.app.requestParams.pv=5,this.app.requestParams.lct=this.getLct(1694524916),this.app.requestParams.jsv="es6",this.app.requestParams.pageView=this.app.pageView,this.app.requestParams.dpr=this.app.getDevicePixelRatio(),this.app.requestParams.ref=encodeURIComponent(this.app.refererParam),this.app.iframePlacementType!==0&&(this.app.requestParams.iframe=this.app.iframePlacementType);let a=this.app.getMuid();a.length&&(this.app.requestParams.muid=a);let s=this.app.context?.performance.getEntriesByType?.("navigation")[0]?.responseEnd,n=this.app.context?.performance.now?.(),l=Math.round(n-s);typeof l=="number"&&!isNaN(l)&&(this.app.requestParams.tfre=l);let c=[];for(let g in this.app.requestParams)c.push(`${g}=${this.app.requestParams[g]}`);if(typeof this.app.globalSettings.retention_tool_widget_utm=="string"&&this.app.globalSettings.retention_tool_widget_utm.length&&!this.app.isAmp()){let g=this.app.globalSettings.retention_tool_widget_utm,T=(this.app.pageUrl||this.app.context.location.href||"").split("&").filter(b=>b.indexOf(g)!==-1).slice(0,1).join("");T=T.substring(T.indexOf(g)),T&&c.push(T)}let h=i.src;h.indexOf("?")==-1?h+="?":h+="&",h+=c.join("&"),i.src=h,this.app.sspPerformance&&typeof this.app.context.performance.getEntries<"u"&&(i.onload=()=>{this.app.context.performance.getEntries().map(g=>{if(g.name===h){let y=Math.ceil(g.responseEnd-g.startTime);this.app.request.pixel("widgetSspPerformance",this.app.webProtocol+"//c.mgid.com/widget-ssp-performance",{time:`time=${y}`},{})}})}),this.app.context.document.head.appendChild(i),i.onerror=()=>{this.app.isAdblock=!0}}getActiveChilds(){return JSON.parse("[1488793]")}addClickHandler(e,t){this.app.clickHandlers.push({handler:e,priority:t}),this.app.clickHandlers.sort(function(i,a){return i.priority<a.priority?-1:1})}widgetClickHandler(e){e||(e=this.app.context.event),e.target||(e.target=e.srcElement);let t=e.target;if(t.tagName!=="A"){t=this.app.getParentLink(t);let i=!1;if("which"in e?i=e.which===3:"button"in e&&(i=e.button===2),!t&&!i){let a=this.app.getParentElWithClass(e.target,"text-elements");if(a){let s=e.target.getElementsByTagName("A");s[0]?t=s[0]:(s=a.getElementsByTagName("A"),s[0]&&(t=s[0]))}if(t){t.click();return}}}if(!!t&&!(!t.hasAttribute("data-hash")&&!t.classList.contains("mg-close-action")))for(let i=0;i<this.app.clickHandlers.length;i++)try{if(!this[this.app.clickHandlers[i].handler](t,e))return}catch(a){this.app.log("Click Handler name: "+this.app.clickHandlers[i].handler+", error: ","error",a)}}start(){this.app.root&&this.app.countLoadBlocks==0&&this.app.injectScript(!1)}defaultComposite(e){}addEvent(e,t,i){e.addEventListener?(t==="touchstart"||t==="touchmove")&&this.app.isPassiveSupported()?e.addEventListener(t,i.bind(this),{passive:!0}):e.addEventListener(t,i.bind(this),!1):e.attachEvent("on"+t,i.bind(this))}removeEvent(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)}getMainCssSelector(){return"#"+(this.app.realRoot?this.app.realRoot.id:this.app.root.id)}doubleClickHandler(e,t){t=parseInt(t|0);let i=e.getAttribute("data-hash"),a={checkId:"checkId="+this.app.doubleClickCheckId,cid:"cid="+this.app.getWidgetValue("id",1456432),gb_uid:"gb_uid="+this.app.getWidgetValue("goodsPartUid",57788356),h2:"h2="+this.app.servicerData.h2,hash:"hash="+i,percent:"percent="+this.app.doubleClickPercent,type:"type="+this.app.doubleClickType,url:"url="+encodeURIComponent(e),uuid:"uuid="+this.app.servicerData.rid};t&&(a.isOut="isOut="+t),this.app.request.pixel("doubleclick",this.app.webProtocol+"//c.mgid.com/doubleclick",a,{})}adBlockDetect(){if(this.adblockDetectResult===null){let e={ABP_NOT_DETECTED:0,ABP_DETECTED:1},t=["banner_ad","sponsored_ad"],i=l=>{let c=this.app.context.document.createElement("div");return c.className=l,c.style.setProperty("display","block","important"),c.style.setProperty("padding","1px","important"),c.style.visibility="hidden",c.style.position="absolute",c.innerHTML=".",this.app.context.document.body.appendChild(c),c},a=l=>!l.offsetHeight,s=l=>{let c,h=l.length,g;for(c=0;c<h;c++){g=i(l[c]);let y=a(g);if(this.app.context.document.body.removeChild(g),y)return!0}return!1},n=l=>s(l)?e.ABP_DETECTED:e.ABP_NOT_DETECTED;this.adblockDetectResult=n(t)}return this.adblockDetectResult}isShadowRoot(){try{return typeof this.app.root.getRootNode<"u"&&this.app.root.getRootNode().host}catch{return!1}}canUseShadowDom(){let e=this.app.root.parentNode;return Boolean(e&&e.id.indexOf("ScriptRoot")>0&&typeof e.attachShadow=="function")}getRoot(){return this.app.isShadowRoot()?this.app.root.getRootNode().host:this.app.root.parentElement}generatePvid(){return new Date().getTime().toString(16)+(Math.round(Math.random()*1e9)+2147483648).toString(16)}getLct(e){return e-e%86400}isAmp(){return typeof this.app.context.context<"u"&&typeof this.app.context.context.data<"u"&&typeof this.app.context.context.data.widget<"u"?!0:typeof this.app.context["boundingClientRect"+1456432]<"u"&&typeof this.app.context["intersectionRect"+1456432]<"u"}isIframe(){try{return this.app.context.self!==this.app.context.top}catch{return!0}}startMgqwp(){typeof this.context._mgwqp<"u"?setTimeout(()=>{this.context._mgwqp()},0):setTimeout(()=>{this.startMgqwp()},50)}htmlEntities(e){return String(typeof e<"u"?e:"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}getRenderer(e){return e.indexOf("data-template-schema")===-1?this.app.renderClassicBlock:this.app.renderSchematicBlock}}});var vr={};ye(vr,{NavigatorAgentDataBlock:()=>yr});var Ui,yr,br=ne(()=>{S();_();k();C();I();D();E();ge();(function(r){r.architecture="scua",r.bitness="scub",r.brands="scu",r.fullVersionList="scufvl",r.mobile="scum",r.model="scumd",r.platform="scup",r.platformVersion="scupv",r.uaFullVersion="scufv",r.wow64="scuw"})(Ui||(Ui={}));yr=class extends ${constructor(e){super(e),this.name="NavigatorAgentDataBlock"}waitForUserAgentData(){return new Promise(e=>{this.app.context.navigator.userAgentData.getHighEntropyValues(Object.keys(Ui)).then(t=>{this.app.userAgentDataParams={},Object.keys(t).forEach(i=>{let a=t[i];if(typeof a=="boolean"&&(this.app.userAgentDataParams[Ui[i]]=`${encodeURIComponent(a?"?1":"?0")}`),typeof a=="string"&&a.length&&(this.app.userAgentDataParams[Ui[i]]=`${encodeURIComponent('"'+a+'"')}`),Array.isArray(a)&&a.length){let s=a.reduce((n,l,c,h)=>n+`"${l.brand}";v="${l.version}"${c!==h.length-1?", ":""}`,"");this.app.userAgentDataParams[Ui[i]]=`${encodeURIComponent(s)}`}}),e()}).catch(t=>{this.app.log(`${this.name}: waitForUserAgentData. Error: `,"error",t),e()})})}}});var Fo={};ye(Fo,{AmpRenderBlock:()=>xr});var xr,Yo=ne(()=>{S();_();k();C();I();D();E();ge();xr=class extends ${constructor(e){super(e),this.name="AmpRenderBlock",this.ampResized=[],this.app.isAmp()&&(this.addHook("afterInitHooks",this._ampRenderStart),this.addHook("afterLoadNewsHooks",this._ampResizeHook),this.addHook("beforeInitBlockHooks",this._ampPageView,1e4),this.addHook("beforePrepareCappingDataHooks",this._ampPageImp,1e4))}_ampRenderStart(){this.app.context.context.renderStart({width:this.app.precalcRect.width,height:this.app.precalcRect.height})}_ampPageView(e){typeof this.app.context.context.computeInMasterFrame<"u"?this.app.context.context.computeInMasterFrame(this.app.context,"_mgPageViewAmp"+882635,t=>{let i=this.app.context.context.pageViewId,a=localStorage.getItem("_mgPageViewAmpId"+882635)?localStorage.getItem("_mgPageViewAmpId"+882635):"";if(i===a){let s=this.app.getMostTopWindow();s["_mgPageView"+882635]=s["_mgPageView"+882635]||[],s["_mgPageView"+882635].push(s.location.pathname),s["_mgPageViewEndPoint"+882635]=s["_mgPageViewEndPoint"+882635]||[],s["_mgPageViewEndPoint"+882635].push(s.location.pathname),this.app.initServicerRequest=!1}localStorage.setItem("_mgPageViewAmpId"+882635,i),t()},()=>{}):e()}_ampPageImp(e){typeof this.app.context.context.computeInMasterFrame<"u"?this.app.context.context.computeInMasterFrame(this.app.context,"_mgPageImpAmp"+882635,t=>{let i=this.app.context.context.pageViewId,a=localStorage.getItem("_mgPageImpAmpId"+882635)?localStorage.getItem("_mgPageImpAmpId"+882635):"";if(i===a){let s=this.app.getMostTopWindow();s["_mgPageImp"+882635]=s["_mgPageImp"+882635]||[],s["_mgPageImp"+882635].push(s.location.pathname)}localStorage.setItem("_mgPageImpAmpId"+882635,i),t()},()=>{}):e()}_askAmpForResize(){let e=this.app.root.getBoundingClientRect();this.app.context.context.requestResize(e.width,e.height).then(()=>{this.ampResizeDenied=!1,this._updateSizeStatement(e.width,e.height)},()=>{this.ampResizeDenied=!0})}_ampResizeHook(){setTimeout(()=>{this._askAmpForResize()},100),typeof this.ampResizeInterval>"u"&&(this.ampResizeInterval=setInterval(()=>{let e=this.app.root.getBoundingClientRect();typeof this.ampResizeDenied<"u"&&this.ampResizeDenied?this._askAmpForResize():(Math.floor(e.width)!==this.ampResized.width||Math.floor(e.height)!==this.ampResized.height)&&this._askAmpForResize()},100))}_updateSizeStatement(e,t){this.ampResized.width=e,this.ampResized.height=t}}});var $o={};ye($o,{MgqBlock:()=>Tr});var Tr,Zo=ne(()=>{S();_();k();C();I();D();E();ge();Tr=class extends ${constructor(e){super(e),this.name="MgqBlock",this.isLongCheck=!1,this._worker=this._createWorker(),this._init()}_init(){this.app.context._mgq=this.app.context._mgq||[],typeof this.app.context._mgqp>"u"&&(this.app.context._mgqp=this._worker,this.app.context._mgqt=new Date().getTime(),this._worker())}_createWorker(){return()=>{let e=this.app.context._mgq.length,t=this.app.context._mgq.slice(0),i=0;for(let a=0;a<e;a++){let s=t[a];if(typeof this.app.context[s[0]]=="function"){try{this.app.context[s[0]].apply(this.app.context,s.slice(1))}catch(n){this.app.log("mgq error:","error",n)}this.app.context._mgq.splice(a-i,1),i++}}this.app.context._mgqi||(this.app.context._mgqi=this.app.context.setInterval(()=>{this._worker()},5)),this.isLongCheck||new Date().getTime()-this.app.context._mgqt>1e4&&(this.isLongCheck=!0,this.app.context.clearInterval(this.app.context._mgqi),this.app.context._mgqi=this.app.context.setInterval(()=>{this._worker()},100))}}}});var Xo=pe(Bs=>{"use strict";S();_();k();C();I();D();E();Object.defineProperty(Bs,"__esModule",{value:!0});Bs.ConsentsBlock=void 0;var Df=function(){function r(e,t){t===void 0&&(t=30),this.app=e,this.consentTimeout=t}return r.prototype.initTCFv2Proxy=function(){if(typeof this.app.context.__tcfapi=="function")return;this.isSearchingLocator=!0;for(var e=this.app.context,t,i={};e;){try{if(e.frames.__tcfapiLocator){t=e;break}}catch(s){this.app.log(s,"warn",s)}if(e===this.app.context.top)break;e=e.parent}if(this.isSearchingLocator=!1,!t)return;this.app.context.__tcfapi=function(s,n,l,c){var h=Math.random()+"",g={__tcfapiCall:{command:s,parameter:c,version:n,callId:h}};i[h]=l,t.postMessage(g,"*")};function a(s){var n={};try{n=typeof s.data=="string"?JSON.parse(s.data):s.data}catch(c){this.app.log(c,"warn",c)}var l=n?n.__tcfapiReturn:null;l&&typeof i[l.callId]=="function"&&i[l.callId](l.returnValue,l.success)}this.app.context.addEventListener("message",a.bind(this),!1)},r.prototype.tcfv2Api=function(e){var t=this,i=new Date().getTime(),a;return new Promise(function(s,n){var l=function(){t.app.tcfv2Enabled=!0,t.app.requestParams=t.app.requestParams||{},t.app.requestParams.tcfV2=1;try{var c=function(h,g){g&&(h.eventStatus==="tcloaded"||h.eventStatus==="useractioncomplete")?(t.app.tcfv2Data=h,t.app.context.localStorage&&t.app.context.localStorage.setItem("MG_tcfv2Data",JSON.stringify(h)),t.app.log("Consents. TCFv2 API done."),t.app.waitConsentResolver&&t.app.waitConsentResolver(),e&&setTimeout(function(){e()},0),s()):(g&&!h.gdprApplies&&(e&&setTimeout(function(){e()},0),s()),t.app.log("Consents. TCFv2 API paused."))};t.app.context.__tcfapi("addEventListener",2,c)}catch(h){t.app.log("Consents. TCFv2 API fail."),e&&setTimeout(function(){e()},0),n(h)}};t.initTCFv2Proxy(),typeof t.app.context.__tcfapi=="function"?l():a=setInterval(function(){if(new Date().getTime()-i>=t.consentTimeout*1e3){clearInterval(a),t.app.log("Consents. TCFv2 API not found. Limit time end."),e&&setTimeout(function(){e()},0),s();return}t.isSearchingLocator||t.initTCFv2Proxy(),typeof t.app.context.__tcfapi=="function"&&(clearInterval(a),l())},500)})},r.prototype.gdprApi=function(e){var t=this;return new Promise(function(i,a){var s=t.app.getMostTopWindow();if(typeof s.__cmp=="function"){t.app.cmpEnabled=!0,t.app.requestParams=t.app.requestParams||{},t.app.requestParams.tcfV1=1;try{s.__cmp("getConsentData",null,function(n){t.app.consentData=n,t.app.context.localStorage&&t.app.context.localStorage.setItem("MG_ConsentData",JSON.stringify(n)),t.app.log("Consents. TCFv1 API done."),e&&setTimeout(function(){e()},0),i()})}catch(n){e&&setTimeout(function(){e()},0),a(n)}}else e&&setTimeout(function(){e()},0),i()})},r.prototype.ccpaApi=function(e){var t=this;return new Promise(function(i,a){var s=t.app.getMostTopWindow();if(typeof s.__uspapi=="function"){t.app.uspEnabled=!0;try{s.__uspapi("getUSPData",1,function(n,l){l?(t.app.uspString=n.uspString||"",t.app.context.localStorage&&t.app.uspString!==""&&t.app.context.localStorage.setItem("MG_uspString",t.app.uspString),t.app.log("Consents. CCPA API done.")):t.app.log("Consents. CCPA API fail."),e&&setTimeout(function(){e()},0),i()})}catch(n){e&&setTimeout(function(){e()},0),a(n)}}else e&&setTimeout(function(){e()},0),i()})},r.prototype.getGdprData=function(){var e,t,i,a,s,n,l=null;if(this.app.cmpEnabled||this.app.tcfv2Enabled||this.app.isAmp())this.app.isAmp()&&this.app.context.context.initialConsentValue?l={consentData:this.app.context.context.initialConsentValue,gdprApplies:1}:((e=this.app)===null||e===void 0?void 0:e.tcfv2Data)&&typeof((t=this.app.tcfv2Data)===null||t===void 0?void 0:t.gdprApplies)<"u"&&typeof((i=this.app.tcfv2Data)===null||i===void 0?void 0:i.tcString)<"u"?l={consentData:this.app.tcfv2Data.tcString,gdprApplies:+this.app.tcfv2Data.gdprApplies}:((a=this.app)===null||a===void 0?void 0:a.consentData)&&typeof((s=this.app.consentData)===null||s===void 0?void 0:s.gdprApplies)<"u"&&typeof((n=this.app.consentData)===null||n===void 0?void 0:n.consentData)<"u"&&(l={consentData:this.app.consentData.consentData,gdprApplies:+this.app.consentData.gdprApplies});else{var c=null;try{this.app.context.localStorage&&(c=JSON.parse(this.app.context.localStorage.getItem("MG_ConsentData")||"null"),c!=null&&typeof c.gdprApplies<"u"&&typeof c.consentData=="string"&&(l={consentData:c.consentData,gdprApplies:+c.gdprApplies}),c=JSON.parse(this.app.context.localStorage.getItem("MG_tcfv2Data")||"null"),c!=null&&typeof c.gdprApplies<"u"&&typeof c.tcString<"u"&&(l={consentData:c.tcString,gdprApplies:+c.gdprApplies}))}catch(h){this.app.log("getGdprData -> "+h.message)}}return l},r.prototype.getUspData=function(){var e=null;if(this.app.uspEnabled&&this.app.uspString!=""&&typeof this.app.uspString<"u")e={uspString:this.app.uspString};else try{if(this.app.context.localStorage){var t=this.app.context.localStorage.getItem("MG_uspString");t!=null&&t!=""&&typeof t<"u"&&(e={uspString:t})}}catch(i){this.app.log("getUspData -> "+i.message)}return e},r.prototype.getConsentData=function(){var e={},t=this.getGdprData(),i=this.getUspData();return t!=null&&Object.keys(t).forEach(function(a){return e[a]=t[a]}),i!=null&&Object.keys(i).forEach(function(a){return e[a]=i[a]}),Object.keys(e).length>0?e:null},r.prototype.fetchConsents=function(){var e=this;return Promise.allSettled([this.tcfv2Api(),this.gdprApi(),this.ccpaApi()]).then(function(){return e.getConsentData()})},r}();Bs.ConsentsBlock=Df});var Sr={};ye(Sr,{ConsentsBlock:()=>wr});var Jo,wr,_r=ne(()=>{S();_();k();C();I();D();E();ge();Jo=Yi(Xo()),wr=class extends ${constructor(e){super(e),this.consentTimeout=30,this.name="ConsentsBlock",this.consentsAdapter=new Jo.ConsentsBlock(e,this.consentTimeout),this.addHook("beforeInitHooks",this.consentsAdapter.tcfv2Api.bind(this.consentsAdapter),50),this.addHook("beforeInitHooks",this.consentsAdapter.gdprApi.bind(this.consentsAdapter),50),this.addHook("beforeInitHooks",this.consentsAdapter.ccpaApi.bind(this.consentsAdapter),50)}getConsentData(){let e=this.consentsAdapter.getConsentData();return(!e||!e.gdprApplies)&&typeof this.app.context._mgGdprApplies<"u"&&(e=e||{},e.gdprApplies=this.app.context._mgGdprApplies),(!e||!e.consentData)&&typeof this.app.context._mgConsentData<"u"&&(e=e||{},e.consentData=this.app.context._mgConsentData),e}waitConsent(e){let t=!1,i=()=>{t||(t=!0,typeof this.app.requestParams.nocmp<"u"&&delete this.app.requestParams.nocmp,this.app.injectScript(!1))};this.waitConsentResolve().then(()=>{this.app.log(`${this.name}: Wait consent resolve.`),i()}),setTimeout(()=>{this.app.log(`${this.name}: Wait consent limit time end.`),i()},e*1e3)}hasStorageConsent(){let e=!1;try{this.app.context.localStorage&&(e=!!this.app.context.localStorage.getItem("MG_tcfv2Data"))}catch{this.app.log(`${this.name}: localStorage not found.`)}return e}async waitConsentResolve(){return new Promise(e=>{this.app.waitConsentResolver=e})}}});var Ko={};ye(Ko,{RequestBlock:()=>kr});var kr,Qo=ne(()=>{S();_();k();C();I();D();E();ge();kr=class extends ${pixel(e,t,i,a){this._send(e,t,i,a,(s,n)=>{this._imgRequest(s,n)})}beacon(e,t,i,a){this._send(e,t,i,a,(s,n,l)=>{if(typeof navigator.sendBeacon=="function")try{navigator.sendBeacon(n),this.app.log(`Request beacon ${s} started`)}catch(c){this.app.log(`Request beacon ${s} error: `,"error",c),this._imgRequest(s,n)}else this._imgRequest(s,n)})}beaconBlob(e,t,i,a){this._send(e,t,{},a,(s,n,l)=>{if(typeof navigator.sendBeacon=="function")try{navigator.sendBeacon(n,i),this.app.log(`Request beaconBlob ${s} started`)}catch(c){this.app.log(`Request beaconBlob ${s} error: `,"error",c),this._xhrRequest(s,n,"POST",i)}else this._xhrRequest(s,n,"POST",i)})}script(e,t,i,a){this._send(e,t,i,a,(s,n)=>{let l=this.app.context.document.createElement("SCRIPT");l.src=n,l.type="text/javascript",l.async=!0,a.charset&&(l.charset=a.charset),a.onerror&&(l.onerror=a.onerror),a.dest?(a.dest.appendChild(l),this.app.log(`Request script ${s} started`)):this.app.log(`Request script ${s} failed - options.dest is undefined!`,"warn")})}_prepareUrl(e,t){this.app.consentDataParams=this.app.consentsBlock.getConsentData(),this.app.consentDataParams&&e.indexOf("/vz")==-1&&Object.keys(this.app.consentDataParams).forEach(a=>{let s=this.app.consentDataParams[a];e.indexOf(a)===-1&&(t[a]=`${a}=${s}`)});let i=[];for(let a of Object.keys(t))(t[a][0]==="?"||t[a][0]==="&")&&(t[a]=t[a].substring(1)),i.push(t[a]);return i.length&&(e.slice(-1)!=="?"&&e.slice(-1)!=="&"&&(e+=e.indexOf("?")===-1?"?":"&"),e+=i.join("&")),e}_send(e,t,i,a,s){if(a.unique){if(this.app.context._mgRequests=this.app.context._mgRequests||{},this.app.context._mgRequests[e]){this.app.log(`Request ${e} stopped - already defined on page`,"warn");return}this.app.context._mgRequests[e]=!0}t=this._prepareUrl(t,i),s(e,t,a)}_imgRequest(e,t){let i=this.app.context.document.createElement("IMG");i.referrerPolicy="strict-origin-when-cross-origin",i.src=t,i.onerror=()=>this.app.log(`Request image ${e} load error`,"error"),this.app.log(`Request image ${e} started`)}_xhrRequest(e,t,i,a){let s=new XMLHttpRequest;s.open(i,t,!0),s.onerror=()=>this.app.log(`Request XHR ${e} load error`),s.send(a),this.app.log(`Request image ${e} started`)}}});var el={};ye(el,{ContextBlock:()=>Cr});var Cr,tl=ne(()=>{S();_();k();C();I();D();E();ge();Cr=class extends ${constructor(e){super(e),this.topmostWindowAccessible=null,this.name="ContextBlock"}getTopmostWindowAccessible(){if(!this.topmostWindowAccessible)try{for(let e=this.app.context;e.document&&(this.topmostWindowAccessible=e,e!=e.top);e=e.parent);}catch{}return this.topmostWindowAccessible}parseUrl(e){let t=document.createElement("A");t.href=e;let i=t.search.replace(/^\?/,"").split("&"),a=[];for(let n of i)if(n!==""){let l=n.split("=");a.push({key:l[0],value:typeof l[1]<"u"?l[1]:""})}let s=t.pathname;return s===""&&(s="/"),s.charAt(0)!=="/"&&(s="/"+t.pathname),{protocol:t.protocol,host:t.host,pathname:s,search:t.search,hash:t.hash,parsedParams:a}}composeUrl(e){return e.protocol+"//"+e.host+e.pathname+e.search+e.hash}stripAmpParts(e){let t=e,i=this.parseUrl(e),a="cdn.ampproject.org";if(i.host.indexOf(a)>0&&i.host.indexOf(a)===i.host.length-a.length){let s=i.pathname.split("/");if(typeof s[1]<"u"&&(s[1]==="c"||s[1]==="v"||s[1]==="wp")){let n=!1;typeof s[2]<"u"&&s[2]==="s"&&(n=!0),t=(n?"https":"http")+"://";let l=0;for(let c of s)c!==""&&c!=="c"&&c!=="v"&&c!=="wp"&&c!=="s"&&(t+=(l++!==0?"/":"")+c);t+=i.search+i.hash}else(typeof s[1]>"u"||s[1]==="")&&(t=t.replace("."+a,"").replace("-","."))}return t}contextUriSanitize(e){if(e){e=this.stripAmpParts(e);let t=this.parseUrl(e);this.app.context._mgCanonicalUri=this.composeUrl(t)}return this.app.context._mgCanonicalUri}contextUriParse(){if(!this.app.context._mgCanonicalUri){this.app.context._mgCanonicalUri="";try{let e=this.getTopmostWindowAccessible(),t="",i=e.document.querySelector('meta[property="og:url"]');if(i&&i.getAttribute("content")&&i.getAttribute("content").indexOf("http")!==-1)t=i.getAttribute("content");else{let a=e.document.querySelector("link[rel='canonical']");a&&a.getAttribute("href")&&a.getAttribute("href").indexOf("http")!==-1&&(t=a.getAttribute("href"))}if(t===""){switch(this.app.iframePlacementType){case 0:t=this.app.pageUrl;break;case 1:t=this.app.pageUrl;break;case 2:t=this.app.refererUrl;break;case 3:try{t=this.app.context.context.canonicalUrl}catch{}t||(t=this.app.pageUrl!==""?this.app.pageUrl:this.app.refererUrl);break}this.contextUriSanitize(t)}else this.app.context._mgCanonicalUri=t}catch{}}return this.app.context._mgCanonicalUri}}});var il={};ye(il,{PageViewPixelBlock:()=>Ir});var Ir,al=ne(()=>{S();_();k();C();I();D();E();ge();Ir=class extends ${constructor(e){super(e),this.name="PageViewPixelBlock",this.sendPageViewPixel()}sendPageViewPixel(){this.w=this.app.getMostTopWindow();let e=this.w.location.pathname;this.w["_mgPageViewEndPoint"+882635]=this.w["_mgPageViewEndPoint"+882635]||[];let t=this.w["_mgPageViewEndPoint"+882635],i=this.app.globalSettings?.ia_page_view_timeout||180,a=0,s=0;try{this.app.context.localStorage&&(a=Number(this.app.context.localStorage.getItem("_mgPageViewEndPoint"+882635)),s=Number(this.app.context.localStorage.getItem("_mgPvidTime")),new Date().getTime()-s>i*1e3&&this.app.context.localStorage.setItem("_mgPvid",this.app.generatePvid()))}catch{}if(new Date().getTime()-a>i*1e3&&Array.isArray(t)&&t.indexOf(e)===-1){t.push(e);let n=this.getPageViewPixelParams(),l={};for(let c in n)l[c]=`${c}=${n[c]}`;this.app.initServicerRequest&&this.app.request.pixel("pageView",this.app.webProtocol+"//c.mgid.com/pv/",l,{})}this.app.initServicerRequest=!1}getPageDataParams(){let e={};this.setPageData(),this.setRefererData();try{if(!sessionStorage.MG_Session_lastUpdate||Number(sessionStorage.MG_Session_lastUpdate)+30*60*1e3<Date.now()){let t=this.app.refererUrl.match(/:\/\/([^\/:]+)/i);sessionStorage.MG_Session_pr=t&&t[1]?t[1]:"",sessionStorage.MG_Session_lu=this.app.pageUrl}sessionStorage.MG_Session_lastUpdate=Date.now(),sessionStorage&&sessionStorage.MG_Session_pr&&(e.pr=encodeURIComponent(sessionStorage.MG_Session_pr)),sessionStorage&&sessionStorage.MG_Session_lu&&(e.lu=encodeURIComponent(sessionStorage.MG_Session_lu))}catch{}return e.cbuster=this.app.getCbusterParameter(),e.pvid=this.app.pvid,this.app.context["isFBIA"+1456432]?e.implVersion=14:this.app.isAmp()?e.implVersion=12:this.app.versionWidget&&(e.implVersion=this.app.versionWidget),e.cxurl=encodeURIComponent(this.app.contextBlock.contextUriParse()),e}setPageData(){this.app.pageView=0;let e=!1;try{e=!!this.app.context["isFBIA"+1456432]&&!!this.app.context.localStorage}catch{}if(this.app.pvid||(this.app.pvid=this.app.generatePvid()),e){let t=this.app.context.localStorage.getItem("_mgPageView"+882635),i=this.app.globalSettings.ia_page_view_timeout||180;(!t||new Date().getTime()-parseInt(t)>i*1e3)&&!this.app.initServicerRequest&&(this.app.context.localStorage.setItem("_mgPageView"+882635,new Date().getTime().toString()),this.app.pageView=1),this.app.initServicerRequest&&(this.app.context.localStorage.setItem("_mgPageViewEndPoint"+882635,new Date().getTime().toString()),this.app.context.localStorage.setItem("_mgPvidTime",new Date().getTime().toString()),this.app.pageView=1);let a=this.app.context.localStorage.getItem("_mgPvid");a&&(this.app.pvid=a)}else{let t=this.w.location.pathname;this.w["_mgPageView"+882635]=this.w["_mgPageView"+882635]||[];let i=this.w["_mgPageView"+882635];this.w["_mgPageViewEndPoint"+882635]=this.w["_mgPageViewEndPoint"+882635]||[];let a=this.w["_mgPageViewEndPoint"+882635];this.w._mgPvidList=this.w._mgPvidList||[];let s=this.w._mgPvidList;Array.isArray(i)&&i.indexOf(t)===-1&&!this.app.initServicerRequest&&(i.push(t),this.app.pageView=1),Array.isArray(a)&&a.indexOf(t)===-1&&this.app.initServicerRequest&&(a.push(t),this.app.pageView=1),typeof this.w._mgPvid<"u"&&(this.app.pvid=this.w._mgPvid),Array.isArray(s)&&s.indexOf(t)===-1&&(s.push(t),this.app.pvid=this.app.generatePvid(),this.w._mgPvid=this.app.pvid)}}setRefererData(){let e=this.app.isIframe(),t=!0,i=!1,a=this.app.context,s=this.app.context;if(e)for(;;){try{a.frameElement&&a.frameElement.src!=""&&(t=!1),a.document.body}catch{a=s,i=!0,t=!1;break}if(a==a.parent)break;s=a,a=a.parent}try{this.app.isAmp()?(this.app.iframePlacementType=3,this.app.pageUrl=typeof this.app.context.context.sourceUrl<"u"?this.app.context.context.sourceUrl:"",this.app.refererUrl=typeof this.app.context.context.referrer<"u"?this.app.context.context.referrer:"",this.app.pageUrl!=""?this.app.refererParam=this.app.pageUrl:this.app.refererParam=this.app.refererUrl):(this.app.pageUrl=a.document.location.href,this.app.refererUrl=a.document.referrer||"",this.app.refererParam=this.app.refererUrl,e&&!t&&(i?this.app.iframePlacementType=2:(this.app.refererParam=this.app.pageUrl,this.app.iframePlacementType=1)))}catch{this.app.iframePlacementType=2}}getPageViewPixelParams(){let e={...this.getPageDataParams(),site:882635,i:1};return this.app.userAgentDataParams&&(e={...e,...this.app.userAgentDataParams}),e}}});var sl={};ye(sl,{UtilsBlock:()=>Dr});var Dr,rl=ne(()=>{S();_();k();C();I();D();E();ge();Dr=class extends ${constructor(e){super(e),this.isMobileResult=null,this.name="UtilsBlock"}getScroll(){let e=this.getWindow();return{top:e.document.body.scrollTop||e.document.documentElement.scrollTop||0,left:e.document.body.scrollLeft||e.document.documentElement.scrollLeft||0}}getViewportSize(){let e=this.getWindow();return{width:e.innerWidth||e.document.documentElement.clientWidth,height:e.innerHeight||e.document.documentElement.clientHeight}}getRect(e,t){let i=e.getBoundingClientRect(),a={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height?i.height:i.bottom-i.top,width:i.width?i.width:i.right-i.left};if(this.app.context.self!==this.app.context.top){let s=this.getFrame();if(s){let n=s.getBoundingClientRect();a.top+=n.top,a.bottom+=n.top,a.left+=n.left,a.right+=n.left}}if(t){let s=this.getScroll();a.top+=s.top,a.bottom+=s.top,a.left+=s.left,a.right+=s.left}return a}getWindow(){let e;if(typeof e>"u"){let t=this.app.context;if(this.app.context.parent!=this.app.context.self)try{typeof this.app.context.top.document<"u"&&(t=this.app.context.top)}catch{}e=t}return e}getFrame(){let e;try{let t;for(let i=this.app.context;i.frameElement;i=i.parent)t=i.frameElement;e=t}catch{e=null}return e}isMobile(){if(this.isMobileResult===null){let e=!1;(function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)})(navigator.userAgent||navigator.vendor||window.opera),this.isMobileResult=e}return this.isMobileResult}isTablet(){let e=(navigator.userAgent||navigator.vendor||window.opera).toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)}generateHash(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}isChromeWebView(){let e=["WebView","Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"],t=new RegExp("("+e.join("|")+")","ig");return!!navigator.userAgent.match(t)}isSupportES6(){try{return new Function("async (x = 0) => x; try {const x=window?.x;} catch {};"),!0}catch{return!1}}}});var Os,nl=ne(()=>{S();_();k();C();I();D();E();Os=class{constructor(e,t){if(this.additionalWidgets=t,this.mainWidgetJstSrc=e,this.additionalWidgets.length)for(let i=0;i<this.additionalWidgets.length;i++)setTimeout(()=>{this._init(this.additionalWidgets[i])},0)}_init(e){let t=this._createWidgetDiv(e.id),i=this._createWidgetScript(e.id);this._waitForElement(e.selector).then(a=>{this._insertWidgetBlock(a,t),this._insertWidgetScript(i)})}_createWidgetDiv(e){let t=document.createElement("div"),i=document.createElement("div"),a=`M${882635}ScriptRootC${e}`;return t.classList.add(`${a}-additional`),i.id=a,t.appendChild(i),t}_createWidgetScript(e){let t=document.createElement("script");return t.src=this.mainWidgetJstSrc.replace(1456432,e.toString()),t.async="async",t}_insertWidgetBlock(e,t){window._mgAdditionalPage?e.appendChild(t):e.parentElement.insertBefore(t,e)}_insertWidgetScript(e){document.head?document.head.appendChild(e):document.body.appendChild(e)}_waitForElement(e){return new Promise(t=>{if(document.querySelector(e))return t(document.querySelector(e));let i=new MutationObserver(()=>{document.querySelector(e)&&(t(document.querySelector(e)),i.disconnect())});i.observe(document.body,{childList:!0,subtree:!0})})}}});var ol={};ye(ol,{BackButtonBlock:()=>Er});var ve,Er,ll=ne(()=>{S();_();k();C();I();D();E();ge();nl();(function(r){r.startedPage="mg-started-page",r.additionalPage="mg-additional-page",r.container="mg-additional-container",r.header="mg-additional-header",r.headerAdded="mg-header-added",r.popup="mg-additional-popup",r.popupInner="mg-additional-popup-inner",r.popupText="mg-additional-popup-text",r.popupTriangle="mg-additional-popup-triangle",r.popupCloseBtn="mg-additional-popup-close-btn",r.popupAdded="mg-popup-added",r.popupShowed="mg-popup-showed",r.popupClosed="mg-popup-closed"})(ve||(ve={}));Er=class extends ${constructor(e){super(e),this.startedPage="_mgStartedPage",this.additionalPage="_mgAdditionalPage",this.storageStartUrl="_mgStartUrl",this.storagePopupCloseTime="_mgPopupCloseTime",this.name="BackButtonBlock",this.options=JSON.parse('{"display":[{"type":"banner","options":{"text":"M\\u00e1s historias que te pueden interesar","bg_color":"#0058cd","text_color":"#ffffff"}},{"type":"header","options":{"selector":".wrapper__content-header"}}],"filters":[{"type":"device","value":["desktop","tablet","mobile","smarttv"]}],"widget_id":1457674}'),this.widgetId=Number(this.options?.widget_id),this.widgetId&&(this.siteBody=this.app.context.document.body,this.widgetContainerSelector=`M${882635}ScriptRootC${this.widgetId}-additional`,this.pointerHandler=this.pointerHandler.bind(this),this.hasFilters=!!this.options?.filters?.length,this.hasFilters?this.addHook("beforeLoadNewsHooks",this.init):this.init())}init(){if(this.hasFilters&&!this.isFiltersChecked()){this.app.log(`${this.name}: the block didn't pass the filtering conditions.`);return}let e,t=300*1e3,i=new Date().getTime(),a=null;this.app.context?.performance?.getEntriesByType("navigation")?.length?a=this.app.context.performance.getEntriesByType("navigation")[0]:this.app.context?.performance?.timing&&(a=this.app.context.performance.timing),e=setInterval(()=>{if(new Date().getTime()-i>=t){clearInterval(e),this.app.log(`${this.name}: didn't load, too long page loading process.`);return}a?.loadEventEnd&&a.loadEventEnd>0&&(clearInterval(e),this.startEvents())},100)}startEvents(){let e=this.app.context.history.state,t=this.getStartedUrl(),i=this.app.context.document.location.href;t===i&&this.isObject(e)&&e.hasOwnProperty(this.additionalPage)&&typeof this.app.context[this.additionalPage]>"u"&&(this.app.context[this.additionalPage]=!0,this.buildAdditionalPage(),this.showAdditionalPage()),typeof this.app.context.onpointerdown>"u"?this.initialEvent="click":this.initialEvent="pointerdown",this.siteBody.addEventListener(this.initialEvent,this.pointerHandler),this.app.context.addEventListener("popstate",this.popstateHandler.bind(this))}isFiltersChecked(){let e=!0,t=this.options.filters.filter(s=>s.type==="traffic_type")[0]?.value;if(e&&t?.length&&typeof this.app.servicerData.tt<"u"){let s=this.app.servicerData.tt.toLowerCase();s.length?e=t.some(n=>n.toLowerCase()===s):e=!1}let i=this.options.filters.filter(s=>s.type==="traffic_source")[0]?.value;if(e&&i?.length&&typeof this.app.servicerData.ts<"u"){let s=this.app.servicerData.ts.toLowerCase();s.length?e=i.some(n=>n.toLowerCase().indexOf(s)!==-1):e=!1}let a=this.options.filters.filter(s=>s.type==="device")[0]?.value;if(e&&a?.length&&typeof this.app.servicerData.dt<"u"){let s=this.app.servicerData.dt.toLowerCase();s.length?e=a.some(n=>n.toLowerCase()===s):e=!1}return e}pointerHandler(){if(this.siteBody.removeEventListener(this.initialEvent,this.pointerHandler),!this.getStartedUrl()){let t=this.app.context.document.location.href;this.app.context?.sessionStorage.setItem(this.storageStartUrl,t),this.pushHistoryState()}}popstateHandler(e){let t=e.target?.history?.state||e.state,i=this.getStartedUrl(),a=this.app.context.document.location.href,s=t===null||t===""||this.isObject(t)&&!t.hasOwnProperty(this.startedPage);i===a&&s&&typeof this.app.context[this.additionalPage]>"u"&&(this.app.context[this.additionalPage]=!0,this.replaceHistoryState(),this.buildAdditionalPage(),this.showAdditionalPage()),this.isObject(t)&&(i!==a&&!t.hasOwnProperty(this.additionalPage)&&!t.hasOwnProperty(this.startedPage)&&this.showRegularPage(),t.hasOwnProperty(this.startedPage)&&this.showStartedPage(),t.hasOwnProperty(this.additionalPage)&&this.showAdditionalPage())}pushHistoryState(){let e=this.app.context.history.state,t={[this.startedPage]:!0},i=this.app.context.document.location;if(e===null||e==="")(this.isIosFBWebview()||this.isFBAndroid())&&!i.hash?this.app.context.history.pushState(t,"",i.href+"#"+this.app.utils.generateHash()):this.app.context.history.pushState(t,"","");else if(this.isObject(e)){let a={...e,...t};(this.isIosFBWebview()||this.isFBAndroid())&&!i.hash?this.app.context.history.pushState(a,"",i.href+"#"+this.app.utils.generateHash()):this.app.context.history.pushState(a,"","")}else this.app.log(`${this.name}: client also uses history.state and its not an object, so module will not work.`)}replaceHistoryState(){let e=this.app.context.history.state,t={[this.additionalPage]:!0};e===null?this.app.context.history.replaceState(t,"",""):this.isObject(e)?this.app.context.history.replaceState({...e,...t},"",""):this.app.log(`${this.name}: client also uses history.state and its not an object, so module will not work.`)}buildAdditionalPage(){let e=this.options?.display?.some(s=>s.type==="header"),t=this.options?.display?.some(s=>s.type==="banner"),i=document.createElement("div");i.classList.add(ve.container),i.style.display="none",this.siteBody.appendChild(i),this.styles=`
      body.${ve.additionalPage} > *:not(.${ve.container}) {
        display: none !important;
      }
      body.${ve.additionalPage} .${ve.container} {
        display: block !important;
      }
      body.${ve.startedPage} .${ve.container} {
        display: none !important;
      }
      body.${ve.additionalPage} {
        padding-top: 0 !important;
        margin-top: 0 !important;
        transform: none !important;
      }
      .${ve.container} {
        display: none;
        margin: 0 auto;
        box-sizing: border-box;
        padding: 15px 10px;
        width: 100%;
        max-width: 1100px;
        background: #fff;
      }
    `,e&&this.insertHeader(i),t&&this.insertPopup(i),this.addingStyles(i);let a=this.app.utils.isSupportES6()?"https://jsc.mgid.com/l/i/libero.pe.1456432.es6.js":"https://jsc.mgid.com/l/i/libero.pe.1456432.es5.js";new Os(a,[{selector:`.${ve.container}`,id:this.widgetId}])}insertHeader(e){let t=this.options.display.filter(a=>a.type==="header")[0]?.options?.selector||"header",i=this.app.context.document.querySelector(t);if(i){let a=getComputedStyle(i),s=i.cloneNode(!0);s.classList.add(ve.header),e.classList.add(ve.headerAdded),e.appendChild(s),this.styles=this.styles+`
        .${ve.container}.${ve.headerAdded} {
          padding: 0 !important;
        }
        .${ve.header} {
          margin-bottom: 10px !important;
          z-index: 9999999 !important;
        }
        .${ve.container}.${ve.headerAdded} div[class=${this.widgetContainerSelector}] {
          padding: 0 10px;
          box-sizing: border-box;
        }
      `,!this.app.utils.isMobile()&&!this.app.utils.isTablet()&&(e.style.maxWidth=a.width),a.position==="fixed"&&(s.style.maxWidth="100%",s.style.top="0px",s.style.zIndex="9999999",e.style.setProperty("padding-top",a.height,"important"))}}insertPopup(e){let t=this.app.context?.localStorage.getItem(this.storagePopupCloseTime),i=24*60*60*1e3,a=t&&new Date().getTime()-Number(t)>=i;if(!t||a){let s=this.options.display.filter(y=>y.type==="banner")[0]?.options,n=s?.bg_color||"#0279f5",l=s?.text_color||"#ffffff",c=s?.text||this.app.getTranslation("[INFORMER_BACK_BUTTON_BANNER_TEXT]"),h=document.createElement("div");h.classList.add(ve.popup),e.classList.add(ve.popupAdded),h.innerHTML=`
        <div class="${ve.popupInner}">
          <div class="${ve.popupText}">${c}</div>
          <div class="${ve.popupTriangle}"></div>
          <div class="${ve.popupCloseBtn}">
            <svg width="11" height="11" viewBox="0 0 11 11">
              <path fill="${l}" fill-rule="evenodd" d="M10.34.038L5.5 4.878.66.038.038.66l4.84 
              4.84-4.84 4.84.622.622 4.84-4.84 4.84 4.84.622-.622-4.84-4.84 4.84-4.84z"></path>
            </svg>
          </div>
        </div>
      `,e.appendChild(h),this.styles=this.styles+`
        .${ve.popup} {
          display: block;
          margin: 0 auto;
          width: 100%;
          height: 50px;
          overflow: hidden;
          position: relative;
          z-index: 999999;
        }
        .${ve.popupInner} {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin: 0 auto;
          width: 100%;
          height: 40px;
          text-align: center;
          transition: all 0.7s ease;
          opacity: 0;
          transform: translateY(-150px);
          background: ${n};
        }
        .${ve.popup}.${ve.popupShowed} .${ve.popupInner} {
          transform: translateY(0px);
          opacity: 1;
        }
        .${ve.popup}.${ve.popupClosed} .${ve.popupInner} {
          display: none;
        }
        .${ve.popup}.${ve.popupClosed} {
          z-index: -1;
        }
        .${ve.popupText} {
          box-sizing: border-box;
          padding: 10px;
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-family: Helvetica, Arial, sans-serif;
          font-size: 16px;
          line-height: 1;
          font-weight: 400;
          color: ${l};
        }
        .${ve.popupTriangle} {
          display: block;
          position: absolute;
          bottom: -10px;
          left: 50%;
          transform: translateX(-50%);
          width: 0;
          height: 0;
          border-left: 12px solid transparent;
          border-right: 12px solid transparent;
          border-top: 12px solid;
          color: ${n};
        }
        .${ve.popupCloseBtn} {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 15px;
          height: 15px;
          margin-right: 10px;
          color: ${l};
          cursor: pointer;
        }
        .${ve.container}.${ve.popupAdded} div[class=${this.widgetContainerSelector}] {
          margin-top: -40px;
        }
        @media (max-width: 480px) {
          .${ve.popupText} {
            font-size: 13px;
          }
        }
      `;let g=this.app.context.document.querySelector(`.${ve.popupCloseBtn}`);g&&this.app.addEvent(g,"click",()=>{h.classList.add(ve.popupClosed),this.app.context?.localStorage.setItem(this.storagePopupCloseTime,String(new Date().getTime()))}),this.showPopup(e,h)}}showPopup(e,t){let i,s=new Date().getTime();i=setInterval(()=>{if(new Date().getTime()-s>=6e4){clearInterval(i),this.app.log(`${this.name}: additional widget didn't load, don't show Popup too.`);return}let n=e.querySelector(`div[class=${this.widgetContainerSelector}]`);if(n&&n.children.length){let l=n.children[0],c,h;l.shadowRoot&&l.shadowRoot.children.length?c=l.shadowRoot.children:l.children.length&&(c=l.children),c?.length&&[].slice.call(c).forEach(g=>{g.getElementsByClassName("mgbox")[0]&&(h=g.getElementsByClassName("mgbox")[0])}),h&&(clearInterval(i),t.style.maxWidth=getComputedStyle(h).width,t.classList.add(ve.popupShowed),this.app.context.addEventListener("resize",()=>{t.style.maxWidth=getComputedStyle(h).width}))}},100)}addingStyles(e){let t=document.createElement("style");t.setAttribute("id","mgAdditionalStyles"),t.appendChild(document.createTextNode(this.styles)),e.appendChild(t)}showAdditionalPage(){this.siteBody.classList.remove(ve.startedPage),this.siteBody.classList.add(ve.additionalPage)}showStartedPage(){this.siteBody.classList.remove(ve.additionalPage),this.siteBody.classList.add(ve.startedPage)}showRegularPage(){this.siteBody.classList.remove(ve.startedPage),this.siteBody.classList.remove(ve.additionalPage)}getStartedUrl(){return this.app.context?.sessionStorage.getItem(this.storageStartUrl)}isObject(e){return e!==null&&e.constructor===Object}isIosFBWebview(){let e=this.app.context.navigator.userAgent.toLowerCase();return e.indexOf("apple")>-1&&e.indexOf("iphone")>-1&&e.indexOf("webkit")>-1&&(e.indexOf("fban")>-1||e.indexOf("fbav")>-1)&&e.indexOf("safari")===-1&&e.indexOf("firefox")===-1&&e.indexOf("chrome")===-1}isFBAndroid(){let e=this.app.context.navigator.userAgent||this.app.context.navigator.vendor||this.app.context.opera;return(e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1)&&e.indexOf("Android")>-1}}});var pl={};ye(pl,{MainBlock:()=>Pr});var Pr,dl=ne(()=>{S();_();k();C();I();D();E();ge();bt();Pr=class extends ${constructor(e){super(e),this.cappingRealShowTime=0,this.widgetRealShowTime=0,this.name="MainBlock",this.addHook("beforeInitHooks",()=>{this.app.addEvent(this.app.root,"mousemove",t=>{this.app.root.mouseX=t.pageX-this.app.root.offsetLeft,this.app.root.mouseY=t.pageY-this.app.root.offsetTop})}),this.setAppFunctions(),this.addHook("afterPrepareCappingDataHooks",()=>{this.cappingRealShowTime=this.app.getCurrentTimestamp()}),this.addHook("observerWidgetHooks",(t,i)=>{t&&i>=.01&&(this.widgetRealShowTime=this.app.getCurrentTimestamp())}),this.addHook("afterLoadNewsHooks",()=>{this.fixWrongExternalImages()}),this.addHook("afterPrepareCappingDataHooks",this.renderLazyBanners),this.addHook("afterLoadNewsHooks",this.setAltToImages)}setAppFunctions(){this.app.extractClass=e=>{if(e&&typeof e.className<"u"){let t=e.className.replace(/\s/g,".").split(".")[0];if(t)return t.replace(`${1456432}`,"")}return""},this.app.getCurrentTimestamp=()=>Math.floor(Date.now()/1e3),this.app.prepareNiceHref=(e,t,i)=>{let a,s=this.app.teaserData[e];if(s?.type!=fe.Teaser)return;let n=s;if(s.coopType!=Se.InternalExchange&&n.sdl==1){if(a=this.app.clickTracking,n.dl!="")a+=n.dl;else{let l=decodeURIComponent(n.source.replace(/[`|',:\/?;$%&\(\)^*!@\s]/g,"")).toLowerCase(),c=decodeURIComponent(n.title.replace(/[`|',:\/?;$%&\(\)^*!@]/g,"")).replace(/\s/g,"_");a+=this.app.webProtocol+"//"+(l?l+"/":"")+c}this.app.clickTracking&&a.indexOf(this.app.clickTracking)!==-1&&(a=this.app.clickTracking+encodeURIComponent(a.replace(this.app.clickTracking,"")))}else a=this.app.prepareHref(e,t,i);return a},this.app.prepareHref=(e,t,i)=>{let a=this.app.teaserData[e],s=this.app.getQueryParameterByName("dc"),n=this.getClickZone(),l="",c="";if(i&&this.app.context._mgExternalLinkChanger===1){let h=i.search;if(l=i.protocol+"//"+i.hostname+i.pathname,h!=""){h=h.replace("?","");let g=h.split("&");for(let y=0;y<g.length;y++){let T=g[y].split("=");T[0]!="k"&&T[0]!="dc"&&(l+=(y==0?"?":"&")+g[y])}}}else l=this.app.clickTracking+this.app.webProtocol,a?a.link&&(/^http[s]?:/.test(a.link)?l=this.app.clickTracking+a.link:a.coopType==Se.InternalExchange?l=this.app.clickTracking+this.app.intExchangeProtocol+a.link:l=this.app.clickTracking+this.app.webProtocol+a.link):l="#";if(this.app.clickableDelay&&this.app.activateDelayBlock&&this.app.activateDelayBlock.isWagesLink(i)&&(c="dc=1"),c=s?"dc="+parseInt(s):c,c=n!==""&&c===""?"dc="+n:c,c!==""&&(l+=(l.indexOf("?")>=0?"&":"?")+c),this.app.transitParamsInit){let h=this.app.getQueryParameterByName("extclckid");h&&/[\&\?]extclckid\=/.test(l)===!1&&(l+=(l.indexOf("?")>=0?"&":"?")+"extclckid="+h)}if(this.app.antifraudBlock?.getAntifraudParams&&a&&a.coopType!=Se.InternalExchange&&(l+=this.app.getAntifraudQueryParameter(l,t,i)),this.cappingRealShowTime&&/[\&\?]crst\=/.test(l)===!1&&(l+=(l.indexOf("?")>=0?"&":"?")+"crst="+this.cappingRealShowTime),this.widgetRealShowTime&&/[\&\?]wrst\=/.test(l)===!1&&(l+=(l.indexOf("?")>=0?"&":"?")+"wrst="+this.widgetRealShowTime),this.app.context.transitType&&/[\&\?]trt\=/.test(l)===!1&&(l+=(l.indexOf("?")>=0?"&":"?")+"trt="+this.app.context.transitType),this.app.clickTracking&&l.indexOf(this.app.clickTracking)!==-1&&(l=this.app.clickTracking+encodeURIComponent(l.replace(this.app.clickTracking,""))),i&&/[\&\?]wct\=/.test(l)===!1&&this.getParameterFromLink(i,"wct")&&(l+=(l.indexOf("?")===-1?"?":"&")+this.getParameterFromLink(i,"wct")),t?.type==="click"){let h=t.target,g="."+this.app.extractClass(h),y=h.tagName;if(y==="A"){let T=h.parentNode;y=T.tagName,g="."+this.app.extractClass(T)}(!a||a.coopType!==Se.InternalExchange&&a.coopType!==Se.DirectPublisherDemand)&&(l+=(l.indexOf("?")>=0?"&":"?")+"ce="+y+g)}if(a&&a.coopType!==Se.InternalExchange&&a.coopType!==Se.DirectPublisherDemand){let h=this.app.getMuid();h.length&&l.indexOf("muid")<0&&(l+=(l.indexOf("?")>=0?"&":"?")+"muid="+h)}return this.app.context.transitThrownParams&&this.app.context.transitThrownParams.forEach(h=>{let g=this.app.getQueryParameterByName(h);g&&g.length>0&&(l=this.replaceUrlParam(l,h,g))}),l},this.app.getAntifraudQueryParameter=(e,t,i)=>{let a=this.app.antifraudBlock.getAntifraudParams(t,i);if(a){let s=this.app.id;return(e.indexOf("?")>=0?"&":"?")+"k="+s+"f"+a}return""},this.app.getTranslation=e=>{let t=j;return e.search(/^\[\S*\]$/g)===0?t[e]?t[e]:"":e},this.app.getParentLink=e=>{for(;e&&e.tagName!=="BODY";){if(e.tagName=="A")return e;e=e.parentNode}return null},this.app.getParentElWithClass=(e,t)=>{try{for(;e&&e.tagName!=="BODY";){if(e.classList.contains(t))return e;e=e.parentNode}}catch{return null}return null},this.app.findClosest=(e,t)=>{let i;for(;e.parentNode;){i=e.parentNode.querySelectorAll(t);for(let a=0;a<i.length;a++)if(e.isEqualNode(i[a]))return i[a];e=e.parentNode}return null},this.app.htmlToElement=e=>{let t=document.createElement("div");return t.innerHTML=e,t.firstChild},this.app.htmlToElements=e=>{let t=this.app.context.document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.childNodes)},this.app.getInternalIds=()=>Object.keys(this.app.context._mgIntExchangeNews),this.app.getExceptAds=()=>{let e=Number(this.app.globalSettings?.except_ads_limit)||150;return this.app.exceptAdsList.length>e&&(this.app.exceptAdsList=this.app.exceptAdsList.slice(this.app.exceptAdsList.length-e)),this.app.exceptAdsList},this.app.tox64String=(e,t)=>{t=t||!1;let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="",s,n,l,c,h,g,y,T=0;for(;T<e.length;)s=e.charCodeAt(T++),n=e.charCodeAt(T++),l=e.charCodeAt(T++),c=s>>2,h=(s&3)<<4|n>>4,g=isNaN(n)?64:(n&15)<<2|l>>6,y=isNaN(l)?64:l&63,a+=i.charAt(c)+i.charAt(h)+i.charAt(g)+i.charAt(y);return t===!0&&(a=a.replace("+","-").replace("/","_").replace("=","*")),a},this.app.hangNiceLinkListener=(e,t)=>{if(this.app.loadedDefault)return;let i=e.getAttribute("data-hash");return this.app.teaserData[i].type==fe.Teaser&&this.app.teaserData[i].sdl&&(this.app.teaserData[i].sdl=0),e[this.app.hrefAttr]=this.app.prepareHref(i,t,e),!0},this.app.eventsHangNiceLinkListener=e=>{e||(e=this.app.context.event);let t=e.target||e.srcElement;t.tagName!="A"&&(t=this.app.getParentLink(t),t===null)||!t.hasAttribute("data-hash")||this.app.hangNiceLinkListener(t,e)},this.app.isHiddenElement=e=>{for(;e.tagName!=="BODY";){if(e.style.position!=="fixed"&&e.offsetParent||e.style.visibility==="hidden"||e.style.display==="none")return!0;e=e.parentNode}return!1},this.app.random=(e,t)=>Math.floor(e+Math.random()*(t-e+1)),this.app.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.maxTouchPoints>0,this.app.getExpectedCountNews=()=>{let e=15,t=JSON.parse("[]");if(this.app.utils.isMobile()&&typeof t.mobile<"u"&&(e=t.mobile),this.app.adBlockDetect()){for(let i in this.app.childWidgetsData)if(this.app.childWidgetsData.hasOwnProperty(i)&&this.app.childWidgetsData[i].isAdblockChild){e=this.app.childWidgetsData[i].childCountNews;break}}return e},this.app.isPassiveSupported=()=>{if(typeof this.app.passiveIsSupported<"u")return this.app.passiveIsSupported;this.app.passiveIsSupported=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){this.app.passiveIsSupported=!0}}))}catch{}return this.app.passiveIsSupported},this.app.getWidgetValue=(e,t)=>{let i=JSON.parse('{"1488793":{"id":1488793,"desktopDoubleclickDelay":0,"doubleclickParameters":null,"mobileDoubleclickDelay":0,"goodsPartUid":57820598,"newsPartUid":0,"widgetReturnedRefresh":0,"useRefreshNews":0,"elastic":1,"afCheckForensiq":0,"refreshAdsTime":45,"refreshAdsBy":0,"gptOptions":"{}"}}');return this.app.originalId!==this.app.id&&typeof i[this.app.id]?.[e]<"u"?i[this.app.id][e]:t},this.app.isEnabledDoubleClick=()=>typeof this.app.servicerData.dcb<"u"}fixWrongExternalImages(){let e=this.app.root.getElementsByClassName("mg-wrong-image");if(e.length)for(let t=0;t<e.length;t++){let i=e[t],a=i.src;i.src=this.app.blankImage,setTimeout(()=>{let s=i.getBoundingClientRect();i.classList.add("mg-wrongImage"+t),i.src=a,this.app.stylesheetsBlock.add("wrongImage"+t,".mg-wrongImage"+t+" { width: "+s.width+`px !important;
height: `+s.height+`px !important;
object-fit: cover;
-o-object-fit: cover;
object-position: top;
-o-object-position: top;
 }`)},50)}}fixHeaderWidgetHeight(){let e="M"+882635+"ScriptRootC"+1456432,t=this.app.context.document.getElementById(e);t&&t.setAttribute("style","min-height:auto !important;")}getClickZone(){let e=JSON.parse("[]");if(e.length===0||!e.top||!e.left||!e.right||!e.bottom)return"";let t=this.app.root.offsetHeight,i=this.app.root.offsetWidth,a=this.app.root.mouseX,s=this.app.root.mouseY,n={top:t/100*e.top,left:i/100*e.left,right:i-i/100*e.right,bottom:t/100*e.bottom},l=s<=n.top?0:s>=n.bottom?2:1,c=a<=n.left?0:a>=n.right?2:1;return[[2,3,4],[5,"",6],[7,8,9]][l][c]}getParameterFromLink(e,t){let i=e?.search;if(i==="")return null;let a=i.replace("?","").split("&");for(let s=0;s<a.length;s++)if(a[s].split("=")[0]===t)return a[s];return null}replaceUrlParam(e,t,i){let a=new RegExp("\\b("+t+"=).*?(&|#|$)");return i===null?e:e.search(a)>=0?e.replace(a,"$1"+i+"$2"):(e=e.replace(/[?#]$/,""),e+(e.indexOf("?")>0?"&":"?")+t+"="+i)}renderLazyBanners(e){this.app.root&&this.app.teaserData[e].type==="banner"&&this.app.renderBanners(!1,this.app.teaserData[e].iteration)}setAltToImages(){if(this.app.root){let e=this.app.root.getElementsByTagName("img");for(let t=0;t<e.length;t++)e[t].getAttribute("alt")===null&&e[t].setAttribute("alt","")}}}});var cl={};ye(cl,{ResponseParserBlock:()=>Ar});var Ar,hl=ne(()=>{S();_();k();C();I();D();E();ge();bt();Ar=class extends ${getParsedTeaserData(e,t){let i={source:this.app.htmlEntities(e[0]),id:this.app.htmlEntities(e[1]),title:e[3]?this.app.prepareTitle(e[3]):"",desc:e[4]?this.app.prepareDesc(e[4]):"",mirror:"adsmovil",key:e[6],price:e[7]?this.app.htmlEntities(e[7]).replace(".00","").replace(new RegExp("[^0-9.]"),""):"",priceold:e[8]?this.app.htmlEntities(e[8]).replace(".00","").replace(new RegExp("[^0-9.]"),""):"",discount:"",other:e[10]?e[10]:{},hash:e[9]},a=(1-parseFloat(i.price)/parseFloat(i.priceold))*100;return a<=1||a>100?(i.priceold="",i.discount=""):i.discount=a?`${Math.floor(a)}%`:"",i.other.i=i.other.i?this.app.htmlEntities(i.other.i):this.app.blankImage,this.app.deviceType!=ii.Desktop&&(i.other.sdl=0),{type:fe.Teaser,hash:i.hash,id:i.id,source:i.source,title:i.title,desc:i.desc,price:i.price,priceold:i.priceold,discount:i.discount,category:i.other.category,cta:i.other.cta??"",cdt:i.other.cdt??"",img:i.other.i,link:i.other.l??"",mirror:i.mirror,extd:i.other.extd,coopType:i.other.type??null,mediaType:i.other["media-type"],mirroredImage:i.other.mirror,sdl:i.other.sdl,dl:i.other.dl,criteo_pi:i.other.criteo_pi??"",criteo_piu:i.other.criteo_piu??"",clicktrackers:i.other.clicktrackers??[],imp:i.other.imp??[],impt:i.other.impt??[],jst:i.other.jst??[],iteration:t,page:this.app.pagesServicerData.length,cdomain:i.other.cdomain||null,ccid:i.other.ccid||null,ch:i.other.ch||null}}getParsedBannerData(e,t){let a="mgBanner_"+1456432+"_"+this.app.pagesServicerData.length+"_"+t;return{type:fe.Banner,id:a,hash:e.h,coopType:Se.Wages,imp:e.imp??[],page:this.app.pagesServicerData.length,iteration:t,impt:e.impt??[],jst:e.jst??[],html:e.html,width:e.width??0,height:e.height??0,rs:e.rs??!1,useSecureIframe:!1,clickUrl:e.clickUrl}}getCustomBannerData(e,t){this.app.consentDataParams&&(typeof this.app.consentDataParams.gdprApplies<"u"&&typeof this.app.consentDataParams.consentData<"u"&&(e=e.replace(/\${GDPR}/g,String(this.app.consentDataParams.gdprApplies)).replace(/\${GDPR_CONSENT}/g,this.app.consentDataParams.consentData)),typeof this.app.consentDataParams.uspString<"u"&&(e=e.replace(/\${CCPA}/g,this.app.consentDataParams.uspString)));let i="mgBanner_"+1456432+"_"+this.app.pagesServicerData.length+"_"+t;return{type:fe.Banner,hash:"",coopType:Se.Wages,imp:[],page:this.app.pagesServicerData.length,iteration:t,impt:[],jst:[],html:e,id:i,width:0,height:0,rs:!1,useSecureIframe:!0,clickUrl:""}}getParsedGptData(e){let t="mgGpt_"+1456432+"_"+this.app.pagesServicerData.length+"_"+e,i=Object.keys(this.app.preRenderTeaserSizes).filter(a=>this.app.preRenderTeaserSizes[a].position===e).map(a=>this.app.preRenderTeaserSizes[a])[0];return{id:t,type:fe.Gpt,hash:"",coopType:Se.Wages,page:this.app.pagesServicerData.length,iteration:e,imp:[],impt:[],jst:[],width:i?.width||0,height:i?.height||0,afrd:this.app.servicerData.afrd||0,divId:this.app.gptOptions.divId,slot:this.app.gptOptions.slot,lazy:this.app.gptOptions?.lazy||null,backfill:this.app.gptOptions?.backfill||null,isRendered:!1}}getAdUnitsFromJson(e){let t=[];return Array.isArray(e)&&e.forEach((i,a)=>{let s=a+1;if("gpt"in i){let n=this.getParsedGptData(s);t.push(n)}else if("html"in i){let n=this.getParsedBannerData(i,s);t.push(n)}else if(this.app.customBanners[this.app.id]?.[s]?.length>0){let n=this.getCustomBannerData(this.app.customBanners[this.app.id][s],s);t.push(n)}else{let n=this.getParsedTeaserData(i,s);t.push(n)}}),t}fillAdUnitsData(e){e.forEach(t=>{switch(t.type){case fe.Teaser:this.fillTeaserData(t);break;case fe.Banner:this.fillBannerData(t);break;case fe.Gpt:this.fillGptData(t);break}})}fillTeaserData(e){this.app.teaserData[e.hash]=e,e.coopType==Se.InternalExchange&&(this.app.context._mgIntExchangeNews[e.id]=1),e.coopType==Se.Wages&&e.extd!==1&&this.app.exceptAdsList.indexOf(e.id)===-1&&this.app.exceptAdsList.push(e.id)}fillBannerData(e){this.app.teaserData[e.hash||e.id]=e,this.app.banners[e.id]=e}fillGptData(e){this.app.teaserData[e.id]=e}}});var ul={};ye(ul,{CookieBlock:()=>Lr});var Lr,ml=ne(()=>{S();_();k();C();I();D();E();ge();Lr=class extends ${constructor(e){super(e),this.app=e,this.cookieStorage={},this.sharedCookieStorage={},this.storageName="MgidStorage"+(this.app.context["MarketGidPageOffset"]?this.app.context["MarketGidPageOffset"]:"")}getCookieValue(){{let e=this.app.context.document.cookie.match(new RegExp("(?:^|; )"+this.storageName+"=([^;]*)")),t={};if(e)try{t=JSON.parse(decodeURIComponent(e[1]))}catch{}return t}}getCookie(){let e=this.getCookieValue();typeof e["C"+1456432]<"u"?this.cookieStorage=e["C"+1456432]:this.cookieStorage={},typeof e[0]<"u"?this.sharedCookieStorage=e[0]:this.sharedCookieStorage={}}setCookie(){{let e=this.getCookieValue();e["C"+1456432]=this.cookieStorage,e[0]=this.sharedCookieStorage;let t=encodeURIComponent(JSON.stringify(e));this.app.context.document.cookie=this.storageName+"="+t+";path=/"}}}});var fl={};ye(fl,{StylesheetsBlock:()=>Br});var Br,gl=ne(()=>{S();_();k();C();I();D();E();ge();Br=class extends ${constructor(e){super(e),this.name="StylesheetsBlock",this._isIE=typeof Proxy>"u",this._stylesDom={},this._isIE||(this._stylesDom=new Proxy(this._stylesDom,{set:(t,i,a)=>{let s=a.container,n=a.style;return t[i]&&delete this._stylesDom[i],this._inject(n,i,s),t[i]=a,!0},has:(t,i)=>this.app.root.querySelector("style#"+i)===null&&typeof t[i]<"u"?!1:typeof t[i]<"u",deleteProperty:(t,i)=>(this._removeFromDom(i),delete t[i],!0)}))}add(e,t,i=null){e+="_"+this.app.uniqId,!(!this._isIE&&typeof i>"u"&&e in this._stylesDom)&&(t=t.replace(/((@media|@supports not) \([^(]*\) {)/g,"$1}"),t=t.replace(/((?:^|}|,|;)\W*)((?:\w+)?\.(?:mc|mg|row)[\-\w]+)/g,"$1"+this.app.getMainCssSelector()+" $2"),t=t.replace(/(((@media|@supports not) \([^(]*\) \{)\})/g,"$2"),t=t.replace(/video-cdn\.(.+)\/mgPlayer/g,this.app.currentSubnetDomain),t!==""&&(this._isIE?(this._removeFromDom(e),this._inject(t,e,i)):this._stylesDom[e]={style:t,container:i}))}remove(e){e+="_"+this.app.uniqId,!this._isIE&&e in this._stylesDom?delete this._stylesDom[e]:this._removeFromDom(e)}_removeFromDom(e){let t=this.app.root.querySelector("#"+e);t&&t.parentNode.removeChild(t)}_inject(e,t,i){if(i){let a=i;if(a.className="MarketGidC"+1456432,a.styleSheet)a.styleSheet.cssText=e;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(this.app.context.document.createTextNode(e))}}else{let a=this.app.context.document.createElement("style");a.setAttribute("id",t),a.className="MarketGidC"+1456432,a.type="text/css",(typeof this.app.realRoot<"u"?this.app.realRoot:this.app.root).appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(this.app.context.document.createTextNode(e))}}}});var yl={};ye(yl,{SendDimensionsBlock:()=>Or});var Or,vl=ne(()=>{S();_();k();C();I();D();E();ge();bt();Or=class extends ${constructor(e){super(e),this.childMarginFixPixels=1,this.loremData={title:"Lorem ipsum dolor sit amet Lorem ipsum dolor sit amet Lorem ipsum",domain:"Lorem ipsum dolor",description:"Lorem ipsum dolor sit amet Lorem ipsum"},this.name="SendDimensionsBlock",this.app.precalcRect={},this.isAdblock=!!this.app.adBlockDetect(),this.setAppFunctions()}setAppFunctions(){this.app.calcPreRenderingBlock=()=>{let e=this.app.root.getElementsByClassName("mgline");if(this.isAdblock)if(this.app.utils.isMobile()){for(let b=e.length;b>1;b--){let P=e[b-1];if(this.app.root.getBoundingClientRect().height>this.app.context.screen.height&&P&&P.parentNode)P.parentNode.removeChild(P);else break}e=this.app.root.getElementsByClassName("mgline"),this.app.requestParams.limitads=e.length}else{let b="",P=0;for(let x in this.app.childWidgetsData)if(this.app.childWidgetsData.hasOwnProperty(x)&&this.app.childWidgetsData[x].isAdblockChild){b=this.app.childWidgetsData[x].childSubtype;break}b==="under-article-widget-adblock"||b==="in-article-adblock"?P=25:b==="header-widget-adblock"&&(P=15),b&&P&&b.indexOf("adblock")!==-1&&this.addHook("afterLoadNewsHooks",()=>{this.changeWidgetWidth(this.app.root.querySelector(".mgbox"),P)})}typeof this.app.iframeSizeChangerBlock?.initIframeSizeChange=="function"&&this.app.iframeSizeChangerBlock.initIframeSizeChange();let t=this.app.root.getBoundingClientRect();this.app.precalcRect.width=Math.ceil(t.width?t.width:t.right-t.left),this.app.precalcRect.height=Math.ceil(t.height?t.height:t.bottom-t.top)-this.childMarginFixPixels,this.app.precalcRect.top=t.top,this.app.precalcRect.bottom=t.bottom,this.app.requestParams.w=this.app.precalcRect.width,this.app.requestParams.h=this.app.precalcRect.height;let i=0,a="7".split(",").map(Number)||[],n=(this.app.templateText.indexOf("$banner")!==-1||this.app.templateText.indexOf('data-template-schema="banner"')!==-1)&&!this.isAdblock,l=300,c=250,h=220,g=this.app.utils.isMobile()?280:c;for(let b=0;b<e.length;b++){let P=b+1,x=e[b].getBoundingClientRect(),B=Math.ceil(e[b]?.clientHeight||(x.height?x.height:x.bottom-x.top)),O=Math.ceil(e[b]?.clientWidth||(x.width?x.width:x.right-x.left)),w=e[b].querySelector("img.mcimg"),M=a.indexOf(P)!==-1;if(typeof w<"u"){let H=w.getBoundingClientRect();if(H.height===0||H.width===0){let ie="#preRenderingBlock"+1456432+"_"+this.app.uniqId;if(this.app.realRoot.querySelector(ie)!==null){let Z=this.app.realRoot.querySelector(ie);Z.style.clear="both",H=w.getBoundingClientRect()}}(H.height===0||H.width===0)&&(this.app.requestParams.wrongImageSize=1),this.app.preRenderImageSizes[P-1]={height:H.height,width:H.width}}if((n||M)&&O>=l&&B>=h&&B<g){let H=!1;e[P-1].innerHTML=`<div style="min-width: ${l}px; min-height: ${g}px;"></div>`;let ie=e[P-1].getBoundingClientRect(),Z=this.app.root.getBoundingClientRect();if(ie.width>=l&&ie.height>=g){H=!0;let Q=this.app.root.parentNode;for(;Q&&typeof Q.tagName<"u"&&Q.tagName!=="BODY";){let te=Q.getBoundingClientRect();if(te.width<Z.width||te.height<Z.height){H=!1;break}else Q=Q.parentNode}}H&&(B=g)}this.app.preRenderTeaserSizes[P-1]={height:B,width:O,position:P,top:Math.floor(x.top)},typeof this.app.prepTop<"u"&&this.app.prepTop<x.top&&i===0&&(i=b),this.app.prepTop=x.top}if(n){let b=Object.keys(this.app.preRenderTeaserSizes).map(O=>this.app.preRenderTeaserSizes[O]);b.every(O=>O.height>=c&&O.width>=l)&&(this.app.requestParams.ident_p=!0);let P=b.reduce((O,w)=>{let M=`${w.width}x${w.height}`,H=O[M]||[];return{...O,[M]:[...H,w.position]}},{});this.app.requestParams.sz=Object.keys(P).join(";"),this.app.requestParams.szp=Object.keys(P).map(O=>P[O]).join(";");let x=b[0].top,B=b.reduce((O,w)=>{let M=w.top+(x<0?-x:0),H=O[M]||[];return{...O,[M]:[...H,w.position]}},{});this.app.requestParams.szl=Object.keys(B).map(O=>B[O]).join(";")}i===0&&(i=e.length),this.app.requestParams.cols=i,this.app.root=this.app.realRoot;let y="preRenderingBlock"+1456432+"_"+this.app.uniqId,T=this.app.root;this.app.root.parentNode.id===y&&this.app.root.parentNode.parentNode!=null&&(T=this.app.root.parentNode.parentNode),T.querySelector("#"+y)!==null&&T.removeChild(T.querySelector("#"+y)),this.app.root.style.overflow="visible",this.app.root.style.visibility="visible",this.app.root.style.width=this.app.precalcRect.width+"px",this.app.root.style.height=this.app.precalcRect.height+"px",this.addHook("afterLoadNewsHooks",()=>{this.app.root.style.width="auto",this.app.root.style.height="auto"}),this.app.loadedType="",this.app.currentSubnet=null,this.app.countLoadBlocks=this.app.countLoadBlocksContainer,this.app.template=""},this.app.preparePrerenderData=e=>{let t=this.app.context.document.createElement("div"),i=this.app.context.document.createElement("div"),a=e||this.app.getExpectedCountNews(),s=[];t.id="preRenderingBlock"+1456432+"_"+this.app.uniqId,t.style.visibility="hidden",i.id=this.app.root.id,i.style.padding=`${this.childMarginFixPixels}px 0 0 0`,i.style.margin=`-${this.childMarginFixPixels}px auto 0 auto`,t.appendChild(i),this.app.loadedType="goods",this.app.currentSubnet=0,this.app.realRoot=this.app.root,this.app.countLoadBlocksContainer=this.app.countLoadBlocks,this.app.root.appendChild(t),this.app.root=i;for(let n=1;n<=a;n++)s.push({type:fe.Teaser,coopType:Se.Wages,hash:"",id:n.toString(),source:this.loremData.domain,title:this.loremData.title,desc:this.loremData.description,img:this.app.blankImage,price:"",priceold:"",discount:"",iteration:n,imp:[],impt:[],clicktrackers:[],jst:[],category:"",cdt:"",criteo_pi:"",criteo_piu:"",cta:"",dl:"",extd:0,link:"",mediaType:"",mirror:"",mirroredImage:0,page:1,sdl:0});return this.app.teaserData[""]=s[0],s}}changeWidgetWidth(e,t){let a=e.offsetWidth,s=e.offsetHeight,n=a*s,l=this.app.context.innerWidth*this.app.context.innerHeight;if(n/l*100>t&&a>500){let h=l*t/100,g=n-h,y=a-a*(g/n/2),T=y>=500?Math.floor(y):500;e.style.maxWidth=T+"px"}}}});var bl={};ye(bl,{VersionControlBlock:()=>Mr});var Mr,xl=ne(()=>{S();_();k();C();I();D();E();ge();Mr=class extends ${constructor(e){super(e),this.initConsoleInfo()}initConsoleInfo(){}}});var Tl={};ye(Tl,{InternalExchangeBlock:()=>Rr});var Rr,wl=ne(()=>{S();_();k();C();I();D();E();ge();Rr=class extends ${constructor(e){super(e),this.name="InternalExchangeBlock",this.addHook("afterLoadNewsHooks",this.initIntExchangeLabels)}initIntExchangeLabels(){if(this.app.enabledCooperationTypes.indexOf("int_exchange")===-1&&[3,2].indexOf(this.app.currentSubnet)===-1)return;let i=this.getComments(this.app.root),a=this.app.root.getElementsByClassName("type-w");if(!(this.app.currentSubnet===3&&this.app.enabledCooperationTypes.indexOf("wages")!==-1&&this.app.enabledCooperationTypes.length===1&&a.length===i.length))for(let s=0;s<i.length;s++){let n=i[s],l=this.app.findClosest(n,".mgline");if(!l||l.className.indexOf("type-w")===-1)continue;let c=this.app.context.document.createElement("IMG");if(c.setAttribute("height","20"),c.setAttribute("width","20"),c.setAttribute("alt",""),n.data==="intExchangeWagesImagePlace"){c.className="mcimgad",c.src=this.app.webProtocol+"//cdn.mgid.com/images/mgid/int_exchange_wages_ad.svg";let y=l.getElementsByClassName("criteo-informer");y.length===1&&(y[0].style.top="2px",y[0].style.right="70px")}let h=l.querySelector("a"),g=h["data-hash"]||h.getAttribute("data-hash");g&&this.app.teaserData[g]&&!!this.app.teaserData[g].source&&n.data==="intExhangeWagesSourcePlace"&&(c.className="mcimgsrc",c.src=this.app.webProtocol+"//cdn.mgid.com/images/mgid/int_exchange_wages_src.svg"),c.src&&n.parentNode.replaceChild(c,n)}}getComments(e){let t=[],i=[e];for(;i.length>0;){let a=i.pop();for(let s=0;s<a.childNodes.length;s++){let n=a.childNodes[s];n.nodeType===Node.COMMENT_NODE?t.push(n):i.push(n)}}return t}}});var Sl={};ye(Sl,{InternalExchangeLoggerBlock:()=>Hr});var Hr,_l=ne(()=>{S();_();k();C();I();D();E();ge();bt();Hr=class extends ${constructor(e){super(e),this.name="InternalExchangeLoggerBlock",this.app.internalExchangeLoggerHandler=this.clickHandler.bind(this),this.addHook("afterLoadNewsHooks",this.init)}init(){this.app.addClickHandler(this.app.clickHandlerList.internalExchangeLogger.handler,this.app.clickHandlerList.internalExchangeLogger.priority)}clickHandler(e){let t=e.getAttribute("data-hash");if(this.app.teaserData[t]&&this.app.teaserData[t].coopType==Se.InternalExchange){let i={};i.cid=`cid=${this.app.id}`,i.tid=`tid=${this.app.teaserData[t].id}`,i.h=`h=${t}`,typeof this.app.servicerData.isBot<"u"&&(i.bot=`bot=${this.app.servicerData.isBot}`),typeof this.app.servicerData.tt<"u"&&(i.tt=`tt=${this.app.servicerData.tt}`),typeof this.app.servicerData.ts<"u"&&(i.ts=`ts=${this.app.servicerData.ts}`),typeof this.app.servicerData.psid<"u"&&(i.psid=`psid=${this.app.servicerData.psid}`),typeof this.app.servicerData.dt<"u"&&(i.dt=`dt=${this.app.servicerData.dt}`);let a=e.parentNode.tagName,s="."+this.app.extractClass(e.parentNode);i.ce=`ce=${a}${s}`,this.app.request.pixel("internalExchangeLogger",this.app.webProtocol+"//c.mgid.com/clie",i,{})}return!0}}});var kl={};ye(kl,{AdvertLinkBlock:()=>Nr});var Nr,Cl=ne(()=>{S();_();k();C();I();D();E();ge();Nr=class extends ${constructor(e){super(e),this.name="AdvertLinkBlock",this.addHook("beforeLoadNewsHooks",this.refreshAdvertLink),this.addHook("afterLoadNewsHooks",this.initAdvertPopup)}parseAdvertLink(e){let t="<!--advertPrefix-->",i=e.indexOf(t)>e.length/2;return i&&this.removeElements(this.app.root.getElementsByClassName("mg_addad"+this.app.id)),(i||this.app.countLoadBlocks===0)&&(e.indexOf(t)>=0?e=e.replace(t,this.app.tickerPrefix):e=this.app.tickerPrefix+e),e}initAdvertPopup(){if(this.app.context.top!==this.app.context.self||this.app.widgetConstructorData.type==="banner"||this.app.widgetConstructorData.type==="exit-pop-up"||["tablet","desktop"].indexOf(this.app.deviceType)===-1||typeof this.app.context._mgDisableAdvertPopup<"u"||"stringConstructorBlock"+1456432=="function")return;let e=this.app.root.querySelector(".mg_addad"+this.app.id);e&&e.addEventListener("click",t=>{this.showAdvertPopup(t)})}showAdvertPopup(e){let t=this.app.findClosest(e.target,"[data-advert-url]");if(!t)return null;e.preventDefault();let i=(typeof this.app.realRoot<"u"?this.app.realRoot:this.app.root).parentNode,a=i.querySelector("._mgAdvertPopupC"+1456432),s=i.querySelector("._mgPopupInner");var n=function(l,c,h){if(h<=0)return;let y=(c-l.scrollTop)/h*10;setTimeout(function(){l.scrollTop=l.scrollTop+y,l.scrollTop!==c&&n(l,c,h-10)},10)};if(!a){let l=`
<style>
    ._mgAdvertPopupC1456432 {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0px;
        left: 0px;
        font-family: "PTSans", Arial, sans-serif;
        font-size: 16px;
        color: #696969;
        line-height: 1.3;
        z-index: 999;

        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    ._mgAdvertPopupC1456432 iframe {
        width: 100%;
        height: 377px;
    }
    ._mgAdvertPopupC1456432 ._mgPopupShadow {
        position: absolute;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        background-color: #000;
        opacity: 0.4;
        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
        z-index: 1;
    }
    ._mgAdvertPopupC1456432 ._mgPopupInner {
        position: relative;
        top: 50%;
        margin-left: -375px;
        left: 50%;
        padding: 36px;
        width: 750px;
        background-color: #f8f8f8;
        z-index: 2;

        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    ._mgAdvertPopupC1456432 ._mgPopupInner.fixPop {
        position: absolute!important;
        top: 30px!important;
        margin-top: 0!important;
    }
    ._mgAdvertPopupC1456432 ._mgClosePopup {
        position: absolute;
        overflow: hidden;
        top: 5px;
        right: 5px;
        height: 21px;
        width: 21px;
        text-indent: -9999px;
        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAgMAAADUwp+1AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVmZmZmZmb///+E1CFqAAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAlSURBVAjXY3BgYGEQAEIWBgcGRkYGBgYXIBaA0CA+SBwkD1QHACp2Ae2BHO8IAAAAAElFTkSuQmCC') no-repeat center center;
        background-color: transparent;
    }
    ._mgAdvertPopupC1456432 ._mgClosePopup:hover {
        background-color: #dfdfdf;
    }
</style>

<div class="_mgAdvertPopupC1456432">
    <div class="_mgPopupShadow"></div>
    <div class="_mgPopupInner">
        <a href="#" class="_mgClosePopup" title="Close"></a>
        <iframe frameborder="0"></iframe>
    </div>
</div>
`,c=this.app.htmlToElements(l);for(let T=0;T<c.length;T++)i.appendChild(c[T]);if(a=i.querySelector("._mgAdvertPopupC"+1456432),!a)return!1;s=a.querySelector("._mgPopupInner");let h=a.querySelector("._mgPopupShadow");s.style.marginTop=-(s.clientHeight/2)+"px",h.addEventListener("click",T=>{this.app.findClosest(T.target,"._mgPopupInner")==null&&a.setAttribute("style","display: none")});let g=a.querySelector("._mgClosePopup");g&&g.addEventListener("click",function(T){T.preventDefault(),a.setAttribute("style","display: none")});let y=a.querySelector("iframe");y.setAttribute("src",t.getAttribute("data-advert-url")),this.app.addEvent(this.app.context,"message",T=>{let b=T.message?"message":"data",P=JSON.parse(T[b]);if(typeof P.target>"u"||P.target!=="correct-popup-height")return!0;y.style.height=P.height+"px",P.safariIPad&&(P.keyboard?(n(this.app.context.document.body,0,500),s.classList.add("fixPop")):s.classList.remove("fixPop")),s.style.marginTop=-(s.clientHeight/2)+"px"},!1)}a.setAttribute("style","display: block"),s.className.indexOf("fixPop")>=0&&n(this.app.context.document.body,0,500)}refreshAdvertLink(){let e=this.getAdvertLinkValue(),t=!1,i=!0;if(t=this.app.adBlockDetect(),e||t&&i)try{let a=this.getAdLinkBlock().replace(/%id/g,this.app.id),s="";t?s=this.app.getTranslation("[WIDGET_TITLE_PROMOTED_CONTENT]"):s=this.app.getTranslation("[WIDGET_TITLE_PROMOTED_CONTENT]");let n=navigator.language.substr(0,2),l=z.indexOf(n)!==-1?n:"";a=a.replace("%WIDGET_TITLE%",s),a=a.replace("%lang/",l===""?"":l+"/"),a=a.replace(/\((\'|\")?\/\//g,"($1"+this.app.webProtocol+"//"),a=a.replace('src="//','src="'+this.app.webProtocol+"//"),a=a.replace('href="//','href="'+this.app.webProtocol+"//");let c="";if(c===""){c=this.app.subnetMirrorsUtm;let g=this.app.context.document.location.hostname;if(this.app.context!==this.app.context.top){let y=this.app.context.document.referrer.match(/:\/\/(.[^/]+)/);y!==null&&(g=y[1])}c=c.replace("{domain}",g)}this.app.tickerPrefix=a.replace(/%utm/,c);let h=document.createElement("div");if(t&&i)h.innerHTML=this.app.tickerPrefix;else{if(e===1)return;h.innerHTML=this.app.tickerPrefix,e===2&&this.removeElements(h.getElementsByClassName("mg_addad"+this.app.id)),e===3&&(this.removeElements(h.getElementsByClassName("mghead")),this.removeElements(h.getElementsByClassName("mghead"+this.app.id)))}this.app.tickerPrefix=h.innerHTML}catch{}else this.app.tickerPrefix=""}getAdvertLinkValue(){return parseInt(1)}removeElements(e){for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}getAdLinkBlock(){let e="smart",t="smart-plus",i="adsmovil",a=U;typeof a<"u"&&typeof a[e]<"u"&&(typeof a[e]["*"]<"u"&&(i=a[e]["*"]),typeof a[e][t]<"u"&&(i=a[e][t]));let s=W;return typeof s[i]>"u"&&(i="adsmovil"),s[i]}}});var Il={};ye(Il,{ColorBlock:()=>Gr});var Gr,Dl=ne(()=>{S();_();k();C();I();D();E();ge();Gr=class extends ${constructor(e){super(e),this.name="ColorBlock"}colorAverage(e){return new Promise(t=>{e.complete?t(this._getColor(e)):e.onload=()=>{t(this._getColor(e))}})}_getColor(e){let t={r:0,g:0,b:0},i=4,a=document.createElement("canvas");a.width=i,a.height=i;let s=a.getContext("2d");s.drawImage(e,0,0,i,i);try{let n=s.getImageData(0,0,i,i),l=-4,c=0;for(;(l+=1*4)<n.data.length;)++c,t.r+=n.data[l],t.g+=n.data[l+1],t.b+=n.data[l+2];t.r=Math.floor(t.r/c),t.g=Math.floor(t.g/c),t.b=Math.floor(t.b/c);let h=Math.max(t.r,t.g,t.b),g=Math.min(t.r,t.g,t.b);if((h/255+g/255)/2>.8){let y=this._rgbToHsl(t.r,t.g,t.b);t=this._hslToRgb(y.h,y.s,.8)}}catch(n){this.app.log(`${this.name} error: `,"error",n)}return t}_rgbToHsl(e,t,i){e/=255,t/=255,i/=255;let a=Math.max(e,t,i),s=Math.min(e,t,i),n,l,c=(a+s)/2;if(a==s)n=l=0;else{let h=a-s;switch(l=c>.5?h/(2-a-s):h/(a+s),a){case e:n=(t-i)/h+(t<i?6:0);break;case t:n=(i-e)/h+2;break;case i:n=(e-t)/h+4;break}n/=6}return{h:n,s:l,l:c}}_hslToRgb(e,t,i){let a,s,n;if(t==0)a=s=n=i;else{let l=function(g,y,T){return T<0&&(T+=1),T>1&&(T-=1),T<.16666666666666666?g+(y-g)*6*T:T<.5?y:T<.6666666666666666?g+(y-g)*(.6666666666666666-T)*6:g},c=i<.5?i*(1+t):i+t-i*t,h=2*i-c;a=l(h,c,e+1/3),s=l(h,c,e),n=l(h,c,e-1/3)}return{r:Math.floor(a*255),g:Math.floor(s*255),b:Math.floor(n*255)}}}});var El={};ye(El,{GradientBlock:()=>Vr});var Vr,Pl=ne(()=>{S();_();k();C();I();D();E();ge();Vr=class extends ${constructor(e){super(e),this.name="GradientBlock",this.addHook("afterLoadNewsHooks",this._gradientRendering)}_createGradient(e,t,i,a,s,n,l){(this.app.context.matchMedia("(max-width: 480px)").matches||this.app.deviceType==="mobile")&&(s=n);let c=.299*l.r+.587*l.g+.114*l.b>186?"#000":"#fff",h="linear-gradient("+s+"transparent, rgba("+l.r+","+l.g+","+l.b+", 0.25) 15%,rgba("+l.r+","+l.g+","+l.b+", 0.85) 30%,rgb("+l.r+","+l.g+","+l.b+") 45%)";e.style.background="rgb("+l.r+","+l.g+","+l.b+")",t.style.background=h,i.style.color=c,Object.keys(a).forEach(function(g){let y=a[g];y.firstElementChild.style.color=c}),this._setFontSize(i)}_defaultGradient(e,t,i,a,s,n){(this.app.context.matchMedia("(max-width: 480px)").matches||this.app.deviceType==="mobile")&&(a=s);let l="";n===""?l="linear-gradient("+a+"transparent,rgba(0,0,0, 0.25) 15%,rgba(0,0,0, 0.85) 30%,rgb(0,0,0) 45%)":l="linear-gradient("+a+"transparent,rgba("+n+", 0.25) 15%,rgba("+n+", 0.85) 30%,rgb("+n+") 45%)",e.style.background=l,t.style.color="#fff",Object.keys(i).forEach(function(c){let h=i[c];h.firstElementChild.style.color="#fff"}),this._setFontSize(t)}_setFontSize(e){let t=this.app.autoSizeTitle-Math.round(e.clientHeight/this.app.autoSizeTitle);e.style.fontSize=t+"px",e.style.lineHeight=t+"px"}_gradientRendering(){if(!this.app.templateContent)return;let e=this.app.templateContent.querySelectorAll("[class*=mgline-blur]");if(!e.length)return;let t=a=>{let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return s?parseInt(s[1],16)+","+parseInt(s[2],16)+","+parseInt(s[3],16):""},i={r:159,g:138,b:126};for(let a=0;a<e.length;a++){let s="",n="",l="",c=/\bmgline-[^\s]*\b/.exec(e[a].classList.value),h=/\bmgline-[^\s]*\b-mob/.exec(e[a].classList.value);c&&(l=c[0].split("-").pop(),l=l==="blur"?"bottom":l,s="to "+l+","),h&&(l=h[0].split("-")[2],n="to "+l+",");let g=e[a],y=e[a].getElementsByClassName("text-elements")[0];if(!e[a].getElementsByClassName("mctitle")[0])continue;let T=e[a].getElementsByClassName("mctitle")[0].getElementsByTagName("a")[0],b=e[a].getElementsByClassName("mcdomain"),P=e[a].querySelector("img.mcimg"),x=e[a].querySelector("video.mcvideo"),B="";B!==""&&(B=t(B)),B===""?P?this.app.colorBlock.colorAverage(P).then(O=>{this._createGradient(g,y,T,b,s,n,O)}):x&&this._createGradient(g,y,T,b,s,n,i):this._defaultGradient(y,T,b,s,n,B)}}}});var Al={};ye(Al,{AdChoiceBlock:()=>qr});var qr,Ll=ne(()=>{S();_();k();C();I();D();E();ge();bt();qr=class extends ${constructor(e){super(e),this.name="AdChoiceBlock",this.addHook("beforeLoadNewsHooks",this._initAdChoiceStyles),this.addHook("afterLoadNewsHooks",()=>{this._addAdChoiceIcons()})}_addAdChoiceIcons(){let e=this.app.root.getElementsByClassName("mgline");for(let t=0;t<e.length;t++)(i=>{let a=i.getAttribute("data-i");if(!a||this.app.teaserData[a]&&this.app.teaserData[a].type!==fe.Teaser&&(this.app.teaserData[a].criteo_pi==""||this.app.teaserData[a].criteo_piu==""))return;let s=i.getElementsByClassName("mcimg"),n=[].slice.call(s).filter(T=>T.tagName==="DIV")[0];if(!n)return;let l=i.querySelector(".image-container"),c=i.querySelector("img.mcimgad"),h=i.querySelector(".mgline-inner"),g=i.querySelector(".image-with-text");if(this.app.deviceType===ii.Mobile){let T=i.querySelector(".mctitle");T.style.marginTop="7px"}if(n.getElementsByClassName("criteo-informer").length===0){let T=this.app.teaserData[a],b=this.app.context.document.createElement("a");b.className="criteo-informer",b.href=T.criteo_piu,b.target="_blank",b.rel="sponsored nofollow",b.style.top="2px",b.style.right="2px",b.style.backgroundImage="url("+T.criteo_pi+")",b.style.backgroundColor="transparent",c&&this._isAdvIconOnTop(c)&&(b.style.right=c.offsetWidth+"px"),g.appendChild(b)}})(e[t])}_isAdvIconOnTop(e){if(e){let t=+this.app.context.getComputedStyle(e).top.replace("px","");return t>=0&&t<=5}}_initAdChoiceStyles(){let e=`
div.mgline a.criteo-informer {
width: 19px !important;
height: 15px !important;
display: block;
opacity: 1;
background: #ffffff;
position: absolute;
right: 3px;
top: 3px;
z-index: 150000;
cursor: pointer;
-moz-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
-webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
transition: all 0.3s ease-out;
}
div.mgline:hover a.criteo-informer {
opacity: 1;
}
div.mcimg {
position: relative;
}
div.image-with-price {
position: relative;
}
.mgline .image-container {
width: auto;
margin: 0 auto;
position: relative;
}`;this.app.stylesheetsBlock.add("adChoice",e)}}});var Bl={};ye(Bl,{RejectBlock:()=>Wr});var Wr,Ol=ne(()=>{S();_();k();C();I();D();E();ge();Wr=class extends ${constructor(e){super(e),this.isRejectNeeded=!1,this.name="RejectBlock",this.app.isInsertedRejectStyles=!1,this.app["MarketGidReject"]=()=>{this.isRejectNeeded=!0},this.addHook("afterLoadNewsHooks",this.initReject)}initReject(){this.isRejectNeeded&&this.reject()}reject(){let e=this.app.root.querySelectorAll(".mgline");for(let t=0;t<e.length;t++){let i=e[t],a=i.querySelector(".close-informer"),s=i.querySelector("div.mcimg"),n=i.className.match(/teaser-([0-9]+)/),l=i.className.match(/type-(w|e|i)/);if(!a&&s&&i.className.indexOf("dsp")<=0&&n&&l&&l[1]!=="i"){let h=this.buildCloseBtn(n,l);i.querySelector(".image-with-text")?.appendChild(h)}}this.initRejectStyles()}buildCloseBtn(e,t){let i=this.app.subnetDashboardDomain+"/publisher/blocked",a=this.app.context.document.createElement("a");return a.className="close-informer",a.href=i+"/teaser/"+e[1]+"/widget/"+(t[1]==="w"?57788356+"/type/goods":0+"/type/news"),a.target="_blank",a.style.top="2px",a.style.right="3px",a.rel="sponsored nofollow",a}initRejectStyles(){if(this.app.isInsertedRejectStyles)return;let e=`
div.mgline a.close-informer {
width: 14px !important;
height: 14px !important;
background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzI0ODBDMzY3ODcxMUU1OEM4RUU2RUJCOUREODIyQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzI0ODBDNDY3ODcxMUU1OEM4RUU2RUJCOUREODIyQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MjQ4MEMxNjc4NzExRTU4QzhFRTZFQkI5REQ4MjJCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MjQ4MEMyNjc4NzExRTU4QzhFRTZFQkI5REQ4MjJCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+uNcpEQAAAHxJREFUeNqckgEKwCAIRe3fYjfKc2zX6hydaLRbbDnGkLDIPggl/5lKIcbIRJRqbDSnUmOHE6LPm+CEfhj6lnN+o5WVh1VOm6xColCXc/cgLWYev9gaejnQojCab5RDzyDt6RantqoBaz5zq54ZywJ3CXjIwQGd8skfAQYALdQqftYulocAAAAASUVORK5CYIJ0ZW50Ij4NCiA8ZGl2IGNsYXNzPSJjb250ZW50LWNvbnRhaW5lciI+PGZpZWxkc2V0Pg0KICA8aDI+NTAyIC0gV2ViIHNlcnZlciByZWNlaXZlZCBhbiBpbnZhbGlkIHJlc3BvbnNlIHdoaWxlIGFjdGluZyBhcyBhIGdhdGV3YXkgb3IgcHJveHkgc2VydmVyLjwvaDI+DQogIDxoMz5UaGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgcGFnZSB5b3UgYXJlIGxvb2tpbmcgZm9yLCBhbmQgaXQgY2Fubm90IGJlIGRpc3BsYXllZC4gV2hlbiB0aGUgV2ViIHNlcnZlciAod2hpbGUgYWN0aW5nIGFzIGEgZ2F0ZXdheSBvciBwcm94eSkgY29udGFjdGVkIHRoZSB1cHN0cmVhbSBjb250ZW50IHNlcnZlciwgaXQgcmVjZWl2ZWQgYW4gaW52YWxpZCByZXNwb25zZSBmcm9tIHRoZSBjb250ZW50IHNlcnZlci48L2gzPg0KIDwvZmllbGRzZXQ+PC9kaXY+DQo8L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4NCg==");
display: block;
opacity: 0;
position: absolute;
right: 2px;
top: 2px;
z-index: 149999;
cursor: pointer;
-moz-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
-webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
transition: all 0.3s ease-out;
}
.mgline a.close-informer:hover {
opacity: 1;
}
.mgline .image-with-text img.mcimgad {
-moz-transition: all 0.3s ease-out;
-o-transition: all 0.3s ease-out;
-webkit-transition: all 0.3s ease-out;
-ms-transition: all 0.3s ease-out;
transition: all 0.3s ease-out;
}
div.mcimg {
position: relative;
}
div.image-with-price {
position: relative;
}
.mgline .image-container {
width: auto;
margin: 0 auto;
position: relative;
}`;this.app.stylesheetsBlock.add("reject",e),this.app.isInsertedRejectStyles=!0}}});var Ml={};ye(Ml,{TeaserHoverBlock:()=>Ur});var Ur,Rl=ne(()=>{S();_();k();C();I();D();E();ge();Ur=class extends ${constructor(e){super(e),this.name="TeaserHoverBlock",this.addHook("afterLoadNewsHooks",()=>{this._init()})}_init(){let e=this.app.root.querySelectorAll(".mgline");for(let t=0;t<e.length;t++){let i={mgline:e[t],advIcon:e[t].querySelector("img.mcimgad"),criteoIcon:e[t].querySelector(".criteo-informer"),rejectIcon:e[t].querySelector(".close-informer")};this._teaserHover(i)}}_teaserHover(e){let t=e.mgline,i={criteo:{el:e.criteoIcon,positionLimits:this._iconPositionLimits(e.criteoIcon,e.rejectIcon)},advIcon:{el:e.advIcon,positionLimits:this._iconPositionLimits(e.advIcon,e.rejectIcon)},rejectIcon:{el:e.rejectIcon}};this.app.isTouchDevice()?t.addEventListener("click",()=>{e.rejectIcon&&this._moveIconsForward(i)}):t.addEventListener("mouseenter",()=>{e.rejectIcon&&this._moveIconsForward(i)}),t.addEventListener("mouseleave",()=>{e.rejectIcon&&this._moveIconsBack(i)})}_iconPositionLimits(e,t){let i=this._getIconCurrentPosition(e),a=this._getIconCurrentPosition(t);return!e||!t?{initial:null,ending:null}:{initial:i.right,ending:i.right+t.offsetWidth+a.right}}_moveIconsForward(e){this._changeIconPosition(e.criteo,"mouseenter"),this._isAdvIconOnTop(e.advIcon.el)&&this._changeIconPosition(e.advIcon,"mouseenter"),e.rejectIcon.el.style.opacity="0.7"}_moveIconsBack(e){this._changeIconPosition(e.criteo,"mouseleave"),this._isAdvIconOnTop(e.advIcon.el)&&this._changeIconPosition(e.advIcon,"mouseleave"),e.rejectIcon.el.style.opacity="0"}_changeIconPosition(e,t){let i=e.positionLimits.initial,a=e.positionLimits.ending;e.el&&(t==="mouseenter"&&a!==null&&(e.el.style.right=a+"px"),t==="mouseleave"&&i!==null&&(e.el.style.right=i+"px"))}_getIconCurrentPosition(e){let t=e?this.app.context.getComputedStyle(e):null;return{right:t?parseInt(t.right.replace("px","")):null,top:t?parseInt(t.top.replace("px","")):null}}_isAdvIconOnTop(e){if(e){let t=this.app.context.getComputedStyle(e).top.replace("px","");return t>=0&&t<=5}}}});var Nl={};ye(Nl,{InAppParamsBlock:()=>jr});var Hl,jr,Gl=ne(()=>{S();_();k();C();I();D();E();ge();Hl=["mgBundle","mgStoreurl","mgIfa","gdprApplies","consentData","uspString"],jr=class extends ${constructor(e){super(e),this.name="InAppParamsBlock",this.rootContainer=this.app.getRoot();for(let t in this.rootContainer.dataset)if(Hl.indexOf(t)!==-1){this.addHook("afterInitHooks",this.setMgDataAttributes);break}}setMgDataAttributes(){for(let e in this.rootContainer.dataset)Hl.indexOf(e)!==-1&&(this.app.requestParams[e]=this.rootContainer.dataset[e])}}});var Vl={};ye(Vl,{CountersBlock:()=>zr});var zr,ql=ne(()=>{S();_();k();C();I();D();E();ge();zr=class extends ${constructor(e){super(e),this.impTrackCapping={},this.name="CountersBlock",this.addHook("afterLoadNewsHooks",this.countersLoad),this.addHook("afterLoadNewsHooks",this.widgetPerformancePixel),this.addHook("afterLoadNewsHooks",this.parseImpTracker),this.addHook("afterPrepareCappingDataHooks",this.sendImpTrackCapping),this.addHook("afterPrepareCappingDataHooks",this.sendJsTrackers)}countersLoad(){let e=0;if(Number(this.app.id)!==Number(1456432)){let t=this.app.childWidgetsData[this.app.id];e=t?t.newsWidgetIdPartner:null}}widgetPerformancePixel(e){}parseImpTracker(){let e=Object.keys(this.app.teaserData);for(let t in e)if(Array.isArray(this.app.teaserData[e[t]].impt)){for(let i=0;i<this.app.teaserData[e[t]].impt.length;i++)if(!(typeof this.app.teaserData[e[t]].impt[i].completed<"u")){if(this.app.teaserData[e[t]].impt[i].only_viewable===1)typeof this.impTrackCapping[e[t]]>"u"&&(this.impTrackCapping[e[t]]=[]),this.impTrackCapping[e[t]].push(this.app.teaserData[e[t]].impt[i]);else{let a=this.app.teaserData[e[t]].impt[i].code;this.app.teaserData[e[t]].impt[i].type==="i"&&this.sendCustomCounter(a),this.app.teaserData[e[t]].impt[i].type==="j"&&(this.app.teaserData[e[t]].impt[i].iframe===1?this.sendIframeTracker(e[t],a,i):this.sendInlineTracker(e[t],a))}this.app.teaserData[e[t]].impt[i].completed=1}}}sendImpTrackCapping(e){if(!(typeof this.impTrackCapping[e]>"u"))for(let t=0;t<this.impTrackCapping[e].length;t++)this.impTrackCapping[e][t].type==="i"&&this.sendCustomCounter(this.impTrackCapping[e][t].code),this.impTrackCapping[e][t].type==="j"&&(this.impTrackCapping[e][t].iframe===1?this.sendIframeTracker(e,this.impTrackCapping[e][t].code,t):this.sendInlineTracker(e,this.impTrackCapping[e][t].code))}sendCustomCounter(e){this.app.request.pixel("widgetCustomCounter",e,{mgbuster:"mgbuster="+("00000"+Math.round(Math.random()*1e5).toString(16)).slice(-5)},{})}sendIframeTracker(e,t,i){let a="<script>window.onerror = function() { return true; };<\/script>";a+=t;let s=this.app.context.document.createElement("iframe");s.style.display="none",this.app.renderInSafeIframe(s,`${e}_${i}`,a),this.app.root.appendChild(s)}sendInlineTracker(e,t){let i=this.getMglineByHash(e);if(!i)return;i.insertAdjacentHTML("beforeend",t);let a=i.childNodes;for(let s=0;s<a.length;s++)if(a[s]instanceof HTMLScriptElement){let n=a[s],l=this.app.context.document.createElement("script");l.src=n.src,i.removeChild(n),i.appendChild(l)}}getMglineByHash(e){let t=this.app.root.getElementsByClassName("mgline");for(let i=0;i<t.length;i++)if(t[i].getAttribute("data-i")===e)return t[i];return null}sendJsTrackers(e){if(Array.isArray(this.app.teaserData[e].jst))for(let t=0;t<this.app.teaserData[e].jst.length;t++){let i="<script>window.onerror = function() { return true; };<\/script>";i+=this.app.teaserData[e].jst[t];let a=this.app.context.document.createElement("iframe");a.style.display="none",this.app.renderInSafeIframe(a,`${e}_${t}`,i),this.app.root.appendChild(a)}}}});var Wl={};ye(Wl,{BlurBlock:()=>Fr});var Fr,Ul=ne(()=>{S();_();k();C();I();D();E();ge();Fr=class extends ${constructor(e){super(e),this.name="BlurBlock",this.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,this.addHook("afterLoadNewsHooks",this.rendering)}rendering(){let e=this.app.templateContent;if(!e)return;let t=e.querySelectorAll("[class*=mgline-small-blur]");if(!t.length)return;let i={r:159,g:138,b:126};for(let a=0;a<t.length;a++){let s=t[a],n=t[a].getElementsByClassName("text-elements")[0],l=t[a].getElementsByClassName("mctitle")[0],c=t[a].getElementsByClassName("mcdomain")[0],h=t[a].getElementsByClassName("mcdesc")[0],g=t[a].querySelector("img.mcimg"),y=t[a].querySelector("video.mcvideo");g===null&&y===null||(this.isIE11?(n.style.background="rgba(0,0,0,0.3)",s.style.background="#081010"):g?this.app.colorBlock.colorAverage(g).then(T=>{this._createGradient(s,e,T,n),s.style.background="rgb("+T.r+","+T.g+","+T.b+")",this._changeColor(T,l,c,h)}):(this._createGradient(s,e,i,n),s.style.background="rgb("+i.r+","+i.g+","+i.b+")",this._changeColor(i,l,c,h)))}}_createGradient(e,t,i,a){let s=this._blurDirection(e,t);if(a.style.background=`linear-gradient(${s}, transparent,
                        rgba(${i.r}, ${i.g}, ${i.b}, 0) 4%,
                        rgba(${i.r}, ${i.g}, ${i.b}, 0.5) 8%,
                        rgb(${i.r}, ${i.g}, ${i.b}) 12%`,typeof ResizeObserver<"u")new ResizeObserver(()=>{let l=this._blurDirection(e,t);a.style.background=`linear-gradient(${l}, transparent,
                          rgba(${i.r}, ${i.g}, ${i.b}, 0) 4%,
                          rgba(${i.r}, ${i.g}, ${i.b}, 0.5) 8%,
                          rgb(${i.r}, ${i.g}, ${i.b}) 12%`}).observe(t);else{let n=s;window.addEventListener("resize",()=>{let l=this._blurDirection(e,t);l!==n&&(a.style.background=`linear-gradient(${l}, transparent,
                        rgba(${i.r}, ${i.g}, ${i.b}, 0) 4%,
                        rgba(${i.r}, ${i.g}, ${i.b}, 0.5) 8%,
                        rgb(${i.r}, ${i.g}, ${i.b}) 12%`),n=this._blurDirection(e,t)})}}_blurDirection(e,t){let i=/\bmgline-small-blur-[^\s]*\b/.exec(e.classList.value),a=480,s=this.app.context.matchMedia(`(max-width: ${a}px)`).matches,n="to bottom";return!s&&t.offsetWidth>a&&i&&(n=`to ${i[0].split("-").pop()}`),n}_changeColor(...e){let t=e[0],i=e.slice(1),a=.299*t.r+.587*t.g+.114*t.b>186?"#000":"#fff";i.length!==0&&i.forEach(s=>{s&&(s.getElementsByTagName("a")[0].style.color=a)})}_changeFontSize(...e){let t=e[0];e.slice(1).forEach(a=>{if(a){let n;t==="to bottom"||t==="to top"?n=this.app.autoSizeTitle-Math.round(a.offsetHeight/this.app.autoSizeTitle):n=22-Math.round(a.offsetHeight/22),a.getElementsByTagName("a")[0].style.cssText=`font-size: ${n}px`}})}}});var jl={};ye(jl,{SubnetsBlock:()=>Yr});var Yr,zl=ne(()=>{S();_();k();C();I();D();E();ge();Yr=class extends ${constructor(e){super(e),this.name="SubnetsBlock",this.addHook("afterInitHooks",this._init),this.app.currentSubnet=0,this.app.subnetMirrorsImage="",this.app.subnetMirrorsUtm="",this.app.subnetDashboardDomain=""}_init(){let e=[1456432];this._childWidgets=JSON.parse('{"1488793":{"childId":1488793,"newsWidgetIdPartner":0,"customFuncBlocks":[],"showMonetizationEnabled":1,"childCountNews":6,"isAdblockChild":true,"childSubtype":"under-article-widget-adblock"}}');let t=JSON.parse('{"1488793":[]}');this._childFuncBlockList=[];for(let s in this._childWidgets)this._childWidgets.hasOwnProperty(s)&&e.push(this._childWidgets[s].childId);for(let s in t)if(t.hasOwnProperty(s)){this._childFuncBlockList[s]=this._childFuncBlockList[s]||[];for(let n in t[s])t[s].hasOwnProperty(n)&&this._childFuncBlockList[s].push(t[s][n].split("/").pop())}let i=this._loadSubnets(),a=this.app.uniqId!==""?"_"+this.app.uniqId:"";e.forEach(s=>{this.app.context["mgReject"+s]=this.app["MarketGidReject"],this.app.context["mgLoadAds"+s+a]=(n,l)=>{let c=i[0];this._loadAds(n,l,s,0,c.mirror)},this.app.context["_mgConsentWait"+s+a]=n=>{this.app.consentsBlock.waitConsent(n)};for(let n in i)if(i.hasOwnProperty(n)){let l=i[n];l.id!==1&&(this.app.context[l.informer_prefix+"CReject"+s]=this.app["MarketGidReject"],this.app.context[l.informer_prefix+"LoadGoods"+s+a]=(c,h)=>{this._loadAds(c,h,s,l.id,l.mirror)})}})}_loadSubnets(){let e=JSON.parse('[{"id":0,"informer_prefix":"MarketGid","mirror":"mgid.com","mirrorName":"adsmovil","imageDomain":"mgid.com","dashboardDomain":"dashboard.mgid.com","utm":"?utm_source={domain}&utm_medium=referral&utm_campaign=widgets&utm_content="}]'),t=e[0];return this.app.subnetMirrorsImage=t.imageDomain,this.app.subnetMirrorsUtm=t.utm,this.app.subnetDashboardDomain=this.app.webProtocol+"//"+t.dashboardDomain,e}_loadAds(e,t,i,a,s){if(this.app.id=i,this.app.loadedType="goods",this.app.currentSubnet=a,this.app.currentSubnetDomain=s,this.app.originalId!==this.app.id){if(typeof this._childFuncBlockList[this.app.id]<"u"){let n=this._childFuncBlockList[this.app.id];this._executeFuncBlock(n)}if(typeof this._childWidgets[this.app.id]<"u"&&typeof this._childWidgets[this.app.id].customFuncBlocks<"u"){let n=this._childWidgets[this.app.id].customFuncBlocks;this._executeFuncBlock(n)}}typeof this.app.updatePrecalcRect<"u"&&Array.isArray(e)&&e.length!==this.app.getExpectedCountNews()?this.app.updatePrecalcRect(()=>{this.app.loadedType="goods",this.app.currentSubnet=a,this.app.lifeCycleBlock.render(e,t)},e.length):this.app.lifeCycleBlock.render(e,t)}_executeFuncBlock(e){for(let t in e)if(e.hasOwnProperty(t)){let i=e[t],a=i.replace(/[-_]/g,"").replace(/./,s=>s.toUpperCase())+"Block";try{this.app[a]=new window["MarketGidInfC1456432"].childFuncBlocks[i](this.app)}catch(s){this.app.log(`SubnetsBlock - ${i} error:`,"error",s)}}}}});var Yl={};ye(Yl,{SmartDoubleClickBlock:()=>$r});var Fl,Ef,Pf,$r,$l=ne(()=>{S();_();k();C();I();D();E();ge();Fl=1,Ef=100,Pf={undefined:-1,desktop:1,mobile:2,tablet:3,smarttv:4},$r=class extends ${constructor(e){super(e),this.name="SmartDoubleClickBlock",this.app.isDisabledBySmartDoubleClick=!1,this.addHook("afterInitHooks",this._init)}_init(){this.groups=this.app.getWidgetValue("doubleclickParameters",JSON.parse("null")),!(!this.groups||!this.app.isEnabledDoubleClick())&&(this.doubleClickCheckId=0,this.loadedTime=this.app.getCurrentTimestamp(),this.handlers=this._getHandlers(),this.app.onSmartDoubleClickHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.onSmartDoubleClick.handler,this.app.clickHandlerList.onSmartDoubleClick.priority))}_getGroupPercent(e,t,i){let a=0,s=t.getBoundingClientRect();for(let n in this.handlers){if(!this.handlers[n])continue;let l=this.handlers[n](e,i,s);if(l===!1)return!1;a+=l}return a/Object.keys(e).length}_getGroupElementPercent(e,t,i){return e.hasOwnProperty(t)?e[t].hasOwnProperty("value")&&i===e[t].value||e[t].hasOwnProperty("min")&&i>=e[t].min&&i<=e[t].max?e[t].percent:!1:0}_getDoubleClickPercent(e,t){for(let i in this.groups){if(!this.groups[i])continue;let a=this._getGroupPercent(this.groups[i],e,t);if(a!==!1)return this.doubleClickCheckId=i,a}return this.doubleClickCheckId=0,Fl-1}_onClick(e,t){let i=this.app.random(Fl,Ef);return this.app.doubleClickPercent=this._getDoubleClickPercent(e,t),this.app.isDisabledBySmartDoubleClick=this.app.doubleClickPercent<i,this.app.doubleClickCheckId=this.app.isDisabledBySmartDoubleClick?0:this.doubleClickCheckId,!0}_getHandlers(){return[e=>this._getGroupElementPercent(e,"device",Pf[this.app.deviceType]||""),e=>this._getGroupElementPercent(e,"browser",this.app.browserId),e=>this._getGroupElementPercent(e,"click_time",this.app.getCurrentTimestamp()-this.loadedTime),e=>this._getGroupElementPercent(e,"width",this.app.root.offsetWidth),e=>this._getGroupElementPercent(e,"height",this.app.root.offsetHeight),e=>this._getGroupElementPercent(e,"click_y",this.app.root.mouseY),e=>this._getGroupElementPercent(e,"click_x",this.app.root.mouseX),e=>this._getGroupElementPercent(e,"hw_ratio",this.app.root.offsetHeight/this.app.root.offsetWidth),(e,t)=>this._getGroupElementPercent(e,"borderTop",t.offsetY),(e,t)=>this._getGroupElementPercent(e,"borderLeft",t.offsetX),(e,t,i)=>this._getGroupElementPercent(e,"borderRight",i.width-t.offsetX),(e,t,i)=>this._getGroupElementPercent(e,"borderBottom",i.height-t.offsetY),e=>this._getGroupElementPercent(e,"research",1)]}}});var Zl={};ye(Zl,{MobileDoubleClickBlock:()=>Zr});var Zr,Xl=ne(()=>{S();_();k();C();I();D();E();ge();Zr=class extends ${constructor(e){super(e),this.name="MobileDoubleClickBlock",("ontouchstart"in window||navigator.msMaxTouchPoints>0)&&(this.addHook("afterSendCappingHooks",this._init),this.addHook("beforeInitHooks",()=>{this.informerId=this.app.root.getAttribute("id")}))}_init(){!this.app.isEnabledDoubleClick()||(this.app.doubleClickTimeLoaded||(this.app.doubleClickTimeLoaded=new Date().getTime()/1e3),this.app.stylesheetsBlock.add("doubleclickMobile",this._getStyles()),this.app.showDoubleClickButton=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.showMobileDoubleClick.handler,this.app.clickHandlerList.showMobileDoubleClick.priority))}_onClick(e,t){if(this.app.isDisabledBySmartDoubleClick)return!0;this.app.doubleClickType="mobile",this.app.linksBlocked=!1;let i=e;if(!1===1){if(this.app.doubleClickHandler(i),i.className.indexOf("mgbuybox")===-1){for(;i.tagName!=="A"&&i.id!==this.informerId;)if(i=i.parentNode,i.id===this.informerId)return!1;try{for(;i.className.indexOf("mgline")===-1;)i=i.parentNode}catch{return!1}let a=i;a.dataset.clicked!=="1"&&(t.preventDefault(),this.app.linksBlocked=!0),a.dataset.clicked="1";let s=a.querySelector(".mgfree"),n=a.querySelector(".mgbuybox");s.style.opacity=0,n.style.opacity=1,n.style.opacity=1,n.style.zIndex=9999,setTimeout(()=>{s.style.opacity=1,n.style.opacity=0,a.dataset.clicked="0",n.style.zIndex=-9999},1e4)}}else{let a=new Date().getTime()/1e3,s=this.app.getWidgetValue("mobileDoubleclickDelay",0);if(i.className!=="MarketGidCDButton"+1456432&&(s===0||a-this.app.doubleClickTimeLoaded<s)){for(this.app.doubleClickHandler(i),this.app.linksBlocked=!0,t.preventDefault();i.tagName!=="A"&&i.id!==this.informerId;)if(i=i.parentNode,i.id===this.informerId)return;let n=i.getAttribute(this.app.hrefAttr);for(i=t.target;!i.classList.contains("mgline");)i=i.parentNode;let l=i,c=this.app.context.document.createElement("div");c.className="MarketGidCDLayout"+1456432,c.style.zIndex=1e5;let h=this.app.context.document.createElement("a"),g=80,y=80,T=(1-g/l.offsetHeight)/2*100,b=l.offsetWidth/y*.98,P=i.querySelector("a");P&&P.getAttribute("data-hash")&&h.setAttribute("data-hash",P.getAttribute("data-hash")),h.innerHTML=this.app.getTranslation("[GO]"),(typeof n=="string"||n instanceof String)&&(n=n+(n.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),h.href=n,h.style.top=T+"%";let x=b>1?(1-y/l.offsetWidth)/2*100:0;h.style.left=x+"%",l.offsetHeight<=100&&(b=.5),b<1&&(h.style.transform="scale3d("+b+","+b+","+b+")",h.style.webkitTransform="scale3d("+b+","+b+","+b+")",h.style.transformOrigin="left",h.style.webkitTransformOrigin="left"),h.target="_blank",h.className="MarketGidCDButton"+1456432,c.appendChild(h);let B=l.querySelector(".mgline-inner");B?B.appendChild(c):l.appendChild(c);let O=this.app.getWidgetValue("mobileDoubleclickDelay",0);setTimeout(()=>{b=b<1?b:1,h.style.transform="scale3d("+b+","+b+","+b+")"},O),setTimeout(()=>{c.parentNode.removeChild(c)},1e4)}else return this.app.doubleClickHandler(i,!0),!0}}_getStyles(){return".MarketGidCDButton"+1456432+'{display:       inline-block;width:         170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);text-align:    center;padding:    0 10px;text-shadow:   none;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.MarketGidCDLayout'+1456432+"{height: 100%;width: 100%;position: absolute;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;}#MarketGidCComposite"+1456432+" .mgline {position:relative}"}}});var Jl={};ye(Jl,{DesktopDoubleClickBlock:()=>Xr});var Xr,Kl=ne(()=>{S();_();k();C();I();D();E();ge();Xr=class extends ${constructor(e){super(e),this.name="DesktopDoubleClickBlock";let t="ontouchstart"in window||navigator.msMaxTouchPoints>0,i="addEventListener"in window.document;!t&&i&&(this.addHook("afterSendCappingHooks",this._init),this.addHook("beforeInitHooks",()=>{this.informerId=this.app.root.getAttribute("id")}))}_init(){!this.app.isEnabledDoubleClick()||(this.app.doubleClickTimeLoaded||(this.app.doubleClickTimeLoaded=new Date().getTime()/1e3),this.app.stylesheetsBlock.add("desktopDoubleClick",this._getStyles()),this.app.showDesktopDoubleClickButton=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.showDesktopDoubleClick.handler,this.app.clickHandlerList.showDesktopDoubleClick.priority))}_onClick(e,t){if(this.app.isDisabledBySmartDoubleClick)return!0;this.app.linksBlocked=!1,this.app.doubleClickType="desktop";let i=e,a=parseInt(new Date().getTime()/1e3),s=this.app.getWidgetValue("desktopDoubleclickDelay",0);if(i.className!=="MarketGidCDButton"+1456432&&(s===0||a-this.app.doubleClickTimeLoaded<s)){for(this.app.doubleClickHandler(i),t.preventDefault(),this.app.linksBlocked=!0;i.tagName!="A"&&i.id!=this.informerId;)if(i=i.parentNode,i.id==this.informerId)return!1;let n=i.getAttribute(this.app.hrefAttr);i=t.target;try{for(;!i.classList.contains("mgline");)i=i.parentNode}catch{return!1}let l=i,c=l.offsetHeight,h=this.app.context.document.createElement("div");h.className="MarketGidCDLayout"+1456432,h.style.zIndex=1e5;let g=this.app.context.document.createElement("a"),y=c/3+2,T=y;g.style.width=y-2+"px",g.style.lineHeight=y-2+"px",g.style.height="33.33%",l.offsetHeight<=100&&(T=80,y=80,g.style.width="80px",g.style.lineHeight="78px",g.style.height="80px");let b=(1-y/l.offsetHeight)/2*100;t.clientY-l.getBoundingClientRect().top<c/2?b=(1-2*y/c)*100/4+50:b=(1-2*y/c)*100/4,l.offsetHeight<=100&&(b="-34");let P=l.offsetWidth/T*.98;g.innerHTML=this.app.getTranslation("[GO]"),(typeof n=="string"||n instanceof String)&&(n=n+(n.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),g.href=n;let x=i.querySelector("a");x&&x.getAttribute("data-hash")&&g.setAttribute("data-hash",x.getAttribute("data-hash")),g.style.top=b+"%";let B=P>1?(1-T/l.offsetWidth)/2*100:0;l.offsetHeight<=100&&(B="45.5"),g.style.left=B+"%",parseFloat(g.style.width)<=50&&(g.style.font="normal 500 12px/"+g.style.width+' "Sans", sans-serif'),l.offsetHeight<=100&&(P=.5),P<1&&(g.style.transform="scale3d("+P+","+P+","+P+")",g.style.webkitTransform="scale3d("+P+","+P+","+P+")",g.style.transformOrigin="left",g.style.webkitTransformOrigin="left"),g.target="_blank",g.className="MarketGidCDButton"+1456432,h.appendChild(g);let O=l.querySelector(".mgline-inner");O?O.appendChild(h):l.appendChild(h),setTimeout(()=>{P=P<1?P:1,g.style.transform="scale3d("+P+","+P+","+P+")"},500),setTimeout(()=>{h.parentNode.removeChild(h)},1e4)}else return this.app.doubleClickHandler(i,!0),!0}_getStyles(){return".MarketGidCDButton"+1456432+'{display:       inline-block;width:         170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);text-align:    center;padding:    0 10px;text-shadow:   none;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.MarketGidCDLayout'+1456432+"{height: 100%;width: 100%;position: absolute;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 100;}#MarketGidCComposite"+1456432+" .mgline {position:relative}"}}});var Ql={};ye(Ql,{SspDoubleClickBlock:()=>Jr});var Jr,ep=ne(()=>{S();_();k();C();I();D();E();ge();bt();Jr=class extends ${constructor(e){super(e),this.name="SspDoubleClickBlock",this.addHook("afterSendCappingHooks",this._onCapping),this.addHook("afterInjectScriptHooks",this._init),this.app.doubleClickType="ssp",this.app.hashTimer=[],this.servicerDoubleClickStatus=!1}_init(){this.app.stylesheetsBlock.add("ssp_doubleclick",this._getStyles());let e=setInterval(()=>{if(this.servicerDoubleClickStatus===!0){clearInterval(e);return}!this.app.isEnabledDoubleClick()&&typeof this.app.servicerData.dc<"u"&&this.app.root.querySelectorAll("a[data-hash]").length>0&&(this.app.sspDoubleClickHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.sspDoubleClick.handler,this.app.clickHandlerList.sspDoubleClick.priority),this.servicerDoubleClickStatus=!0)},100)}_onClick(e,t){let i=e.getAttribute("data-hash"),a=new Date().getTime();return i in this.app.hashTimer&&a-this.app.hashTimer[i]>this.app.servicerData.dc||this.app.teaserData[i].coopType!==Se.Wages||e.className==="MarketGidDButton"+1456432?(this.app.doubleClickHandler(e,!0),!0):(this.app.doubleClickHandler(e),t.preventDefault(),this._showButton(e),!1)}_showButton(e){let t=this.app.context.document.createElement("div");t.classList.add("MarketGidDLayout"+1456432);let i=e.closest(".mgline");i!==null&&i.appendChild(t);let a=this.app.context.document.createElement("a");a.classList.add("MarketGidDButton"+1456432);let s=e.getAttribute("href");(typeof s=="string"||s instanceof String)&&(s=s+(s.indexOf("?")>=0?"&":"?")+"wct="+this.app.doubleClickType),a.href=s,a.setAttribute("data-hash",e.getAttribute("data-hash"));let n=80,l=80,c=(1-n/i.offsetHeight)/2*100,h=i.offsetWidth/l*.98;a.style.backgroundImage="url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzggMzgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwb2x5Z29uIHBvaW50cz0iMTIsMjkuMSAyMi4yLDE5IDEyLjEsOC45IDE0LDcgMjYsMTkgMTQsMzEiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utb3BhY2l0eT0iMSI+PC9wb2x5Z29uPjwvc3ZnPg==)",a.style.backgroundPosition="center",a.style.top=c+"%";let g=h>1?(1-l/i.offsetWidth)/2*100:0;a.style.left=g+"%",h<1&&(a.style.transform="scale3d("+h+","+h+","+h+")",a.style.webkitTransform="scale3d("+h+","+h+","+h+")",a.style.transformOrigin="left",a.style.webkitTransformOrigin="left"),a.target="_blank",t.appendChild(a),setTimeout(()=>{h=h<1?h:1,a.style.transform="scale3d("+h+","+h+","+h+")"},10),setTimeout(()=>{t.parentNode.removeChild(t)},1e4)}_onCapping(){if(typeof this.app.sspDoubleClickHash<"u")for(let e=0;e<this.app.sspDoubleClickHash.length;e++)typeof this.app.hashTimer[this.app.sspDoubleClickHash[e]]>"u"&&(this.app.hashTimer[this.app.sspDoubleClickHash[e]]=new Date().getTime())}_getStyles(){let e={0:{borderColor:"#0a1b53",gradient:"#2b3c84, #0c1b52",fontColor:"#fff"},2:{borderColor:"#010101",gradient:"#111312, #010101",fontColor:"#fff"},3:{borderColor:"#F36729",gradient:"#F79220, #F26B29",fontColor:"#fff"}},t=(typeof e[0]<"u",e[0]),i=".MarketGidDButton"+1456432+"{display:       inline-block;";return i+='width:     170px !important;height:        50px !important;line-height:        50px !important;background-color: RGBA(0,0,0,0);border:        1px solid white;border-radius:        3px;color:         white !important;font:          normal 500 18px/50px "Sans", sans-serif;transform: scale3d(0.0001,0.0001,0.0001);',i+="text-align:    center;position: absolute;left: 0 !important;right: 0 !important;top: 0 !important;bottom: 0 !important;margin: auto !important;text-decoration: none !important;transition:all 1s;}.MarketGidDLayout"+1456432+"{height: 100%;width: 100% !important;position: absolute !important;top: 0px;left: 0px;background-color: rgba(0, 0, 0, 0.5);z-index: 99999;}#MarketGidComposite"+1456432+" .mgline {position:relative}",i}}});var tp={};ye(tp,{ExternalCountersBlock:()=>Kr});var Kr,ip=ne(()=>{S();_();k();C();I();D();E();ge();Kr=class extends ${constructor(e){super(e),this.name="ExternalCountersBlock",this.app.externalCountersLinkHandler=this._externalCountersLinkHandler.bind(this),this._handleExternalCountersListener()}_externalCountersLinkHandler(e){let t=e.getAttribute("data-hash");if(Array.isArray(this.app.teaserData[t].clicktrackers)){let i=this.app.teaserData[t].clicktrackers;if(i.length)for(let a=0;a<i.length;a++)this.app.request.pixel(`clickTracker ${t} - ${i[a]}`,i[a],{},{})}return!0}_handleExternalCountersListener(){this.app.addClickHandler(this.app.clickHandlerList.externalCountersLink.handler,this.app.clickHandlerList.externalCountersLink.priority)}}});var ap={};ye(ap,{VideoMetricsBlock:()=>Qr});var Qr,sp=ne(()=>{S();_();k();C();I();D();E();ge();Qr=class extends ${constructor(e){super(e),this.name="VideoMetricsBlock",this.userAgent=this.app.context.navigator.userAgent,this.exceptionAgentList=["Zalo iOS"],this.videoType="video/mp4",this.VIDEO=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:this.videoType}),this.siteBody=this.app.getMostTopWindow().document.body,this._playVideos=this._playVideos.bind(this),this.addHook("beforeLoadNewsHooks",this._setVideoStyles),this.addHook("afterLoadNewsHooks",this._playVideos)}_setVideoStyles(){let e=".mgbox * { -webkit-transition: all .25s; -moz-transition: all .25s; -ms-transition: all .25s; -o-transition: all .25s; transition: all .25s; } .mgbox { padding: 0 !important; position: relative !important; text-align: center; vertical-align: top !important; margin: 0 auto; border-style: none; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: row; -ms-flex-direction: row; flex-direction: row; -webkit-flex-wrap: wrap; -ms-flex-wrap: wrap; flex-wrap: wrap; line-height: 100% !important; transition: none !important; box-sizing: border-box; width: 100%; max-width: 680px; font-family: Arial; } .mgheader { border-bottom: 1px solid #ccc !important; padding-bottom: 3px; margin-bottom: 10px; } .mgheader div a { position: relative; top: -5px; } .mgheader div img { position: relative; top: 5px; height: 27px; } .mghead { color: #333; font-size: 17px; line-height: 1.2; text-transform: uppercase !important; margin: 5px 0 0 0 !important; font-family: Arial; font-weight: 400; } .mgline { background: transparent; cursor: pointer; display: inline-block; _overflow: hidden; *zoom: 1; *display: inline; border: none; box-sizing: border-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; word-wrap: break-word; vertical-align: top; position: relative; margin-bottom: 5px; } .mgline .allink { height: 100%; width: 100%; display: block; position: absolute; cursor: pointer; z-index: 1; } .mgline .image-with-text { width: 100% !important; height: auto; max-width: 100%; margin: 0 auto; position: relative; } .mgline .image-container { position: relative; } div.mcimg { padding: 0; text-align: center; display: block !important; } .mgline:hover:not(.vrline) div.mcimg { opacity: 0.8 !important; } img.mcimg { border-style: none; width: 100%; height: auto !important; max-width: 680px; max-height: 385px; box-sizing: border-box; display: block; margin: 0; } .mgline .text-elements { padding-top: 10px; } .text-elements a { text-decoration: none; } .mgline .text_on_hover a { top: 0; left: 0; } .mctitle { text-align: left; } .mctitle a { font-family: Arial; font-weight: bold; font-size: 20px; line-height: 22px; font-style: normal; text-decoration: none; color: #333; letter-spacing: -0.4px; } .mgline:hover .mctitle a { color: #0F4B81; text-decoration: none; } .mcdesc { display: none; text-align: left; } .mcdesc a { font-family: Arial; font-weight: normal; font-size: 16px; line-height: 20px; font-style: normal; text-decoration: none; color: #a9a9a9; } .mcdomain { display: block; text-align: left; margin-top: 10px; } .mcdomain a { font-family: Arial; font-weight: 400; font-size: 17px; line-height: 16px; font-style: normal; text-decoration: none; color: #A9A9A9; display: block; overflow: hidden; text-transform: uppercase; letter-spacing: 0.85px; } @supports not (flex-wrap: wrap) { .mgbox { display: block !important; } .mgline { display: inline-block !important; } } img.mcimgad { position: absolute; bottom: 0; right: 0; z-index: 10; opacity: 0.7; width: 20px; height: 20px; } .mgbox .row1, .mgbox .row2 { display: flex; flex-direction: row; flex-wrap: wrap; width: 100%; max-width: 100%; position: relative; margin: 0 0 5px !important; } .mgbox .row1 .mgline { width: 100%; max-width: 100%; } .row1 .mgline img.mcimgad { left: 0; } .row1 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row1 .mgline .mcdesc { margin-top: 10px; } .row1 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .mgbox .row2 .mgline { width: 49.5%; max-width: 49.5%; } .row2 .mgline .text_on_hover { padding: 0 0 10px; z-index: 10; } .row2 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline .image-container:before { content: \\'\\'; display: inline-block; position: absolute; left: 0 !important; width: 100%; height: 100%; z-index: 10; } .row2 .mgline:first-child { margin-right: 1%; } .row2 .mgline .mctitle { margin-bottom: 5px !important; } .row2 .mgline .mcdesc { display: none !important; } @media (max-width: 480px) { .row1 .mgline:not(.vrline) div.mcimg { float: none; width: 100%; } .row1 .mgline div.mcimg { float: none; width: 100%; } .row1 .mgline img.mcimgad { left: inherit; } .row1 .mgline .text-elements { width: 100% !important; bottom: 0 !important; } .row1 .mgline .text_on_hover { width: auto; height: auto; } .row1 .mgline .mcdesc { margin-top: 5px; max-height: 32px; overflow: hidden; } .row2 .mgline { width: 100% !important; max-width: 100% !important; } .row2 .mgline:first-child { width: 100%; margin-right: 0; max-width: 100% !important; } .mctitle, .mcdesc { width: 100% !important; } .mctitle, .mcdesc { text-align: left !important; } .mgline { overflow: hidden; } .mghead { font-size: 15px; } .mgheader div img { max-height: 24px; } .mctitle a { font-size: 18px; line-height: 19px; letter-spacing: -0.2px; } .mcdomain a { font-size: 12px; line-height: 12px; } .mcdomain { margin-top: 5px; } } .mgbox .row2 .mgline { display: block; } ";this.app.adBlockDetect()&&(e=this.app.adBlockStyles),e=e.split("img.mcimg {").filter((t,i)=>i!==0).map(t=>t.substring(0,t.indexOf("}"))).join("").trim(),this.app.stylesheetsBlock.add("new-mcvideo-styles",`.mgline video.mcvideo {${e}}`)}_playVideos(){let e=this.app.root.getElementsByClassName("mcvideo");for(let t=0;t<e.length;t++){let i=e[t],a=()=>{if(i.classList.contains("played"))this.siteBody.removeEventListener("pointerdown",a);else{let s=i.play();typeof s<"u"&&s.catch(n=>{this.app.log("_playVideosHandler. Error: ","error",n),i.controls="true"})}};this.siteBody.addEventListener("pointerdown",a,!1)}}waitForCollectMetrics(){return new Promise(e=>{let t=0;if(this._isIosWebview()&&this._isExceptionAgent()){this.app.requestParams.mp4=t,this.app.requestParams.ap=0,e();return}let i=this.app.context.document.createElement("video");if(i.muted="true",i.autoplay="true",i.loop="true",i.setAttribute("playsinline",""),i.setAttribute("webkit-playsinline",""),i.src=URL.createObjectURL(this.VIDEO),typeof i.canPlayType<"u"){let s=i.canPlayType(this.videoType);(s=="maybe"||s=="probably")&&(t=1)}this.app.requestParams.mp4=t;let a=i.play();typeof a<"u"?a.then(()=>{this.app.requestParams.ap=1,i.src="",typeof i.remove<"u"&&i.remove(),e()}).catch(s=>{this.app.requestParams.ap=0,i.src="",typeof i.remove<"u"&&i.remove(),this.app.log("VideoMetricsBlock: waitForCollectMetrics. Error: ","error",s),e()}):(this.app.requestParams.ap=0,i.src="",typeof i.remove<"u"&&i.remove(),this.app.log("VideoMetricsBlock. Promise in play method is not supported.","error"),e())})}_isIosWebview(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(this.userAgent)}_isExceptionAgent(){return this.exceptionAgentList.some(e=>this.userAgent.indexOf(e)!==-1)}}});var rp={};ye(rp,{OriginTrialsBlock:()=>en});var en,np=ne(()=>{S();_();k();C();I();D();E();ge();en=class extends ${constructor(e){super(e),this.name="OriginTrialsBlock",this.addHook("beforeInitHooks",this.initOriginTrials)}initOriginTrials(){JSON.parse('[{"name":"X-Requested-With Trial. servicer.mgid.com","token":"A00OovyFoivp5xgE074+G3hiIk00oBqovMlZYlJd\\/gVpyF7t0vfq+2flpGTOUtezADAnKew0nlBFSAmijsLtlA0AAAB\\/eyJvcmlnaW4iOiJodHRwczovL3NlcnZpY2VyLm1naWQuY29tOjQ0MyIsImZlYXR1cmUiOiJXZWJWaWV3WFJlcXVlc3RlZFdpdGhEZXByZWNhdGlvbiIsImV4cGlyeSI6MTcxOTUzMjc5OSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ==","conditions":["webview"]},{"name":"X-Requested-With Trial. c.mgid.com","token":"A\\/TuIKGyAWlQptIROuEuX1RnZ8F17uxV+uDuQibYYFbe\\/jXBHbZzB7O0PR8NqtkSskdPP45qEu6GRs9oAMQXUgsAAAB4eyJvcmlnaW4iOiJodHRwczovL2MubWdpZC5jb206NDQzIiwiZmVhdHVyZSI6IldlYlZpZXdYUmVxdWVzdGVkV2l0aERlcHJlY2F0aW9uIiwiZXhwaXJ5IjoxNzE5NTMyNzk5LCJpc1RoaXJkUGFydHkiOnRydWV9","conditions":["webview"]},{"name":"Topics API. jsc.mgid.com","token":"A98IbLS4m1quYK6KTB4oj9mnu1sBBg5Tk1xTmAqXr78D7fAyl4wFn5SW42Tz8RHcaf2IVnbAJB72nvSuE1Qz5AEAAABveyJvcmlnaW4iOiJodHRwczovL2pzYy5tZ2lkLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjk1MTY3OTk5LCJpc1RoaXJkUGFydHkiOnRydWV9","conditions":[]}]').forEach(t=>{if(t.conditions.indexOf("webview")!==-1&&!this.app.utils.isChromeWebView())return;let i=this.app.context.document.createElement("META");i.httpEquiv="origin-trial",i.content=t.token,this.app.context.document.head.append(i),this.app.log("Origin Trial Token inserted: "+t.name)})}}});var op={};ye(op,{BrowserTopicsBlock:()=>tn});var tn,lp=ne(()=>{S();_();k();C();I();D();E();ge();tn=class extends ${constructor(e){super(e),this.name="BrowserTopicsBlock",this.addHook("beforeInitHooks",this.browserTopicsInit,50)}browserTopicsInit(){try{this.isFeatureAvailable()&&this.getTopics()}catch(e){this.app.log(`${this.name} received topics Failed`,"error",e)}}isFeatureAvailable(){return"browsingTopics"in this.app.context.document&&this.app.context.document?.featurePolicy?.allowsFeature("browsing-topics")}getTopics(){this.app.context.document.browsingTopics().then(e=>{e.length&&(this.app.requestParams.topics=e.map(({topic:t})=>t).join(",")),this.app.log(`${this.name} received topics Successfully: ${e}`)})}}});var pp={};ye(pp,{CalculateSessionsBlock:()=>an});var an,dp=ne(()=>{S();_();k();C();I();D();E();ge();gr();an=class extends ${constructor(e){if(super(e),this.expirationLimit=30*24*60*60*1e3,this.weekLimit=7*24*60*60*1e3,this.sessionLimit=30*60*1e3,this.storageKeys={sessionsList:"_mgSessionsTimeList",sessionsNumber:"_mgSessionsNumber",sessionId:"_mgSessionId",sessionPage:"_mgSessionPagesNumber"},this.pagesKey="_mgSessionPages",this.name="CalculateSessionsBlock",!this.app.isAmp()&&!this.app.isIframe()){this.topWindow=this.app.getMostTopWindow();try{this.topWindow.localStorage&&(this.addHook("afterInitHooks",this.calculateSessions),this.app.beforeInjectScriptEvent?this.app.context.document.body.addEventListener(qi.beforeInjectScriptEvent,()=>{this.calculateSessions(),this.sendSessions()}):this.addHook("afterInitHooks",this.sendSessions),this.addHook("beforeLoadNewsHooks",this.savedSessions))}catch(t){this.app.log(`${this.name} no localStorage found`,"error",t)}}}calculateSessions(){let e=this.topWindow.location.pathname,t=this.getCurrentTime();if(this.sessionPage=this.topWindow[this.storageKeys.sessionPage]||Number(this.topWindow.localStorage[this.storageKeys.sessionPage])||0,this.sessionsList=(this.topWindow[this.storageKeys.sessionsList]||JSON.parse(this.topWindow.localStorage[this.storageKeys.sessionsList]||"false")||[]).filter(i=>t-i<this.expirationLimit),this.topWindow[this.pagesKey]=this.topWindow[this.pagesKey]||[],this.topWindow[this.pagesKey].indexOf(e)===-1&&(this.topWindow[this.pagesKey].push(e),this.sessionPage=this.sessionPage+1),this.sessionsList.length){let i=this.sessionsList[this.sessionsList.length-1];t-i<this.sessionLimit?(this.sessionsList[this.sessionsList.length-1]=t,this.sessionId=this.topWindow[this.storageKeys.sessionId]||this.topWindow.localStorage[this.storageKeys.sessionId]||this.generateSessionId()):(this.sessionId=this.generateSessionId(),this.sessionsList=[...this.sessionsList,t],this.topWindow[this.pagesKey]=[e],this.sessionPage=1)}else this.sessionId=this.generateSessionId(),this.sessionsList=[t],this.topWindow[this.pagesKey]=[e],this.sessionPage=1;this.sessionsByWeek=this.sessionsList.filter(i=>t-i<this.weekLimit),this.topWindow[this.storageKeys.sessionId]=this.sessionId,this.topWindow[this.storageKeys.sessionPage]=this.sessionPage,this.topWindow[this.storageKeys.sessionsList]=this.sessionsList}sendSessions(){if(this.app.requestParams.sessionId=this.sessionId,this.app.requestParams.sessionPage=this.sessionPage,this.app.requestParams.sessionNumberWeek=this.sessionsByWeek.length,this.sessionsList.length===1)this.app.requestParams.sessionNumber=1;else if(this.sessionsList.length>=2){let e=this.sessionsList[this.sessionsList.length-1],t=this.sessionsList[this.sessionsList.length-2],i=Math.floor((e-t)/6e4);this.app.requestParams.sessionNumber=this.sessionsList.length,this.app.requestParams.timeBetweenSessions=i}}savedSessions(){this.app.servicerData.consent?(this.topWindow.localStorage[this.storageKeys.sessionId]=this.sessionId,this.topWindow.localStorage[this.storageKeys.sessionPage]=this.sessionPage,this.topWindow.localStorage[this.storageKeys.sessionsList]=JSON.stringify(this.sessionsList)):Object.keys(this.storageKeys).forEach(e=>{this.topWindow.localStorage.removeItem(this.storageKeys[e])})}generateSessionId(){return Math.round(Date.now()/1e3).toString(16)+"-"+("00000"+Math.round(Math.random()*1e5).toString(16)).slice(-5)}getCurrentTime(){return new Date().getTime()}}});var cp={};ye(cp,{RenderClassicBlock:()=>sn});var sn,hp=ne(()=>{S();_();k();C();I();D();E();ge();bt();sn=class extends ${constructor(e){super(e),this.name="RenderClassicBlock",this.expressionMap={"||":t=>{for(let i in t)if(this.expressionParser(t[i]))return!0;return!1},"&&":t=>{for(let i in t)if(!this.expressionParser(t[i]))return!1;return!0},"==":t=>this.expressionParser(t[0])==this.expressionParser(t[1]),"!=":t=>this.expressionParser(t[0])!=this.expressionParser(t[1]),"+":t=>this.expressionParser(t[0])+this.expressionParser(t[1]),"-":t=>this.expressionParser(t[0])-this.expressionParser(t[1]),"*":t=>this.expressionParser(t[0])*this.expressionParser(t[1]),"/":t=>this.expressionParser(t[0])/this.expressionParser(t[1]),"%":t=>this.expressionParser(t[0])%this.expressionParser(t[1])}}setRawTemplate(e){this.templateText=e}getHtml(e){if(e.length===0){this.app.isAmp()&&this.app.context.context.noContentAvailable();return}let t=/(.*)?\{foreach\}(.*)?\{\/foreach\}(.*)?/.exec(this.templateText);if(!t)return;let i=typeof t[1]<"u"?t[1]:"";for(let a=0;a<e.length;a++){let s=this.renderItem(e[a],t[2]);i+=typeof s<"u"?s:""}return i+=typeof t[3]<"u"?t[3]:"",i}expressionParser(e){for(let t in this.expressionMap)if(e.indexOf(t)!==-1)return this.expressionMap[t](e.split(t));return(e||"").replace(/^([\'|\s]+)|([\'|\s]+)$/g,"")}renderItem(e,t){let i=[];i.push("teaser-"+e.id);let a="";if(e.type==fe.Banner){let c=e,h="100%";c.width!=0?h=c.width+"px":typeof this.app.preRenderTeaserSizes[c.iteration-1]<"u"&&(h=this.app.preRenderTeaserSizes[c.iteration-1].width+"px");let g="100%";c.height!=0?g=c.height+"px":typeof this.app.preRenderTeaserSizes[c.iteration-1]<"u"&&(g=this.app.preRenderTeaserSizes[c.iteration-1].height+"px");let y="width: "+h+"; height: "+g+"; border: 0px; margin: auto; overflow: hidden; position: relative;z-index: 1;";a='<iframe id="'+c.id+'" scrolling="no" style="'+y+'"></iframe>',i.push("mgline-banner"),this.app.stylesheetsBlock.add("mgline-banner",`.mgline-banner {  display: inline-flex;
  background: initial;
  }`)}e.type==fe.Teaser&&e.link.match(/[\?|&]u=/)!=null&&i.push("dsp"),e.coopType!=null&&(i.push("type-"+e.coopType),e.coopType==Se.Video&&i.push("vrline"),e.type===fe.Teaser&&e.extd==1&&e.coopType===Se.Wages&&i.push("extd")),e.type===fe.Gpt&&(i.push("mgline-gpt"),this.app.stylesheetsBlock.add(`style-${e.id}`,`.mgbox .teaser-${e.id} {
        width: ${e.width?e.width+"px":"100%"};
        height: ${e.height?e.height+"px":"auto"};
      }`));let s=c=>c&&c.indexOf("//")===0?this.app.webProtocol+c:c,n=e.coopType!=Se.Video?this.app.hrefAttr+'="'+this.app.prepareNiceHref(e.hash)+'" data-hash="'+e.hash+'"':"";e.hash==""&&(n=`onclick="return false" ${this.app.hrefAttr}="#"`);let l=[[/\{\*.*?\*\}/,""],[/\{\$href\}/g,n],[/\{\$pmc_item\}/,this.app.id],[/\{\$hash\}/g,e.hash],[/\{\$target\}/g,e.coopType==Se.InternalExchange||typeof this.app.servicerData.ats<"u"&&this.app.servicerData.ats?'target="_top"':'target="_blank"'],[/(class\=\".*?)(mgline)([^\"]*\")/,"$1$2 "+i.join(" ")+'$3 data-i="'+(e.hash||e.id)+'"'],[/(class\=\'.*?)(mgline)([^\']*\')/,"$1$2 "+i.join(" ")+'$3 data-i="'+(e.hash||e.id)+'"'],[/\{\$source\}/g,e.type==fe.Teaser?e.source:""],[/\{\$src\}/g,'width="492" height="277" data-i="'+(fe.Teaser?e.id:"")+'" data-src="'+s(fe.Teaser?e.img:"")+'" nopin="nopin"'+((fe.Teaser?e.extd:0)==1?"":" crossOrigin")],[/\{\$title\}/g,this.app.htmlEntities(fe.Teaser?e.title:"")],[/\{\$desc\}/g,this.app.htmlEntities(fe.Teaser?e.desc:"")],[/\{\$iteration\}/g,e.iteration],[/\$iteration/g,e.iteration],[/this\.iteration/g,e.iteration],[/\{\$price\}/g,fe.Teaser?e.price:""],[/\{\$priceold\}/g,fe.Teaser?e.priceold:""],[/\{\$discount\}/g,fe.Teaser?e.discount:""],[/\{if \$price\}/g,"{if '' != "+(fe.Teaser&&e.price?e.price:"''")+"}"],[/\{if !\$price\}/g,"{if '' == "+(fe.Teaser&&e.price?e.price:"''")+"}"],[/\{if \$priceold\}/g,"{if '' != "+(fe.Teaser&&e.priceold?e.priceold:"''")+"}"],[/\{if \$price != " "\}/g,"{if "+(fe.Teaser&&e.price?e.price:"''").trim().length+" != 0}"],[/\{if \$price == " "\}/g,"{if "+(fe.Teaser&&e.price?e.price:"''").trim().length+" == 0}"],[/\$priceold/g,fe.Teaser?e.priceold:""],[/\$price/g,fe.Teaser?e.price:""],[/\{\$banner\}/g,a],[/\{if \$teaser\}/g,"{if '' == '"+a+"'}"],[/\{if \$banner\}/g,"{if '' != '"+a+"'}"],[/\{\$category\}/g,fe.Teaser?e.category:""],[/\{\$cta\}/g,fe.Teaser?e.cta:""],[/\{if \$cta\}/g,"{if '"+(fe.Teaser&&e.cta?e.cta:"''")+"' != ''}"],[/\{if !\$cta\}/g,"{if '"+(fe.Teaser&&e.cta?e.cta:"''")+"' != ''}"],[/\{\$disclaimer\}/g,fe.Teaser?e.cdt:""],[/\{if \$disclaimer\}/g,"{if '"+(fe.Teaser&&e.cdt?e.cdt:"''")+"' != ''}"],[/\{if !\$disclaimer\}/g,"{if '"+(fe.Teaser&&e.cdt?e.cdt:"''")+"' != ''}"],[/\{\$sourceName\}/g,this.app.sourceName]];for(let c=0;c<l.length;c++)t=t.replace(l[c][0],l[c][1]);for(t=t.replace(/\r?\n/g,"");;){let c=t,h=/\{if ([^\}]*?)\}(((?!\{(?:\/)?if).)*)\{\/if\}/g;if(t=t.replace(h,(g,y,T)=>this.expressionParser(y)?T:""),c==t)break}if(e.type==fe.Teaser&&(e.mediaType=="video"||e.img.match(/\.mp4/))){let h=/<img class="mcimg" width="(\d+)" height="(\d+)"/.exec(t),g=h?h[1]+"px;":"100%;",y=h?h[2]+"px;":"100%;";t=t.replace(/<img( class="mcimg[^>]+)/,'<video autoplay loop muted webkit-playsinline playsinline class="mcvideo" $1'),this.app.stylesheetsBlock.add("video",`video.mcvideo { border-style: solid;
  border-color: #ffffff;
  border-width: 0;
  width: 100%;
  height: auto;
  max-width: `+g+`
  max-height: `+y+`
  box-sizing: border-box;
  display: block; }`)}if(e.type==fe.Teaser&&e.mirroredImage==1){let c="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); -ms-transform: scaleX(-1); transform: scaleX(-1);";t=t.replace(/<img( class="mcimg)/,'<img style="'+c+'" class="mcimg')}if(e.type==fe.Teaser&&e.extd===1&&this.app.preRenderImageSizes[e.iteration-1]){let c=this.app.preRenderImageSizes[e.iteration-1].width,h=this.app.preRenderImageSizes[e.iteration-1].height;if(h==0||c==0)t=t.replace(/<img( class="mcimg")/,'<img class="mcimg mg-wrong-image"');else{let g={width:c+"px !important",height:h+"px !important","object-fit":"cover","-o-object-fit":"cover","object-position":"top","-o-object-position":"top"},y="";Object.keys(g).forEach(T=>{y+=T+":"+g[T]+";"}),t=t.replace(/<img( class="mcimg")/,'<img class="mcimg" style="'+y+'"')}}return t}}});var up={};ye(up,{RenderSchematicBlock:()=>rn});var Wt,rn,mp=ne(()=>{S();_();k();C();I();D();E();ge();bt();(function(r){r.Link="link",r.Image="image",r.Title="title",r.Source="source",r.Description="desc",r.Price="price",r.PriceOld="priceold",r.Discount="discount",r.Category="category",r.Cta="cta",r.Disclaimer="disclaimer",r.SourceName="sourceName"})(Wt||(Wt={}));rn=class extends ${constructor(e){super(e),this.name="RenderSchematicBlock"}setRawTemplate(e){this.templateText=e}getHtml(e){if(!e.length)return this.app.isAmp()&&this.app.context.context.noContentAvailable(),"";this.range=this.app.context.document.createRange(),this.range.selectNode(this.app.context.document.body);let t=this.range.createContextualFragment(this.templateText),i=t.querySelector('[data-template-schema="widget"]'),a=t.querySelector('[data-template-schema="teaser"]'),s=t.querySelector('[data-template-schema="banner"]');if(!i)return this.app.log(`${this.name}: provide template for widget using schema.`),"";let n=i.querySelectorAll('[data-template-type="container"]'),l={},c=n[0];if(n.length>1)for(let h=0;h<n.length;h++)n[h].dataset.templateContainerPlaces.split(",").map(Number).forEach(y=>{l[y]=n[h]});return e.forEach((h,g)=>{let y;if(n.length>1){let T=g+1;typeof l[T]<"u"&&(c=l[T])}h.type===fe.Banner&&s&&(y=this.renderBanner(h,s)),h.type===fe.Teaser&&a&&(y=this.renderTeaser(h,a)),h.type===fe.Gpt&&a&&(y=this.renderGpt(h,a)),y&&c.appendChild(y)}),i.innerHTML}renderBanner(e,t){let i=this.range.createContextualFragment(t.innerHTML),a=i.querySelector(".mgline"),s=this.app.context.document.createElement("iframe"),n="100%",l="100%";return e.width!==0?n=e.width+"px":typeof this.app.preRenderTeaserSizes[e.iteration-1]<"u"&&(n=this.app.preRenderTeaserSizes[e.iteration-1].width+"px"),e.height!==0?l=e.height+"px":typeof this.app.preRenderTeaserSizes[e.iteration-1]<"u"&&(l=this.app.preRenderTeaserSizes[e.iteration-1].height+"px"),s.id=e.id,s.scrolling="no",s.style.width=n,s.style.height=l,s.style.border="0px",s.style.margin="auto",s.style.overflow="hidden",s.style.position="relative",s.style.zIndex="1",this.addClasses(e,a),a.appendChild(s),this.app.stylesheetsBlock.add("mgline-banner",`.mgline-banner {  display: inline-flex;
  background: initial;
  }`),i}renderTeaser(e,t){let i=this.range.createContextualFragment(t.innerHTML),a=i.querySelector(".mgline");return this.addClasses(e,a),this.setConditionTemplate(e,i),this.setConstructorTemplate(i),this.setConditionClassName(e,i),this.setMacrosTemplate(e,i),i}renderGpt(e,t){let i=this.range.createContextualFragment(t.innerHTML),a=i.querySelector(".mgline");return a.innerHTML="",this.app.stylesheetsBlock.add(`style-${e.id}`,`.mgbox .teaser-${e.id} {
      width: ${e.width?e.width+"px":"100%"};
      height: ${e.height?e.height+"px":"auto"};
    }`),this.addClasses(e,a),i}setConditionTemplate(e,t){let i=t.querySelector("[data-template-condition]");if(i){let a=i.dataset.templateCondition.trim(),s=a.indexOf("!")===-1,n=a.replace("!",""),l=typeof e[n]=="string"&&e[n].trim().length>0||typeof e[n]=="number";s===l&&i.insertAdjacentHTML("beforebegin",i.innerHTML),i.parentNode.removeChild(i),this.setConditionTemplate(e,t)}else return}setConstructorTemplate(e){let t=e.querySelector("[data-constructor-condition]");if(t){{let i=t.dataset.constructorCondition.trim(),a=!1;switch(i){case"mcprice":a=this.app.widgetConstructorData.mcprice.show==="true";break;case"mcdomain":a=this.app.widgetConstructorData.mcdomain.styles.display==="block";break;case"mcdesc":a=this.app.widgetConstructorData.mcdesc.styles.display==="block";break}a&&t.insertAdjacentHTML("beforebegin",t.innerHTML)}t.parentNode.removeChild(t),this.setConstructorTemplate(e)}else return}setConditionClassName(e,t){let i=t.querySelectorAll("[data-class-condition]");Array.prototype.forEach.call(i,a=>{let[s,n]=a.dataset.classCondition.split(";"),l=s.indexOf("!")===-1,c=s.replace("!","").trim(),h=typeof e[c]=="string"&&e[c].trim().length>0||typeof e[c]=="number";if(n.indexOf("blur")!==-1){let g=s.split(".").filter(y=>y.split(":")[1]?.split(",").indexOf(String(e.iteration))!==-1)[0]?.split(":")[0]?.trim();g&&a.classList.add(`${n.trim()}-${g}`)}else l===h&&(c==="iteration"?a.classList.add(`${n.trim()}-${e[c]}`):a.classList.add(n.trim()))})}setMacrosTemplate(e,t){let i=t.querySelectorAll("[data-template-macros]"),a=Object.keys(Wt);Array.prototype.forEach.call(i,s=>{let n=s.dataset.templateMacros.split(",");for(let l=0;l<n.length;l++){let c=n[l].trim();if(!a.some(h=>Wt[h]===c)){this.app.log(`${this.name}: wrong macros - ${c}, provide corect macros.`);continue}switch(c){case Wt.Link:e.coopType!==Se.Video&&e.hash?.length&&(s.setAttribute(this.app.hrefAttr,this.app.prepareNiceHref(e.hash)),s.dataset.hash=e.hash),e.hash?.length||(s.setAttribute(this.app.hrefAttr,"#"),s.setAttribute("onclick","return false")),e.coopType===Se.InternalExchange||this.app.servicerData?.ats?s.setAttribute("target","_top"):s.setAttribute("target","_blank");break;case Wt.Image:if(s.dataset.src=this.createWebLink(e.img),s.dataset.i=e.id,'width="492" height="277"'.split(" ").forEach(g=>{let[y,T]=g.split("=");s.setAttribute(y,T.replace(/"/g,""))}),s.setAttribute("nopin","nopin"),e.extd!==1&&s.setAttribute("crossOrigin",""),e.mirroredImage===1){let g="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); -ms-transform: scaleX(-1); transform: scaleX(-1);";s.style.cssText+=g}if(e.extd===1&&this.app.preRenderImageSizes[e.iteration-1]){let g=this.app.preRenderImageSizes[e.iteration-1].width,y=this.app.preRenderImageSizes[e.iteration-1].height;if(y===0||g===0)s.classList.add("mg-wrong-image");else{let T=`width: ${g}px !important;
                  height: ${y}px !important;
                  object-fit: cover;
                  -o-object-fit: cover;
                  object-position: top;
                  -o-object-position: top;
                `;s.style.cssText+=T}}if(e.mediaType==="video"||e.img.match(/\.mp4/)){let g=s.getAttribute("width"),y=s.getAttribute("height"),T=g?g+"px;":"100%;",b=y?y+"px;":"100%;",P=this.app.context.document.createElement("video");P.dataset.src=this.createWebLink(e.img),P.dataset.i=e.id,P.setAttribute("width",g),P.setAttribute("height",y),P.classList.add("mcvideo"),P.autoplay=!0,P.loop=!0,P.setAttribute("muted",""),P.setAttribute("playsinline",""),P.setAttribute("webkit-playsinline",""),s.parentElement.replaceChild(P,s),this.app.stylesheetsBlock.add("video",`video.mcvideo { border-style: solid;
  border-color: #ffffff;
  border-width: 0;
  width: 100%;
  height: auto;
  max-width: `+T+`
  max-height: `+b+`
  box-sizing: border-box;
  display: block; }`)}break;case Wt.Title:s.innerHTML=this.app.htmlEntities(e.title);break;case Wt.Description:s.innerHTML=this.app.htmlEntities(e.desc);break;case Wt.Disclaimer:s.innerHTML=e.cdt??"";break;case Wt.SourceName:s.innerHTML=this.app.sourceName??"";break;case Wt.Cta:let h=e.cta;s.insertAdjacentText("afterbegin",h);break;default:s.innerHTML=e[c]??"";break}}})}addClasses(e,t){t.classList.add("teaser-"+e.id),t.dataset.i=e.hash||e.id,e.coopType&&t.classList.add("type-"+e.coopType),typeof e.link=="string"&&e.link.match(/[\?|&]u=/)!==null&&t.classList.add("dsp"),e.coopType===Se.Video&&t.classList.add("vrline"),e.type===fe.Teaser&&e.extd==1&&e.coopType===Se.Wages&&t.classList.add("extd"),e.type===fe.Gpt&&t.classList.add("mgline-gpt")}createWebLink(e){return e&&e.indexOf("//")===0?this.app.webProtocol+e:e}}});var fp={};ye(fp,{ElasticBlock:()=>nn});var nn,gp=ne(()=>{S();_();k();C();I();D();E();ge();nn=class extends ${constructor(e){super(e),this.elasticShown=0,this.isElastic=!0,this.elasticIterations=0,this.isElasticRendering=!1,this.hasAdblock=!1,this.elasticPage=1,this.name="ElasticBlock",this.hasAdblock=this.app.adBlockDetect(),this.app.pageUnlim=0,this.requestsLimitOptions=JSON.parse("{}"),this.isRequestsLimitEnabled=!!Object.keys(this.requestsLimitOptions).length,this.isRequestsLimitEnabled&&(this.countNews=this.app.getExpectedCountNews(),this.renderedCountNews=this.countNews,this.limitDeskCountNews=this.requestsLimitOptions?.limitDesktop,this.limitMobCountNews=this.requestsLimitOptions?.limitMobile||this.requestsLimitOptions?.limitDesktop),this.addHook("afterInitHooks",this.app.resetPage),this.addHook("afterLoadNewsHooks",this.load)}load(){this.isElasticRendering=!1,this.intersectionObserverIsAvailable()?this.useIntersectionObserver():this.useTimeout(),this.app.getInternalIds().length&&(this.app.requestParams.exclude_int_exchange=this.app.getInternalIds().join(","))}intersectionObserverIsAvailable(){return typeof IntersectionObserver=="function"}useIntersectionObserver(){let e=this.app.root.querySelectorAll(".mgbox");if(!e.length)return;let t=e[e.length-1];for(let a=t.childNodes.length-1;a--;a>=0)if(t.childNodes[a]instanceof HTMLElement){t=t.childNodes[a];break}new IntersectionObserver(a=>{a[0].intersectionRatio>.6&&this.elasticTest()},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}).observe(t)}useTimeout(){let e=500;this.app.context.setTimeout(this.elasticTest.bind(this),e),this.elasticShown++}elasticTest(){let e=this.app.getPageCount();this.app.pageUnlim!=-1&&!this.hasAdblock&&(this.testHeight()&&!this.isElasticRendering?(this.app.page=this.app.page<this.app.getPageCount()?this.app.page+1:1,this.isElasticRendering=!0,this.app.injectScript(!1,2),this.elasticIterations++>e&&(this.app.pageUnlim=-1)):this.intersectionObserverIsAvailable()||this.app.context.setTimeout(this.elasticTest.bind(this),300))}addLimitads(){let e;this.app.utils.isMobile()?e=this.limitMobCountNews-this.renderedCountNews:e=this.limitDeskCountNews-this.renderedCountNews,e>=this.countNews?this.renderedCountNews=this.renderedCountNews+this.countNews:e===0?this.elasticPage++:this.app.requestParams.limitads=e}testHeight(){let e=this.app.getViewportHeight().c+600;if(this.app.isAmp()){let t=this.app.context["boundingClientRect"+1456432+"_"+this.app.uniqId],i=t||this.app.context["boundingClientRect"+1456432];return e>i.bottom&&!this.app.ampResizeDenied}return e>this.app.root.getBoundingClientRect().bottom}}});var ci,yp=ne(()=>{S();_();k();C();I();D();E();ci=function(r,e){var t={},i=t.lib={},a=function(){},s=i.Base={extend:function(b){a.prototype=this;var P=new a;return b&&P.mixIn(b),P.hasOwnProperty("init")||(P.init=function(){P.$super.init.apply(this,arguments)}),P.init.prototype=P,P.$super=this,P},create:function(){var b=this.extend();return b.init.apply(b,arguments),b},init:function(){},mixIn:function(b){for(var P in b)b.hasOwnProperty(P)&&(this[P]=b[P]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},n=i.WordArray=s.extend({init:function(b,P){b=this.words=b||[],this.sigBytes=P!=e?P:4*b.length},toString:function(b){return(b||c).stringify(this)},concat:function(b){var P=this.words,x=b.words,B=this.sigBytes;if(b=b.sigBytes,this.clamp(),B%4)for(var O=0;O<b;O++)P[B+O>>>2]|=(x[O>>>2]>>>24-8*(O%4)&255)<<24-8*((B+O)%4);else if(65535<x.length)for(O=0;O<b;O+=4)P[B+O>>>2]=x[O>>>2];else P.push.apply(P,x);return this.sigBytes+=b,this},clamp:function(){var b=this.words,P=this.sigBytes;b[P>>>2]&=4294967295<<32-8*(P%4),b.length=r.ceil(P/4)},clone:function(){var b=s.clone.call(this);return b.words=this.words.slice(0),b},random:function(b){for(var P=[],x=0;x<b;x+=4)P.push(4294967296*r.random()|0);return new n.init(P,b)}}),l=t.enc={},c=l.Hex={stringify:function(b){var P=b.words;b=b.sigBytes;for(var x=[],B=0;B<b;B++){var O=P[B>>>2]>>>24-8*(B%4)&255;x.push((O>>>4).toString(16)),x.push((O&15).toString(16))}return x.join("")},parse:function(b){for(var P=b.length,x=[],B=0;B<P;B+=2)x[B>>>3]|=parseInt(b.substr(B,2),16)<<24-4*(B%8);return new n.init(x,P/2)}},h=l.Latin1={stringify:function(b){var P=b.words;b=b.sigBytes;for(var x=[],B=0;B<b;B++)x.push(String.fromCharCode(P[B>>>2]>>>24-8*(B%4)&255));return x.join("")},parse:function(b){for(var P=b.length,x=[],B=0;B<P;B++)x[B>>>2]|=(b.charCodeAt(B)&255)<<24-8*(B%4);return new n.init(x,P)}},g=l.Utf8={stringify:function(b){try{return decodeURIComponent(escape(h.stringify(b)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(b){return h.parse(unescape(encodeURIComponent(b)))}},y=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(b){typeof b=="string"&&(b=g.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},_process:function(b){var P=this._data,x=P.words,B=P.sigBytes,O=this.blockSize,w=B/(4*O),w=b?r.ceil(w):r.max((w|0)-this._minBufferSize,0);if(b=w*O,B=r.min(4*b,B),b){for(var M=0;M<b;M+=O)this._doProcessBlock(x,M);M=x.splice(0,b),P.sigBytes-=B}return new n.init(M,B)},clone:function(){var b=s.clone.call(this);return b._data=this._data.clone(),b},_minBufferSize:0});i.Hasher=y.extend({cfg:s.extend(),init:function(b){this.cfg=this.cfg.extend(b),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(b){return this._append(b),this._process(),this},finalize:function(b){return b&&this._append(b),this._doFinalize()},blockSize:16,_createHelper:function(b){return function(P,x){return new b.init(x).finalize(P)}},_createHmacHelper:function(b){return function(P,x){return new T.HMAC.init(b,x).finalize(P)}}});var T=t.algo={};return t}(Math);(function(){var r=ci,e=r.lib.WordArray;r.enc.Base64={stringify:function(t){var i=t.words,a=t.sigBytes,s=this._map;t.clamp(),t=[];for(var n=0;n<a;n+=3)for(var l=(i[n>>>2]>>>24-8*(n%4)&255)<<16|(i[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|i[n+2>>>2]>>>24-8*((n+2)%4)&255,c=0;4>c&&n+.75*c<a;c++)t.push(s.charAt(l>>>6*(3-c)&63));if(i=s.charAt(64))for(;t.length%4;)t.push(i);return t.join("")},parse:function(t){var i=t.length,a=this._map,s=a.charAt(64);s&&(s=t.indexOf(s),s!=-1&&(i=s));for(var s=[],n=0,l=0;l<i;l++)if(l%4){var c=a.indexOf(t.charAt(l-1))<<2*(l%4),h=a.indexOf(t.charAt(l))>>>6-2*(l%4);s[n>>>2]|=(c|h)<<24-8*(n%4),n++}return e.create(s,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(r){function e(y,T,b,P,x,B,O){return y=y+(T&b|~T&P)+x+O,(y<<B|y>>>32-B)+T}function t(y,T,b,P,x,B,O){return y=y+(T&P|b&~P)+x+O,(y<<B|y>>>32-B)+T}function i(y,T,b,P,x,B,O){return y=y+(T^b^P)+x+O,(y<<B|y>>>32-B)+T}function a(y,T,b,P,x,B,O){return y=y+(b^(T|~P))+x+O,(y<<B|y>>>32-B)+T}for(var s=ci,c=s.lib,n=c.WordArray,l=c.Hasher,c=s.algo,h=[],g=0;64>g;g++)h[g]=4294967296*r.abs(r.sin(g+1))|0;c=c.MD5=l.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,T){for(var b=0;16>b;b++){var P=T+b,x=y[P];y[P]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var b=this._hash.words,P=y[T+0],x=y[T+1],B=y[T+2],O=y[T+3],w=y[T+4],M=y[T+5],H=y[T+6],ie=y[T+7],Z=y[T+8],Q=y[T+9],te=y[T+10],ae=y[T+11],me=y[T+12],se=y[T+13],ue=y[T+14],Me=y[T+15],q=b[0],X=b[1],K=b[2],ee=b[3],q=e(q,X,K,ee,P,7,h[0]),ee=e(ee,q,X,K,x,12,h[1]),K=e(K,ee,q,X,B,17,h[2]),X=e(X,K,ee,q,O,22,h[3]),q=e(q,X,K,ee,w,7,h[4]),ee=e(ee,q,X,K,M,12,h[5]),K=e(K,ee,q,X,H,17,h[6]),X=e(X,K,ee,q,ie,22,h[7]),q=e(q,X,K,ee,Z,7,h[8]),ee=e(ee,q,X,K,Q,12,h[9]),K=e(K,ee,q,X,te,17,h[10]),X=e(X,K,ee,q,ae,22,h[11]),q=e(q,X,K,ee,me,7,h[12]),ee=e(ee,q,X,K,se,12,h[13]),K=e(K,ee,q,X,ue,17,h[14]),X=e(X,K,ee,q,Me,22,h[15]),q=t(q,X,K,ee,x,5,h[16]),ee=t(ee,q,X,K,H,9,h[17]),K=t(K,ee,q,X,ae,14,h[18]),X=t(X,K,ee,q,P,20,h[19]),q=t(q,X,K,ee,M,5,h[20]),ee=t(ee,q,X,K,te,9,h[21]),K=t(K,ee,q,X,Me,14,h[22]),X=t(X,K,ee,q,w,20,h[23]),q=t(q,X,K,ee,Q,5,h[24]),ee=t(ee,q,X,K,ue,9,h[25]),K=t(K,ee,q,X,O,14,h[26]),X=t(X,K,ee,q,Z,20,h[27]),q=t(q,X,K,ee,se,5,h[28]),ee=t(ee,q,X,K,B,9,h[29]),K=t(K,ee,q,X,ie,14,h[30]),X=t(X,K,ee,q,me,20,h[31]),q=i(q,X,K,ee,M,4,h[32]),ee=i(ee,q,X,K,Z,11,h[33]),K=i(K,ee,q,X,ae,16,h[34]),X=i(X,K,ee,q,ue,23,h[35]),q=i(q,X,K,ee,x,4,h[36]),ee=i(ee,q,X,K,w,11,h[37]),K=i(K,ee,q,X,ie,16,h[38]),X=i(X,K,ee,q,te,23,h[39]),q=i(q,X,K,ee,se,4,h[40]),ee=i(ee,q,X,K,P,11,h[41]),K=i(K,ee,q,X,O,16,h[42]),X=i(X,K,ee,q,H,23,h[43]),q=i(q,X,K,ee,Q,4,h[44]),ee=i(ee,q,X,K,me,11,h[45]),K=i(K,ee,q,X,Me,16,h[46]),X=i(X,K,ee,q,B,23,h[47]),q=a(q,X,K,ee,P,6,h[48]),ee=a(ee,q,X,K,ie,10,h[49]),K=a(K,ee,q,X,ue,15,h[50]),X=a(X,K,ee,q,M,21,h[51]),q=a(q,X,K,ee,me,6,h[52]),ee=a(ee,q,X,K,O,10,h[53]),K=a(K,ee,q,X,te,15,h[54]),X=a(X,K,ee,q,x,21,h[55]),q=a(q,X,K,ee,Z,6,h[56]),ee=a(ee,q,X,K,Me,10,h[57]),K=a(K,ee,q,X,H,15,h[58]),X=a(X,K,ee,q,se,21,h[59]),q=a(q,X,K,ee,w,6,h[60]),ee=a(ee,q,X,K,ae,10,h[61]),K=a(K,ee,q,X,B,15,h[62]),X=a(X,K,ee,q,Q,21,h[63]);b[0]=b[0]+q|0,b[1]=b[1]+X|0,b[2]=b[2]+K|0,b[3]=b[3]+ee|0},_doFinalize:function(){var y=this._data,T=y.words,b=8*this._nDataBytes,P=8*y.sigBytes;T[P>>>5]|=128<<24-P%32;var x=r.floor(b/4294967296);for(T[(P+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,T[(P+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,y.sigBytes=4*(T.length+1),this._process(),y=this._hash,T=y.words,b=0;4>b;b++)P=T[b],T[b]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360;return y},clone:function(){var y=l.clone.call(this);return y._hash=this._hash.clone(),y}}),s.MD5=l._createHelper(c),s.HmacMD5=l._createHmacHelper(c)})(Math);(function(){var r=ci,i=r.lib,e=i.Base,t=i.WordArray,i=r.algo,a=i.EvpKDF=e.extend({cfg:e.extend({keySize:4,hasher:i.MD5,iterations:1}),init:function(s){this.cfg=this.cfg.extend(s)},compute:function(s,n){for(var y=this.cfg,l=y.hasher.create(),c=t.create(),h=c.words,g=y.keySize,y=y.iterations;h.length<g;){T&&l.update(T);var T=l.update(s).finalize(n);l.reset();for(var b=1;b<y;b++)T=l.finalize(T),l.reset();c.concat(T)}return c.sigBytes=4*g,c}});r.EvpKDF=function(s,n,l){return a.create(l).compute(s,n)}})();ci.lib.Cipher||function(r){var b=ci,e=b.lib,t=e.Base,i=e.WordArray,a=e.BufferedBlockAlgorithm,s=b.enc.Base64,n=b.algo.EvpKDF,l=e.Cipher=a.extend({cfg:t.extend(),createEncryptor:function(x,B){return this.create(this._ENC_XFORM_MODE,x,B)},createDecryptor:function(x,B){return this.create(this._DEC_XFORM_MODE,x,B)},init:function(x,B,O){this.cfg=this.cfg.extend(O),this._xformMode=x,this._key=B,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(x){return this._append(x),this._process()},finalize:function(x){return x&&this._append(x),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(x){return{encrypt:function(B,O,w){return(typeof O=="string"?P:T).encrypt(x,B,O,w)},decrypt:function(B,O,w){return(typeof O=="string"?P:T).decrypt(x,B,O,w)}}}});e.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var y=b.mode={},c=function(x,B,O){var w=this._iv;w?this._iv=r:w=this._prevBlock;for(var M=0;M<O;M++)x[B+M]^=w[M]},h=(e.BlockCipherMode=t.extend({createEncryptor:function(x,B){return this.Encryptor.create(x,B)},createDecryptor:function(x,B){return this.Decryptor.create(x,B)},init:function(x,B){this._cipher=x,this._iv=B}})).extend();h.Encryptor=h.extend({processBlock:function(x,B){var O=this._cipher,w=O.blockSize;c.call(this,x,B,w),O.encryptBlock(x,B),this._prevBlock=x.slice(B,B+w)}}),h.Decryptor=h.extend({processBlock:function(x,B){var O=this._cipher,w=O.blockSize,M=x.slice(B,B+w);O.decryptBlock(x,B),c.call(this,x,B,w),this._prevBlock=M}}),y=y.CBC=h,h=(b.pad={}).Pkcs7={pad:function(x,B){for(var O=4*B,O=O-x.sigBytes%O,w=O<<24|O<<16|O<<8|O,M=[],H=0;H<O;H+=4)M.push(w);O=i.create(M,O),x.concat(O)},unpad:function(x){x.sigBytes-=x.words[x.sigBytes-1>>>2]&255}},e.BlockCipher=l.extend({cfg:l.cfg.extend({mode:y,padding:h}),reset:function(){l.reset.call(this);var B=this.cfg,x=B.iv,B=B.mode;if(this._xformMode==this._ENC_XFORM_MODE)var O=B.createEncryptor;else O=B.createDecryptor,this._minBufferSize=1;this._mode=O.call(B,this,x&&x.words)},_doProcessBlock:function(x,B){this._mode.processBlock(x,B)},_doFinalize:function(){var x=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){x.pad(this._data,this.blockSize);var B=this._process(!0)}else B=this._process(!0),x.unpad(B);return B},blockSize:4});var g=e.CipherParams=t.extend({init:function(x){this.mixIn(x)},toString:function(x){return(x||this.formatter).stringify(this)}}),y=(b.format={}).OpenSSL={stringify:function(x){var B=x.ciphertext;return x=x.salt,(x?i.create([1398893684,1701076831]).concat(x).concat(B):B).toString(s)},parse:function(x){x=s.parse(x);var B=x.words;if(B[0]==1398893684&&B[1]==1701076831){var O=i.create(B.slice(2,4));B.splice(0,4),x.sigBytes-=16}return g.create({ciphertext:x,salt:O})}},T=e.SerializableCipher=t.extend({cfg:t.extend({format:y}),encrypt:function(x,B,O,w){w=this.cfg.extend(w);var M=x.createEncryptor(O,w);return B=M.finalize(B),M=M.cfg,g.create({ciphertext:B,key:O,iv:M.iv,algorithm:x,mode:M.mode,padding:M.padding,blockSize:x.blockSize,formatter:w.format})},decrypt:function(x,B,O,w){return w=this.cfg.extend(w),B=this._parse(B,w.format),x.createDecryptor(O,w).finalize(B.ciphertext)},_parse:function(x,B){return typeof x=="string"?B.parse(x,this):x}}),b=(b.kdf={}).OpenSSL={execute:function(x,B,O,w){return w||(w=i.random(8)),x=n.create({keySize:B+O}).compute(x,w),O=i.create(x.words.slice(B),4*O),x.sigBytes=4*B,g.create({key:x,iv:O,salt:w})}},P=e.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:b}),encrypt:function(x,B,O,w){return w=this.cfg.extend(w),O=w.kdf.execute(O,x.keySize,x.ivSize),w.iv=O.iv,x=T.encrypt.call(this,x,B,O.key,w),x.mixIn(O),x},decrypt:function(x,B,O,w){return w=this.cfg.extend(w),B=this._parse(B,w.format),O=w.kdf.execute(O,x.keySize,x.ivSize,B.salt),w.iv=O.iv,T.decrypt.call(this,x,B,O.key,w)}})}();(function(){for(var r=ci,e=r.lib.BlockCipher,Z=r.algo,t=[],i=[],a=[],s=[],n=[],l=[],c=[],h=[],g=[],y=[],T=[],b=0;256>b;b++)T[b]=128>b?b<<1:b<<1^283;for(var P=0,x=0,b=0;256>b;b++){var B=x^x<<1^x<<2^x<<3^x<<4,B=B>>>8^B&255^99;t[P]=B,i[B]=P;var O=T[P],w=T[O],M=T[w],H=257*T[B]^16843008*B;a[P]=H<<24|H>>>8,s[P]=H<<16|H>>>16,n[P]=H<<8|H>>>24,l[P]=H,H=16843009*M^65537*w^257*O^16843008*P,c[B]=H<<24|H>>>8,h[B]=H<<16|H>>>16,g[B]=H<<8|H>>>24,y[B]=H,P?(P=O^T[T[T[M^O]]],x^=T[T[x]]):P=x=1}var ie=[0,1,2,4,8,16,32,64,128,27,54],Z=Z.AES=e.extend({_doReset:function(){for(var ae=this._key,Q=ae.words,te=ae.sigBytes/4,ae=4*((this._nRounds=te+6)+1),me=this._keySchedule=[],se=0;se<ae;se++)if(se<te)me[se]=Q[se];else{var ue=me[se-1];se%te?6<te&&se%te==4&&(ue=t[ue>>>24]<<24|t[ue>>>16&255]<<16|t[ue>>>8&255]<<8|t[ue&255]):(ue=ue<<8|ue>>>24,ue=t[ue>>>24]<<24|t[ue>>>16&255]<<16|t[ue>>>8&255]<<8|t[ue&255],ue^=ie[se/te|0]<<24),me[se]=me[se-te]^ue}for(Q=this._invKeySchedule=[],te=0;te<ae;te++)se=ae-te,ue=te%4?me[se]:me[se-4],Q[te]=4>te||4>=se?ue:c[t[ue>>>24]]^h[t[ue>>>16&255]]^g[t[ue>>>8&255]]^y[t[ue&255]]},encryptBlock:function(Q,te){this._doCryptBlock(Q,te,this._keySchedule,a,s,n,l,t)},decryptBlock:function(Q,te){var ae=Q[te+1];Q[te+1]=Q[te+3],Q[te+3]=ae,this._doCryptBlock(Q,te,this._invKeySchedule,c,h,g,y,i),ae=Q[te+1],Q[te+1]=Q[te+3],Q[te+3]=ae},_doCryptBlock:function(Q,te,ae,me,se,ue,Me,q){for(var ee=this._nRounds,Rt=Q[te]^ae[0],It=Q[te+1]^ae[1],wt=Q[te+2]^ae[2],vt=Q[te+3]^ae[3],K=4,X=1;X<ee;X++)var ht=me[Rt>>>24]^se[It>>>16&255]^ue[wt>>>8&255]^Me[vt&255]^ae[K++],st=me[It>>>24]^se[wt>>>16&255]^ue[vt>>>8&255]^Me[Rt&255]^ae[K++],ti=me[wt>>>24]^se[vt>>>16&255]^ue[Rt>>>8&255]^Me[It&255]^ae[K++],vt=me[vt>>>24]^se[Rt>>>16&255]^ue[It>>>8&255]^Me[wt&255]^ae[K++],Rt=ht,It=st,wt=ti;ht=(q[Rt>>>24]<<24|q[It>>>16&255]<<16|q[wt>>>8&255]<<8|q[vt&255])^ae[K++],st=(q[It>>>24]<<24|q[wt>>>16&255]<<16|q[vt>>>8&255]<<8|q[Rt&255])^ae[K++],ti=(q[wt>>>24]<<24|q[vt>>>16&255]<<16|q[Rt>>>8&255]<<8|q[It&255])^ae[K++],vt=(q[vt>>>24]<<24|q[Rt>>>16&255]<<16|q[It>>>8&255]<<8|q[wt&255])^ae[K++],Q[te]=ht,Q[te+1]=st,Q[te+2]=ti,Q[te+3]=vt},keySize:8});r.AES=e._createHelper(Z)})()});var on=pe((Q0,vp)=>{S();_();k();C();I();D();E();function oe(r,e){var t=Ms();return oe=function(i,a){i=i-216;var s=t[i];return s},oe(r,e)}(function(r,e){for(var t=oe,i=r();[];)try{var a=parseInt(t(552))/1+parseInt(t(380))/2+-parseInt(t(779))/3*(parseInt(t(957))/4)+-parseInt(t(919))/5*(parseInt(t(379))/6)+parseInt(t(741))/7+parseInt(t(406))/8*(parseInt(t(707))/9)+-parseInt(t(870))/10;if(a===e)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ms,642603);function Ms(){var r=["DOMRectList","buildQueryParams","Module","#mod-social-share-2","charAt","7415667LAvGmM",".cnt-publi","__firefox__","dispatchAntifraudHashEvent","LmdlbWluaUxCMUFk","clientLeft",".article-sharer","isArray","localStorage","opera","message","tanh","setReferrers","offsetLeft","a[href*=macau-uta-popup]","body","svspr","offsetHeight","TouchEvent","publisherSource","rect","atan","open","expm1","addEvent","isPhantomPropertyDetected","plid","exec","webkitOfflineAudioContext","\n```","hidden","Century","system-ui","DOM blockers debug:\n```","2526146HCkjdX","createDynamicsCompressor","LmFkX19tYWlu","YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==","cookie","eventMask","_selenium","Anura response wrong schema: ","#cemp_doboz","I3Jla2xhbWk=",'amp-embed[type="24smi"]',"#2ff","firstChild","#social-tools","MS Mincho","Marlett","YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd","webkitMediaStream","#aafoot.top_box","trys","reverse","chrome","?k=","onmozfullscreenchange","3.4.2","samsungAr","sensorDomain","I2Jhbm5lcmZsb2F0MjI=","getCoordinatesClickOfWindow","referrer","onorientationchange","ARNO PRO","Vrinda",".ezmob-footer","maxTouchPoints","cos","networkInformationSaveData","screen","114cgUzxa","script","max","WebKitMediaKeys","sort","_Selenium_IDE_Recorder","YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0=","high","systemLanguage","connection","msIndexedDB","YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ==","atanh","concat",`
visitorId: `,"absolute","left","afTimePerformance","stringify","sendAnura","round","I2FkXzMwMFgyNTA=","Staccato222 BT","getBattery","isSessionStorageEnabled","more","setCoords","#ea_intext_div","search","exitFullscreen","YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0=","MGID",".yt.btn-link.btn-md.btn","resolvedOptions","getTime","alphabetic","availLeft","ActiveXObject","source",".yb-floorad","external","storagePrefix","cosh","timeZone","add","LmNsb3NlLWFkcw==","some","YVtocmVmKj0iLmFmbGFtLmluZm8iXQ==","webkitSpeechGrammar","YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ==","mozCancelFullScreen","https://script.anura.io/request.js","iframePlacementType",".sb-box-pubbliredazionale","I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA==","#cookies-policy-sticky","(forced-colors: ","LmhlYWRlci1ibG9ja2VkLWFk","WEBGL_debug_renderer_info","description","(color-gamut: ","MediaSettingsRange","-apple-system-body","RTCPeerConnectionIceEvent","LlppX2FkX2FfSA==","frameElement","width","#f2f",".img-kosana","text/javascript","map","svsds","unknown|unknown|0","RTCEncodedAudioFrame","clearInterval","Ll9faXNib29zdFJldHVybkFk","msLaunchUri","anuraCallback",".BlockNag__Card",".widgetadv","debug","__webdriver_script_func","colorDepth","afShortEnabled","Content-type","Futura Md BT","isFantomWindowHeightDetected","POST","filter","#issuem-leaky-paywall-articles-zero-remaining-nag","MYRIAD PRO","4449220KWeYNA","log","EUROSTILE","=([^;]*)","MouseOver","Monotype Corsiva","userAgent","afrd_click","LnNwb25zb3JsaW5rZ3J1ZW4=","nodeType","afPrimaryReferrer","clientY","fullscreenElement","siteId","deviceMemory","#social_follow","GOTHAM","webkitFullscreenElement","domExtractor","YVtocmVmKj0iLjE5NTZobC5jb20vIl0=","LmN0cGwtZnVsbGJhbm5lcg==","YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0=","https://adrta.com/i","#publiEspecial","YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0=","parent","ShockwaveFlash.ShockwaveFlash","label","QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==","charging","addEventBit","bstr","__fxdriver_unwrapped",".wp_adblock_detect","TABLE.advright","block","toStringTag","load","setEvents","__webdriver_evaluate","phantom",";path=/","getAttribute","whiteSpace","isPhantomOverflowDetected","isCookieEnabled","removeChild","connect","availTop","10bCQMWV","assign","webkit",".hs-sosyal","__selenium_evaluate","mousedown","triangle","YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd","article.category-samarbete","&k=","fromCharCode","svs","none","context","function","Futura Bk BT","[data-cookie-number]","touches","asin","forced","iPad","safari","aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd","PMingLiU","#adblock-honeypot","timerFromScroll","Batang","__driver_evaluate","abs","REQUEST_URL","(inverted-colors: ","lineNumber","Arabic Typesetting","LnJla2xhbW9zX251b3JvZG9z","processReferrers","topIFrame","afCoordsClickAndLinkOfPage","mousemove","69688pyyIDn","iframe","closePath","toDataURL","afCharging","sin","storageName","buildNumber",".BetterJsPopOverlay","kv1","run","iterator","afPlugins","fillStyle",".as-oil","BatteryManager","textSizeAdjust",'div[id^="smi2adblock"]',"isLocalStorageEnabled","getRectOfElement","sendData","Small Fonts","callPhantom","options","replace","createElement","min","Intl","javaEnabled","ABCDEFGHIJKLMNOPQR$TUVWXYZabcde*ghijklmnopqrstuvwxyz0123456789+/=","msPointerEnabled","#mgid_iframe1","YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ==","location","itsgonnafail","__crWeb","YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd","#ac-lre-player","sessionStorage","afMgLoaded","delayFallback","1px",'[title="ALIENBOLA" i]',"QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==","MouseUp","getStorageUpdates","#semilo-lrectangle","setNetworkInformation","offsetWidth","RangeError",".util-bar-module-firefly-visible","attachEvent","LnJla2xhbW9zX3RhcnBhcw==","split","pdfViewerEnabled","cpuClass","referrers","afLevel","isMobile","#069","sendBeacon","srcdoc","inverted","instance","LnNwb25zb3JlZC10ZXh0LWxpbmtz","PLATFORM_MOBILE","getTimePerformance","Lucida Sans","active","onLine","#ceneo-placeholder-ceneo-12","state","isWebDriverDetected","renderedBuffer","YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0=","indexedDB","SvsdsFlag","MacIntel","Copy the text below to get the debug data:\n\n```\nversion: ","MouseMove","setAttribute","afDeepSession","throw","isPhantomLanguagesDetected","QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd","callSelenium","YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0=","font","__webdriver_unwrapped","subarray","ontouchstart","kv3","msMaxTouchPoints","getCoordinatesClickOfPage","navigator","setWidgetEvents","HELV","#navbar_notice_50","apply","I3Jla2xhbW5pLWJveA==","ZGl2I3NrYXBpZWNfYWQ=","getItem","#onlajny-stickers","#SSpotIMPopSlider","substr","platform","msFullscreenElement","Helvetica Neue","getScreenY","random","afCoords","ceil","src","root","#barraPublicidade","Franklin Gothic","Anura response cannot parse: ","get",'11pt "Times New Roman"',"Levenim MT",".ylamainos","msSetImmediate","fileName",".community__social-desc","pack","getParameter","__yb","AFRD_CLICK","00000000","getElementsByTagName","YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd","clientX",'.alert-info[data-block-track*="CookieNotice"]',"standard","PLATFORM_DESKTOP",'[id^="bn_bottom_fixed_"]',"YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0=","appendChild","bindEvents","Mgid","getFrameElement","now","widgetPrefix","groupBitParams","MediaSource","responseConfig","LnNwb25zb3JpdA==","UNMASKED_VENDOR_WEBGL","#Iklan-Melayang","getExId","pageX","oct2chr","(min-monochrome: 0)",".revenue_unit_item.dable","afDeviceOrientation","Events","Univers CE 55 Medium","sans-serif","YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd","#Kolom-Iklan-728","show","DEFAULT","I2xpdmVyZUFkV3JhcHBlcg==","selenium","vendor","sendAnuraAtLoad",".open.pushModal","dispatchEvent","encodeParameters","beacon","ul.adsmodern","I0FkLUNvbnRlbnQ=",`
userAgent: `,"RESULT_URL","UCShellJava","buf","I2NhbXBhaWduLWJhbm5lcg==","isTouchStart","test","Haettenschweiler","miliSecondsFromScroll","language","modulePrefix","scrollTop","getComputedStyle","MouseDown","getCookieValue",'div[class^="app_gdpr"]',"all",".mainostila","stack","next","request","plugins","webkitExitFullscreen","timeout","x64String","Cwm fjordbank gly ","sizes","buildID","#widget-quan","contentWindow","Lucida Bright","getDeviceOrientation","requestIdleCallback","mgid","sharedCookieStorage","touchend",".right-and-left-sponsers","networkInformationEffectiveType",'[data-cypress="soft-push-notification-modal"]',"SimHei","useTimePerformance","Minion Pro","isPhantomWebSocketDetected","YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==","/anura","3516564AiCEpO","2361318zHXohL","isPhantomETSLDetected","YVtocmVmKj0iYm9vcmFxLm9yZyJd","networkInformation","YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=","timeG","effectiveType","visibility","puffinDevice",".sklik","parentNode",".newsletter_holder","userLanguage","getExtension","indexOf","setCookie",'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">',"columnNumber","206","#stickyCookieBar","#cookieconsentdiv","oprt","_phantom","name","afBrowserFlag","DateTimeFormat","8XDttAx","start","parse",".kadr","yandex",".yandex-rtb-block","Century Gothic","Unexpected syntax '","frequency","I2FkdmVydGVudGll","Microsoft Uighur","textContent","srgb","setInterval","W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd","reset","pow","Desktop",".textad_headline","getCookie","span","screenY","YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ==","mozInnerScreenX","visitorId","getId","W2NsYXNzKj0iR29vZ2xlQWRzIl0=","position","sent","Apple","getBrowserFlag","iPhone","ucweb","multiply","focus","LmZyb250cGFnZUFkdk0=","app","availWidth","afActiveEl","setCoordsClickAndLinkOfPage","cookietest=","monospace","QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd","kv11","initAntiFraud",".site-pub-interstitiel","anura","cookieStorage","links","isPointInPath","#back-top","gdprApplies","TRAJAN PRO","hardwareConcurrency","div","setProperty","kv7","length",`
  `,"onAnyImageLoaded","prototype","YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd","languages","afHref","reduce","pop","rec2020","LmFkLWRlc2t0b3AtcmVjdGFuZ2xl","URL","Shockwave Flash","Generator is already executing.","exports","getNetwrokInformation","removeEventListener","screenX","version","acos","suspended","[object Intl]","msSaveBlob","bind","#FollowUs","#xenium_hot_offers","nowrap","#sovrn_container","YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd","getBoundingClientRect","join","offsetParent","class","components","height","unknown","call","charCodeAt","MozAppearance","reWriteHref","Anura response error: ","initialize","right","generateBatteryInfo","browserLanguage","referer","#divAgahi","#Publicidade","YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ==","undefined","Counter","canvas","bindEvent","UNMASKED_RENDERER_WEBGL",".adblocker-root","initializeBufferAndDomains","getParameterFromLink","YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ==","config","Google","generateHash",".bumq","__edgeTrackingPreventionStatistics","release","generate","isSeleniumDetected","showHash","push","Gill Sans","compressNumber","fill","top","value","ZWAdobeF","UTC","evenodd","msExitFullscreen","callback","YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd","keys","TouchStart","document","__ybro","then","#pavePub","#f60","(prefers-reduced-motion: ","isSupportHtml5","MarketGid","556249YnUUWq","knee","type","Serifa","[object Reflect]","style","hasOwnProperty","webkitPersistentStorage","ApplePayError","display","isJavaEnabled","btoa","substring","I3Jla2xhbWUtcmVjaHRzLW1pdHRl","startRendering","LnJla2xhbWEtbWVnYWJvYXJk","opr","afImgLoaded","YVtocmVmKj0iLy91dGltZy5ydS8iXQ==","oncomplete","#inlineShare","LmFkczMwMHM=","result","webkitConnection","getPlugins","DeviceMotionEvent","afReferrer","LnJlY2xhbWE=","MS Reference Specialty","webdriver","I2FkX2ludmlld19hcmVh","getCoordsClickOfWindow","detachEvent","object","matches","#f9c","getTimezoneOffset","MS Outlook","TouchEnd","openDatabase","AvantGarde Bk BT","setItem","publisherId","ops","#kauli_yad_1","opacity","important","slice","no-preference","error","PageOffset","LmJveF9hZHZfYW5udW5jaQ==","webgl","MSCSSMatrix","return","#queTooltip","word","str","clearImmediate","adler32","ABCDEFGHIJKLMNOPQRSTUVWXYZabcde.ghijklmnopqrstuv0123456789wxyz-_","availHeight","applyReplacements","VIDEO","match","isFlashEnabled","saveData","mouseover","getContext","getCoordsClickOfPage","ongestureend","mozConnection","SCRIPTINA","scrollLeft","(?:^|; )","serif","LmFkc19iYW4=","initEvent","afRealHref","anuraEnabled","toString","IMG","defineProperty","acosh","LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ==","YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ==","documentElement","I0JveC1CYW5uZXItYWRz","__gCrWeb","LnRyYWZmaWNqdW5reS1hZA==","zoom","dec2chr","experimental-webgl","threshold","mmMwWLliI0fiflO&1","consentData","__esModule","LmFtcF9hZA==","setDeepSession","about:blank",".o--cookies--container","groupBotDetectionBits","#SidebarIklan-wrapper","Storage",".adstekst","YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==","YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0=","img","bottom","onload","generated",'a[href^="/url/"]',"application/x-www-form-urlencoded","afBrowserHookMask","href","response","ZGl2LmhvbGlkQWRz","logger","sendImage","YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ==","YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd","composite","readyState","createEvent","getCoordsElementOfPage","#pmadv","tan","send","__driver_unwrapped","setRequestHeader","string","arc","create","YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd","exp","SVGGeometryElement","Leelawadee","Clarendon","isOnLine","number","pageY","#ff2","Focus","toSource","trimString","#taotaole","fillText","asinh","BankGothic Md BT","Segoe UI Light"];return Ms=function(){return r},Ms()}(function(){var r=oe,e={927:function(s,n){var l=oe,c;c=function(h){var g=oe;h.version="1.3.1",h[g(901)]=function(y,T){var b=g,P=1,x=0,B=y.length,O=0;b(691)==typeof T&&(P=65535&T,x=T>>>16);for(var w=0;w<B;){for(O=Math[b(983)](B-w,2654)+w;w<O;w++)x+=P+=255&y.charCodeAt(w);P=15*(P>>>16)+(65535&P),x=15*(x>>>16)+(65535&x)}return x%65521<<16|P%65521},h[g(337)]=function(y,T){var b=1,P=0,x=y.length,B=0;typeof T=="number"&&(b=65535&T,P=T>>>16&65535);for(var O=0;O<x;){for(B=Math.min(x-O,2654)+O;O<B;O++)P+=b+=255&y[O];b=15*(b>>>16)+(65535&b),P=15*(P>>>16)+(65535&P)}return P%65521<<16|b%65521},h[g(609)]=function(y,T){var b=g,P=1,x=0,B=y[b(463)],O=0,w=0,M=0;b(691)==typeof T&&(P=65535&T,x=T>>>16);for(var H=0;H<B;){for(O=Math.min(B-H,2918);O>0;)(w=y.charCodeAt(H++))<128?P+=w:w<2048?(x+=P+=192|w>>6&31,--O,P+=128|63&w):w>=55296&&w<57344?(x+=P+=240|(w=64+(1023&w))>>8&7,--O,x+=P+=128|w>>2&63,--O,x+=P+=128|(M=1023&y.charCodeAt(H++))>>6&15|(3&w)<<4,--O,P+=128|63&M):(x+=P+=224|w>>12&15,--O,x+=P+=128|w>>6&63,--O,P+=128|63&w),x+=P,--O;P=15*(P>>>16)+(65535&P),x=15*(x>>>16)+(65535&x)}return x%65521<<16|P%65521}},l(512)==typeof DO_NOT_EXPORT_ADLER?c(n):c({})}},t={};function i(s){var n=oe,l=t[s];if(l!==void 0)return l[n(477)];var c=t[s]={exports:{}};return e[s](c,c[n(477)],i),c[n(477)]}i.n=function(s){var n=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(n,{a:n}),n},i.d=function(s,n){var l=oe;for(var c in n)i.o(n,c)&&!i.o(s,c)&&Object[l(634)](s,c,{enumerable:!0,get:n[c]})},i.o=function(s,n){var l=oe;return Object[l(466)].hasOwnProperty.call(s,n)},i.r=function(s){var n=oe;typeof Symbol<"u"&&Symbol[n(906)]&&Object[n(634)](s,Symbol[n(906)],{value:n(704)}),Object[n(634)](s,n(648),{value:!0})};var a={};(function(){"use strict";var s=oe;i.r(a),i.d(a,{AntiFraud:function(){return x},Anura:function(){return Mn},Application:function(){return pd},BaseConfiguration:function(){return B},EventMask:function(){return n},Pixalate:function(){return od},Snapshot:function(){return rd}});var n,l=i(927),c=i.n(l),h=function(){var d=oe;function u(){}return u[d(532)]=function(o){var p=d;if(o===null||isNaN(o)||o==="")return"";var m="";o<0&&(m=",",o*=-1);for(var f=parseInt(String(o),10)[p(632)](8),A=Math[p(273)](f.length/2),R=0;R<A;R++){var N=f[p(266)](2*R,2);m+=u[p(313)](N)}return m},u[d(358)]=function(o){var p=d;o=o[p(632)](),o=unescape(encodeURIComponent(o));for(var m,f,A,R,N,v,L,G=p(986),J="",re=0;re<o[p(463)];)R=(m=o.charCodeAt(re++))>>2,N=(3&m)<<4|(f=o[p(500)](re++))>>4,A=o[p(500)](re++),v=isNaN(f)?64:(15&f)<<2|A>>6,L=isNaN(A)?64:63&A,J+=G[p(706)](R)+G[p(706)](N)+G[p(706)](v)+G[p(706)](L);return J},u[d(643)]=function(o){var p=d;return p(612)[p(266)](o,1)},u.oct2chr=function(o){return{"00":"A","01":"B","02":"C","03":"D","04":"E","05":"F","06":"G","07":"H",10:"I",11:"J",12:"K",13:"L",14:"M",15:"N",16:"O",17:"P",20:"Q",21:"R",22:"S",23:"T",24:"U",25:"V",26:"W",27:"X",30:"Y",31:"Z",32:"a",33:"b",34:"c",35:"d",36:"e",37:".",40:"g",41:"h",42:"i",43:"j",44:"k",45:"l",46:"m",47:"n",50:"o",51:"p",52:"q",53:"r",54:"s",55:"t",56:"u",57:"v",60:"0",61:"1",62:"2",63:"3",64:"4",65:"5",66:"6",67:"7",70:"8",71:"9",72:"w",73:"x",74:"y",75:"z",76:"-",77:"_",0:"!",1:"*",2:";",3:":",4:"=",5:"+",6:"$",7:"~"}[o]},u[d(611)]=function(o){return c().str(o)>>>0},u}(),g=function(){var d=oe;function u(){}return u[d(703)]=function(o){var p=d,m=[];for(var f in o)m[p(530)](f+"="+o[f]);return m[p(493)]("&")},u}(),y=function(){var d=oe;function u(){}return u[d(696)]=function(o,p,m){var f=d;m===void 0&&(m=!1);var A=o[f(463)];if(A<=p)return o;var R=m?A-p:0,N=m?A:p;return o[f(564)](R,N)},u}(),T=function(){var d=oe;function u(){}return u[d(731)]=function(o,p,m){var f=d;o.addEventListener?o.addEventListener(p,m,!1):o[f(1008)]("on"+p,m)},u.removeEvent=function(o,p,m){var f=d;o[f(479)]?o[f(479)](p,m,!1):o[f(584)]("on"+p,m)},u}(),b=function(){var d=oe;function u(o){var p=oe;this[p(521)]=o,this.topIFrame=null,this[p(932)]=o[p(932)]}return u[d(466)].isSessionStorageEnabled=function(){var o=d,p=null;if(o(995)in this.context)try{this[o(932)][o(995)][o(593)](o(930),1),p=this[o(932)][o(995)][o(263)](o(930))}catch{}return p?1:0},u[d(466)][d(436)]=function(){var o=d,p=0;return(this[o(932)][o(716)]||this[o(932)][o(568)]!==void 0)&&(p+=1),(this.context[o(716)]&&this[o(932)][o(716)][o(964)]||this[o(932)].opr!==void 0)&&(p+=2),(this[o(932)][o(544)][o(350)]||this[o(932)].MSStream)&&(p+=4),this[o(932)][o(563)]&&!this[o(932)][o(256)][o(987)]&&this[o(932)][o(610)]===void 0||(p+=8),this[o(932)].chrome&&(p+=16),this[o(932)][o(429)]!==void 0&&(p+=32),this[o(932)][o(819)]||(p+=64),p},u[d(466)][d(562)]=function(){var o=d;return this[o(932)][o(256)][o(985)]()?1:0},u[d(466)][d(617)]=function(){var o=d,p=0,m=this[o(932)][o(256)][o(355)];if(m!==void 0&&o(585)===m?.[o(475)])p=1;else if(this[o(932)][o(816)]!==void 0)try{new ActiveXObject(o(896))&&(p=1)}catch{}return p},u[d(466)][d(915)]=function(){var o=d;return this[o(932)][o(256)].cookieEnabled?1:0},u.prototype[d(975)]=function(){var o=d,p=null;if(o(715)in this[o(932)])try{this[o(932)].localStorage.setItem(o(930),1),p=this[o(932)][o(715)][o(263)](o(930))}catch{}return p?1:0},u[d(466)][d(305)]=function(){var o=d,p=0;return this.isJavaEnabled()&&(p+=1),this[o(617)]()&&(p+=2),this[o(915)]()&&(p+=4),this[o(975)]()&&(p+=8),this[o(803)]()&&(p+=16),this[o(339)]()&&(p+=32),p},u[d(466)][d(339)]=function(){var o=d;return this[o(932)][o(252)]!==void 0},u[d(466)][d(976)]=function(o){var p=d,m=-32768,f={top:m,bottom:m,left:m,right:m,height:m,width:m};try{f=o.getBoundingClientRect()}catch{return f}var A={top:f.top,bottom:f[p(660)],left:f[p(795)],right:f[p(505)],height:f.height?f[p(497)]:f[p(660)]-f[p(534)],width:f[p(845)]?f[p(845)]:f[p(505)]-f[p(795)]};if(this[p(932)].self!==this[p(932)][p(534)]){var R=this[p(302)]();if(R){var N=R.getBoundingClientRect();A[p(534)]+=N[p(534)],A.bottom+=N[p(534)],A[p(795)]+=N.left,A.right+=N[p(795)]}}return A},u[d(466)][d(302)]=function(){var o=d;if(this[o(954)]===void 0)try{var p=void 0,m=void 0;for(m=(p=this[o(932)]).frameElement;p.frameElement;p=p[o(895)])m=p[o(844)];this[o(954)]=m}catch{this[o(954)]=null}return this[o(954)]},u[d(466)][d(769)]=function(o){var p=d,m=0,f=0;return p(293)in o&&p(881)in o?(m=o.clientX,f=o[p(881)]):p(936)in o&&o[p(936)]&&o[p(936)][0]&&(m=o[p(936)][0][p(293)],f=o[p(936)][0][p(881)]),{x:m,y:f}},u[d(466)][d(255)]=function(o){var p=d,m=0,f=0;return o||(o=this.context.event),p(312)in o&&p(692)in o?(m=o[p(312)],f=o[p(692)]):p(936)in o&&o.touches&&o[p(936)][0]?(m=o.touches[0][p(312)],f=o[p(936)][0][p(692)]):p(293)in o&&p(881)in o&&(m=o[p(293)]+(this.context[p(544)][p(638)][p(625)]||this[p(932)].document.body.scrollLeft)-this[p(932)][p(544)][p(638)][p(712)],f=o[p(881)]+(this[p(932)][p(544)][p(638)][p(345)]||this[p(932)][p(544)].body.scrollTop)-this[p(932)][p(544)][p(638)].clientTop),{x:m,y:f}},u[d(466)][d(676)]=function(o){var p=d,m=0,f=0;do m+=o[p(720)],f+=o.offsetTop,o=o[p(494)];while(o);return{x:m,y:f}},u[d(466)][d(583)]=function(o){var p=d,m=-32768,f=m,A=m;return p(293)in o&&p(881)in o?(f=o[p(293)],A=o[p(881)]):"touches"in o&&o[p(936)]&&o.touches[0]&&(f=o[p(936)][0][p(293)],A=o[p(936)][0][p(881)]),{x:f,y:A}},u[d(466)][d(365)]=function(o){var p=d;if(this[p(932)].DeviceOrientationEvent){var m=!0,f=0;T[p(731)](this.context,"deviceorientation",function(){m&&(f++,m=!1,setTimeout(function(){m=!0},1e3)),o(f.toString())})}else o("0")},u[d(466)].getCoordsClickOfPage=function(o){var p=d,m=-32768,f=m,A=m;return o||(o=this[p(932)].event),"pageX"in o&&"pageY"in o?(f=o[p(312)],A=o.pageY):p(936)in o&&o.touches&&o[p(936)][0]?(f=o.touches[0].pageX,A=o[p(936)][0].pageY):p(293)in o&&"clientY"in o&&(f=o[p(293)]+(this[p(932)][p(544)][p(638)][p(625)]||this[p(932)][p(544)][p(722)][p(625)])-this[p(932)][p(544)][p(638)].clientLeft,A=o[p(881)]+(this[p(932)].document.documentElement[p(345)]||this[p(932)].document.body[p(345)])-this[p(932)][p(544)][p(638)].clientTop),{x:f,y:A}},u[d(466)].isTransparent=function(o){for(var p=d;o[p(753)]&&o.firstChild[p(879)]===1;)o=o[p(753)];for(;o[p(390)];){if(parseFloat(this[p(932)][p(346)](o).getPropertyValue(p(597)))<=.2)return 1;if(o===this[p(932)][p(544)][p(722)])break;o=o[p(390)]}return 0},u.prototype[d(690)]=function(){var o=d,p=1;return this.context[o(256)][o(231)]!==void 0&&(p=this[o(932)][o(256)][o(231)]?1:0),p},u[d(466)][d(506)]=function(o){var p=d;this[p(932)][p(256)][p(802)]&&this.context[p(256)][p(802)]()[p(546)](function(m){var f=p;o(+m[f(899)],100*m.level)})},u.prototype[d(550)]=function(){var o=d,p=this[o(932)][o(544)][o(982)](o(514));return p.getContext&&p[o(620)]("2d")?1:0},u[d(466)].getScreenX=function(){var o=d,p=0;return this.context[o(480)]!==void 0&&(p=Math[o(947)](this[o(932)][o(480)])),p},u[d(466)][d(270)]=function(){var o=d,p=0;return this[o(932)].screenY!==void 0&&(p=Math[o(947)](this[o(932)][o(427)])),p},u[d(466)][d(465)]=function(o){for(var p=d,m=/\/\/img.*\/[\d]+\/([\d]+).*\.(jpg|gif)/,f=/\/\/s-img.*\/([\d]+)\/.*\.(jpg|gif)/,A=this[p(521)].root[p(291)](p(633)),R=this[p(521)][p(275)][p(291)](p(615)),N=[],v=0;v<A.length;v++)N.push(A[v]);for(v=0;v<R[p(463)];v++)N[p(530)](R[v]);for(v=0;v<N[p(463)];v++){var L=m[p(734)](N[v][p(274)]);L||(L=f[p(734)](N[v].src)),T[p(731)](N[v],p(907),o)}},u[d(466)].getHardwareConcurrency=function(){var o=d,p=0;return this[o(932)].navigator[o(459)]!==void 0&&(p=this[o(932)][o(256)].hardwareConcurrency),p},u.prototype[d(576)]=function(){var o=d,p="";if(this[o(932)][o(256)].plugins!==void 0){for(var m=this.context[o(256)][o(355)],f=[],A=0;A<m[o(463)];A++)f.push(m[A][o(403)]);p=y.trimString(f[o(493)]("|")[o(981)](/\s/g,""),300)}return p},u[d(466)].getNetwrokInformation=function(){var o=d,p={networkInformationType:"unknown",networkInformationEffectiveType:o(498),networkInformationSaveData:0};try{var m=this[o(932)][o(256)][o(788)]||this.context[o(256)][o(623)]||this.context[o(256)][o(575)];m.type!==void 0&&(p.networkInformationType=m[o(554)]),m[o(386)]!==void 0&&(p.networkInformationEffectiveType=m[o(386)]),m[o(618)]!==void 0&&(p[o(777)]=m.saveData?1:0)}catch{}return p},u.prototype.getTimePerformance=function(){return new Promise(function(o){for(var p=oe,m=performance[p(303)](),f=new Array(5e3),A=0;A<5e3;A++)f[A]=Math[p(271)]();f[p(783)]();var R=performance[p(303)]();o(Math[p(799)](R-m))})},u.prototype[d(528)]=function(){var o=d;return o(581)in this[o(932)]||o(784)in this[o(932)]||o(247)in this[o(932)]||o(747)in this.context||"__webdriver_script_fn"in this[o(932)][o(544)]||o(946)in this.context[o(544)]||o(909)in this[o(932)][o(544)]||o(923)in this[o(932)][o(544)]||"__fxdriver_evaluate"in this.context[o(544)]||o(680)in this[o(932)][o(544)]||o(250)in this[o(932)][o(544)]||"__selenium_unwrapped"in this[o(932)].document||o(902)in this[o(932)][o(544)]||o(860)in this[o(932)][o(544)]||this.context[o(544)].documentElement[o(912)](o(325))!==null||this[o(932)][o(544)][o(638)].getAttribute(o(581))!==null||this[o(932)][o(544)][o(638)].getAttribute("driver")!==null},u[d(466)][d(234)]=function(){var o=d;return/Chrome/[o(340)](this.context[o(256)][o(876)])?o(581)in this.context[o(256)]:o(581)in this[o(932)].navigator&&this[o(932)][o(256)].webdriver},u[d(466)].isPhantomUADetected=function(){var o=d;return/PhantomJS/[o(340)](this[o(932)][o(256)][o(876)])},u[d(466)].isPhantomPropertyDetected=function(){var o=d;return o(979)in this.context||o(402)in this.context||o(910)in this.context},u.prototype[d(381)]=function(){var o=d;return!/Firefox/[o(340)](this[o(932)][o(256)][o(876)])&&!/Safari/.test(this[o(932)][o(256)][o(876)])&&eval[o(632)]()[o(463)]===37},u[d(466)][d(245)]=function(){var o=d;return!/Trident|MSIE|Edge/[o(340)](this[o(932)][o(256)].userAgent)&&this[o(932)].navigator.languages===void 0},u[d(466)][d(376)]=function(){var o=d,p=[];try{azeaze}catch(m){p.push(m[o(717)]),p.push(m[o(284)]),p[o(530)](m[o(950)]),p[o(530)](m[o(838)]),p.push(m[o(691)]),p[o(530)](m[o(397)]);try{p.push(m[o(695)]()[o(632)]())}catch{p.push(void 0)}}try{new WebSocket(o(991))}catch(m){p.push(m.message)}return/SyntaxError: DOM Exception 12/[o(340)](p[7])},u[d(466)][d(914)]=function(){var o=d,p=0,m="",f="",A=0;return function R(){var N=oe;try{p++,R()}catch(v){m=v[N(717)],f=v[N(403)],A=v[N(352)][N(632)]().length}}(),o(1006)===f&&m==="Maximum call stack size exceeded."&&A>20*p},u[d(466)][d(865)]=function(){var o=d;return!(this[o(932)][o(778)][o(443)]<=this[o(932)].screen[o(845)]&&this[o(932)][o(778)][o(613)]<=this[o(932)][o(778)][o(497)])},u[d(466)][d(653)]=function(){var o=d,p=0;return this[o(528)]()&&(p+=1),this[o(234)]()&&(p+=2),this.isPhantomUADetected()&&(p+=4),this[o(732)]()&&(p+=8),this.isPhantomETSLDetected()&&(p+=16),this[o(245)]()&&(p+=32),this[o(376)]()&&(p+=64),this[o(914)]()&&(p+=128),this[o(865)]()&&(p+=256),p},u}(),P=function(){var d=oe;function u(){var o=oe;this[o(218)]=[],this.sizes=[]}return u[d(466)][d(823)]=function(o,p){var m=d;return this[m(218)].push(o),this[m(360)].push(p),this},u[d(466)][d(286)]=function(){var o=d,p=this[o(360)][o(470)](function(N,v){return N+v},0);if(this[o(218)].reduce(function(N,v){var L=o;return N+v[L(463)]},0)<=p)return this[o(218)];for(var m=this.initializeBufferAndDomains(),f=m[0],A=m[1],R=m[2];this[o(953)](f););return this.applyReplacements(f,A,R),f},u[d(466)][d(518)]=function(){for(var o=d,p=[],m=[],f=[],A=0;A<this[o(218)][o(463)];A++){var R=this[o(218)][A][o(463)]>=8?this.referrers[A][o(394)]("/",8):-1;R===-1?(p[A]=this[o(218)][A],this[o(218)][A]=""):(p[A]=this[o(218)][A].substr(0,R),this.referrers[A]=this[o(218)][A][o(266)](R)),this.sizes[A]-=p[A].length}return m[o(530)][o(260)](m,p),m[0]===m[1]?f[0]="++":m[0]===m[2]&&(f[0]="::"),m[1]===m[2]&&(f[1]=";;"),[p,m,f]},u[d(466)][d(953)]=function(o){for(var p=d,m=Array(this[p(218)].length)[p(533)](!1),f=!1,A=0;A<this.referrers[p(463)];A++)if(m[A]||this.referrers[A][p(463)])m[A]||(f=!0,o[A]+=this.referrers[A][0],this[p(218)][A]=this[p(218)][A][p(463)]!==1?this[p(218)][A][p(266)](1):"",this[p(360)][A]--,this[p(360)][A]||(m[A]=!0));else{m[A]=!0;var R=this[p(360)][A];this[p(360)][A]=0;var N=m.indexOf(!1);N!==-1&&(this.sizes[N]+=R)}return f},u[d(466)][d(614)]=function(o,p,m){var f=d;for(var A in m)f(682)!=typeof o[A]&&(o[A]=""),o[A]=o[A].split(p[A])[f(493)](m[A])},u}();(function(d){var u=oe;d[d[u(1001)]=0]=u(1001),d[d.MouseOver=1]=u(874),d[d[u(241)]=2]=u(241),d[d[u(543)]=4]=u(543),d[d.TouchEnd=8]=u(590),d[d.MouseDown=16]=u(347),d[d[u(694)]=32]=u(694)})(n||(n={}));var x=function(){var d=oe;function u(o){var p=oe;this.config=o,this[p(342)]=null,this[p(880)]="",this.afReferrer="",this[p(469)]="",this[p(243)]=0,this[p(996)]=0,this[p(569)]=0,this.afCoords="",this.afCoordsClickAndLinkOfPage="",this.afDeviceOrientation="",this.afBrowserFlag=0,this[p(969)]="",this[p(665)]=0,this[p(961)]=-1,this.afLevel=-1,this[p(383)]=p(851),this.afTimePerformance=-1,this[p(746)]=n[p(1001)],this.domExtractor=new b(o)}return u[d(466)][d(504)]=function(){var o=d,p=this;this[o(521)][o(453)][o(425)](),this[o(719)](),this[o(650)](),this.setNetworkInformation(),this.afMgLoaded=new Date()[o(813)](),this.afBrowserFlag=this[o(888)][o(436)](),this[o(665)]=this[o(888)].getBrowserFlag(),this[o(969)]=this[o(888)][o(576)](),this[o(521)][o(374)]&&this[o(888)][o(228)]()[o(546)](function(m){var f=o;p[f(796)]=m}),this[o(908)]()},u.prototype[d(523)]=function(o,p,m){var f=d;m===void 0&&(m="");var A=new Date,R=this[f(888)][f(583)](o),N=this.domExtractor[f(976)](p),v=this.domExtractor.isTransparent(p);return this[f(805)](p),this[f(445)](o,p),u[f(330)]({1:"",2:"",3:h.compressNumber(this[f(996)]),4:h[f(532)](A[f(813)]()),5:"",7:h[f(358)](R.x+"|"+R.y),8:h.compressNumber(u[f(519)](p,"wct")?1:0),9:h[f(532)](N.left),10:h[f(532)](this.miliSecondsFromScroll),11:h.compressNumber(N[f(534)]),12:"",13:h.x64String(N[f(845)]+"|"+N[f(497)]),14:"",15:"",16:"",17:h[f(532)](this[f(404)]),18:h[f(532)](this[f(746)]),19:this[f(469)],20:this[f(578)],21:this[f(880)],22:h[f(532)](this[f(243)]),23:h[f(358)](this[f(955)]),24:h.x64String(this.afDeviceOrientation),25:h[f(532)](this[f(796)]),27:h.compressNumber(this[f(521)][f(831)]),28:h[f(643)](this[f(888)].groupBitParams()),29:h[f(358)](this.afCoords),30:h[f(532)](this[f(521)].context[f(778)][f(845)]),31:h[f(532)](this[f(521)].context.screen.height),33:h[f(532)](this[f(569)]),34:h.compressNumber(v),35:h.x64String(this[f(521)][f(932)].navigator.userAgent),36:h[f(358)](this[f(969)]),37:h.dec2chr(this.domExtractor.groupBotDetectionBits()),38:h.x64String(this[f(521)][f(932)][f(256)][f(267)]),39:h[f(358)](-A[f(588)]()),40:h[f(358)](this.afCharging+"|"+this[f(219)]),41:h[f(358)](this[f(521)][f(932)].screen.availWidth+"|"+this[f(521)][f(932)][f(778)][f(613)]),42:h[f(358)](this[f(383)]),43:h[f(532)](this[f(888)].getScreenX()),44:h[f(532)](this[f(888)][f(270)]()),45:h[f(532)](this[f(665)]),46:h[f(532)](h.adler32(m)),47:h[f(532)](this[f(888)][f(550)]()),48:h[f(532)](this[f(888)][f(690)]())})},u.prototype[d(900)]=function(o){var p=d;this[p(746)]=o|this[p(746)]},u[d(466)].setWidgetEvents=function(){var o=d,p=this;this.domExtractor[o(465)](function(){var m=o;p.afImgLoaded||(p[m(569)]=new Date()[m(813)]())})},u[d(466)][d(908)]=function(){var o=d,p=this;T[o(731)](this[o(521)][o(932)][o(544)],"scroll",function(m){var f=o;m||(m=p[f(521)][f(932)].event),p[f(521)].context[f(853)](p[f(944)]),p[f(944)]=p[f(521)][f(932)][f(419)](function(){var A=f;p[A(342)]===null&&(p[A(342)]=0),p[A(342)]++},100)}),this[o(888)][o(365)](function(m){var f=o;p[f(316)]=m}),this.domExtractor[o(506)](function(m,f){p.afCharging=m,p.afLevel=f})},u[d(466)][d(1004)]=function(){var o=d,p=this[o(888)][o(478)]();this[o(383)]=[p.networkInformationType,p[o(371)],p[o(777)]][o(493)]("|")},u.prototype[d(445)]=function(o,p){var m=d,f=this.domExtractor[m(621)](o),A=this[m(888)][m(676)](p);this[m(955)]=[f.x,f.y,A.x,A.y][m(849)](function(R){return parseInt(R)})[m(493)]("|")},u[d(466)].setCoords=function(o){var p=d,m=this[p(888)][p(976)](o);this[p(272)]=[m[p(497)],m[p(845)],m.left,m[p(534)]][p(849)](function(f){return parseInt(f)})[p(493)]("|")},u[d(466)].setReferrers=function(){var o=d;this[o(521)].cookieStorage[o(368)][o(723)]===void 0?(this[o(880)]=y[o(696)](this[o(521)][o(932)][o(544)][o(770)],500),this[o(521)][o(453)][o(368)][o(723)]=this.afPrimaryReferrer,this[o(521)][o(453)][o(395)]()):this.afPrimaryReferrer=this[o(521)][o(453)][o(368)][o(723)],this[o(521)].context[o(558)](o(508))?this[o(578)]=this[o(521)][o(932)][o(508)]:this.afReferrer=this[o(521)][o(932)][o(544)].referrer,this[o(469)]=this[o(521)][o(932)][o(544)][o(990)][o(666)];var p=new P,m=this[o(521)][o(862)]?[70,50,50]:[300,300,300],f=p[o(823)](this[o(880)],m[0])[o(823)](this[o(578)],m[1])[o(823)](this[o(469)],m[2])[o(286)]();this.afPrimaryReferrer=h[o(358)](y[o(696)](f[0],256)),this[o(578)]=h[o(358)](y[o(696)](f[1],256)),this[o(469)]=h.x64String(y[o(696)](f[2],256))},u[d(466)][d(650)]=function(){var o=d;if(this[o(521)][o(453)][o(368)][o(850)]!==void 0){this.afDeepSession=this.config[o(453)][o(368)][o(850)];var p=this[o(521)].modulePrefix+o(238);this.config[o(932)][p]===void 0&&(this[o(243)]++,this[o(521)][o(932)][p]=!0)}else this[o(243)]=1;this[o(521)].cookieStorage.sharedCookieStorage.svsds=this[o(243)],this[o(521)][o(453)].setCookie()},u[d(519)]=function(o,p){var m=d,f=o[m(807)];if(f==="")return null;for(var A=f.replace("?","")[m(1010)]("&"),R=0;R<A[m(463)];R++)if(A[R].split("=")[0]===p)return A[R];return null},u[d(330)]=function(o){var p=d,m="";for(var f in o)m+=parseInt(f)===1?"c":"f",o.hasOwnProperty(f)&&(m+=o[f]);var A=h[p(532)](h[p(611)](m));return encodeURIComponent(m+"("+A)},u}(),B=function(d){var u=oe;this.id=d.id,this.modulePrefix=d[u(344)],this[u(669)]=d[u(669)],this.cookieStorage=d[u(453)],this[u(932)]=d[u(932)]||window,this[u(275)]=d[u(275)]||window[u(544)],this[u(862)]=d.afShortEnabled||!1,this[u(831)]=d[u(831)]||0,this[u(374)]=d[u(374)]||!1},O=function(){var d=oe;return O=Object[d(920)]||function(u){for(var o=d,p,m=1,f=arguments[o(463)];m<f;m++)for(var A in p=arguments[m])Object.prototype[o(558)][o(499)](p,A)&&(u[A]=p[A]);return u},O.apply(this,arguments)};function w(d,u,o,p){return new(o||(o=Promise))(function(m,f){var A=oe;function R(L){var G=oe;try{v(p[G(353)](L))}catch(J){f(J)}}function N(L){try{v(p.throw(L))}catch(G){f(G)}}function v(L){var G=oe,J;L.done?m(L[G(535)]):(J=L.value,J instanceof o?J:new o(function(re){re(J)}))[G(546)](R,N)}v((p=p[A(260)](d,u||[]))[A(353)]())})}function M(d,u){var o=oe,p,m,f,A,R={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return A={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(A[Symbol[o(968)]]=function(){return this}),A;function N(v){return function(L){return function(G){var J=oe;if(p)throw new TypeError(J(476));for(;A&&(A=0,G[0]&&(R=0)),R;)try{if(p=1,m&&(f=2&G[0]?m[J(606)]:G[0]?m[J(244)]||((f=m[J(606)])&&f[J(499)](m),0):m[J(353)])&&!(f=f.call(m,G[1])).done)return f;switch(m=0,f&&(G=[2&G[0],f[J(535)]]),G[0]){case 0:case 1:f=G;break;case 4:return R.label++,{value:G[1],done:!1};case 5:R[J(897)]++,m=G[1],G=[0];continue;case 7:G=R.ops[J(471)](),R[J(760)][J(471)]();continue;default:if(!((f=(f=R[J(760)])[J(463)]>0&&f[f[J(463)]-1])||G[0]!==6&&G[0]!==2)){R=0;continue}if(G[0]===3&&(!f||G[1]>f[0]&&G[1]<f[3])){R[J(897)]=G[1];break}if(G[0]===6&&R[J(897)]<f[1]){R.label=f[1],f=G;break}if(f&&R[J(897)]<f[2]){R[J(897)]=f[2],R[J(595)][J(530)](G);break}f[2]&&R[J(595)][J(471)](),R[J(760)][J(471)]();continue}G=u[J(499)](d,R)}catch(re){G=[6,re],m=0}finally{p=f=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([v,L])}}}function H(d,u,o){var p=oe;if(o||arguments[p(463)]===2)for(var m,f=0,A=u[p(463)];f<A;f++)!m&&f in u||(m||(m=Array.prototype[p(599)][p(499)](u,0,f)),m[f]=u[f]);return d[p(792)](m||Array.prototype[p(599)][p(499)](u))}Object[s(684)],s(933)==typeof SuppressedError&&SuppressedError;function ie(d,u){return new Promise(function(o){return setTimeout(o,d,u)})}function Z(d){var u=s;return!!d&&u(933)==typeof d[u(546)]}function Q(d,u){var o=s;try{var p=d();Z(p)?p[o(546)](function(m){return u(!0,m)},function(m){return u(!1,m)}):u(!0,p)}catch(m){u(!1,m)}}function te(d,u,o){return o===void 0&&(o=16),w(this,void 0,void 0,function(){var p,m,f,A;return M(this,function(R){var N=oe;switch(R[N(897)]){case 0:p=Array(d[N(463)]),m=Date[N(303)](),f=0,R.label=1;case 1:return f<d[N(463)]?(p[f]=u(d[f],f),(A=Date[N(303)]())>=m+o?(m=A,[4,ie(0)]):[3,3]):[3,4];case 2:R[N(434)](),R[N(897)]=3;case 3:return++f,[3,1];case 4:return[2,p]}})})}function ae(d){var u=s;d[u(546)](void 0,function(){})}function me(d,u){d=[d[0]>>>16,65535&d[0],d[1]>>>16,65535&d[1]],u=[u[0]>>>16,65535&u[0],u[1]>>>16,65535&u[1]];var o=[0,0,0,0];return o[3]+=d[3]+u[3],o[2]+=o[3]>>>16,o[3]&=65535,o[2]+=d[2]+u[2],o[1]+=o[2]>>>16,o[2]&=65535,o[1]+=d[1]+u[1],o[0]+=o[1]>>>16,o[1]&=65535,o[0]+=d[0]+u[0],o[0]&=65535,[o[0]<<16|o[1],o[2]<<16|o[3]]}function se(d,u){d=[d[0]>>>16,65535&d[0],d[1]>>>16,65535&d[1]],u=[u[0]>>>16,65535&u[0],u[1]>>>16,65535&u[1]];var o=[0,0,0,0];return o[3]+=d[3]*u[3],o[2]+=o[3]>>>16,o[3]&=65535,o[2]+=d[2]*u[3],o[1]+=o[2]>>>16,o[2]&=65535,o[2]+=d[3]*u[2],o[1]+=o[2]>>>16,o[2]&=65535,o[1]+=d[1]*u[3],o[0]+=o[1]>>>16,o[1]&=65535,o[1]+=d[2]*u[2],o[0]+=o[1]>>>16,o[1]&=65535,o[1]+=d[3]*u[1],o[0]+=o[1]>>>16,o[1]&=65535,o[0]+=d[0]*u[3]+d[1]*u[2]+d[2]*u[1]+d[3]*u[0],o[0]&=65535,[o[0]<<16|o[1],o[2]<<16|o[3]]}function ue(d,u){return(u%=64)==32?[d[1],d[0]]:u<32?[d[0]<<u|d[1]>>>32-u,d[1]<<u|d[0]>>>32-u]:(u-=32,[d[1]<<u|d[0]>>>32-u,d[0]<<u|d[1]>>>32-u])}function Me(d,u){return(u%=64)==0?d:u<32?[d[0]<<u|d[1]>>>32-u,d[1]<<u]:[d[1]<<u-32,0]}function q(d,u){return[d[0]^u[0],d[1]^u[1]]}function ee(d){return d=q(d,[0,d[0]>>>1]),d=q(d=se(d,[4283543511,3981806797]),[0,d[0]>>>1]),q(d=se(d,[3301882366,444984403]),[0,d[0]>>>1])}function K(d){return parseInt(d)}function X(d){return parseFloat(d)}function ht(d,u){return typeof d=="number"&&isNaN(d)?u:d}function st(d){return d.reduce(function(u,o){return u+(o?1:0)},0)}function ti(d,u){var o=s;if(u===void 0&&(u=1),Math.abs(u)>=1)return Math[o(799)](d/u)*u;var p=1/u;return Math[o(799)](d*p)/p}function vt(d){var u=s;return d&&u(585)==typeof d&&"message"in d?d:{message:d}}function Rt(d,u,o){var p=s,m=Object[p(542)](d).filter(function(A){return!function(R,N){for(var v=0,L=R.length;v<L;++v)if(R[v]===N)return!0;return!1}(o,A)}),f=te(m,function(A){return function(R,N){var v=new Promise(function(L){var G=oe,J=Date[G(303)]();Q(R[G(486)](null,N),function(){for(var re=G,Te=[],_e=0;_e<arguments[re(463)];_e++)Te[_e]=arguments[_e];var We=Date[re(303)]()-J;if(!Te[0])return L(function(){return{error:vt(Te[1]),duration:We}});var Ne=Te[1];if(function($e){var Fe=re;return Fe(933)!=typeof $e}(Ne))return L(function(){return{value:Ne,duration:We}});L(function(){return new Promise(function($e){var Fe=oe,Ze=Date[Fe(303)]();Q(Ne,function(){for(var rt=Fe,Ke=[],Dt=0;Dt<arguments[rt(463)];Dt++)Ke[Dt]=arguments[Dt];var hi=We+Date[rt(303)]()-Ze;if(!Ke[0])return $e({error:vt(Ke[1]),duration:hi});$e({value:Ke[1],duration:hi})})})})})});return ae(v),function(){return v.then(function(L){return L()})}}(d[A],u)});return ae(f),function(){return w(this,void 0,void 0,function(){var A,R,N,v;return M(this,function(L){var G=oe;switch(L[G(897)]){case 0:return[4,f];case 1:return[4,te(L[G(434)](),function(J){var re=J();return ae(re),re})];case 2:return A=L[G(434)](),[4,Promise[G(350)](A)];case 3:for(R=L.sent(),N={},v=0;v<m[G(463)];++v)N[m[v]]=R[v];return[2,N]}})})}}function It(){var d=s,u=window,o=navigator;return st([d(605)in u,d(283)in u,d(789)in u,"msMaxTouchPoints"in o,"msPointerEnabled"in o])>=4}function wt(){var d=s,u=window,o=navigator;return st([d(559)in o,"webkitTemporaryStorage"in o,o[d(326)][d(394)](d(522))===0,"webkitResolveLocalFileSystemURL"in u,d(972)in u,d(758)in u,d(827)in u])>=5}function Fi(){var d=s,u=window,o=navigator;return st([d(560)in u,"CSSPrimitiveValue"in u,d(513)in u,o.vendor[d(394)](d(435))===0,d(1002)in o,d(782)in u])>=4}function Vs(){var d=s,u=window;return st([d(940)in u,!(d(577)in u),!(d(622)in u),!("standalone"in navigator)])>=3}function Zp(){var d=s,u=document;return(u[d(808)]||u[d(539)]||u[d(829)]||u[d(356)])[d(499)](u)}function _n(){var d=s,u=wt(),o=function(){var m=oe,f,A,R=window;return st([m(361)in navigator,m(501)in((A=(f=document[m(638)])===null||f===void 0?void 0:f.style)!==null&&A!==void 0?A:{}),m(764)in R,m(429)in R,"CSSMozDocumentRule"in R,"CanvasCaptureMediaStream"in R])>=4}();if(!u&&!o)return!1;var p=window;return st([d(771)in p,"orientation"in p,u&&!("SharedWorker"in p),o&&/android/i[d(340)](navigator.appVersion)])>=2}function kn(d){var u=s,o=new Error(d);return o[u(403)]=d,o}function Cn(d,u,o){var p,m,f;return o===void 0&&(o=50),w(this,void 0,void 0,function(){var A,R;return M(this,function(N){var v=oe;switch(N.label){case 0:A=document,N[v(897)]=1;case 1:return A[v(722)]?[3,3]:[4,ie(o)];case 2:return N[v(434)](),[3,1];case 3:R=A.createElement(v(958)),N[v(897)]=4;case 4:return N[v(760)][v(530)]([4,,10,11]),[4,new Promise(function(L,G){var J=v,re=!1,Te=function(){re=!0,L()};R.onload=Te,R.onerror=function(Ne){re=!0,G(Ne)};var _e=R[J(557)];_e[J(461)]("display",J(905),J(598)),_e[J(433)]=J(794),_e[J(534)]="0",_e.left="0",_e[J(387)]=J(737),u&&J(223)in R?R[J(223)]=u:R[J(274)]=J(651),A[J(722)].appendChild(R);var We=function(){var Ne=J,$e,Fe;re||(((Fe=($e=R.contentWindow)===null||$e===void 0?void 0:$e[Ne(544)])===null||Fe===void 0?void 0:Fe[Ne(674)])==="complete"?Te():setTimeout(We,10))};We()})];case 5:N.sent(),N.label=6;case 6:return!((m=(p=R[v(363)])===null||p===void 0?void 0:p.document)===null||m===void 0)&&m[v(722)]?[3,8]:[4,ie(o)];case 7:return N[v(434)](),[3,6];case 8:return[4,d(R,R[v(363)])];case 9:return[2,N[v(434)]()];case 10:return(f=R[v(390)])===null||f===void 0||f[v(916)](R),[7];case 11:return[2]}})})}function Xp(d){for(var u=s,o=function(L){for(var G=oe,J,re,Te=G(413)[G(792)](L,"'"),_e=/^\s*([a-z-]*)(.*)$/i.exec(L),We=_e[1]||void 0,Ne={},$e=/([.:#][\w-]+|\[.+?\])/gi,Fe=function(Dt,hi){var wa=G;Ne[Dt]=Ne[Dt]||[],Ne[Dt][wa(530)](hi)};;){var Ze=$e[G(734)](_e[2]);if(!Ze)break;var rt=Ze[0];switch(rt[0]){case".":Fe(G(495),rt[G(599)](1));break;case"#":Fe("id",rt[G(599)](1));break;case"[":var Ke=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/[G(734)](rt);if(!Ke)throw new Error(Te);Fe(Ke[1],(re=(J=Ke[4])!==null&&J!==void 0?J:Ke[5])!==null&&re!==void 0?re:"");break;default:throw new Error(Te)}}return[We,Ne]}(d),p=o[0],m=o[1],f=document[u(982)](p??u(460)),A=0,R=Object[u(542)](m);A<R[u(463)];A++){var N=R[A],v=m[N][u(493)](" ");u(557)===N?Jp(f[u(557)],v):f[u(242)](N,v)}return f}function Jp(d,u){for(var o=s,p=0,m=u.split(";");p<m.length;p++){var f=m[p],A=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/[o(734)](f);if(A){var R=A[1],N=A[2],v=A[4];d[o(461)](R,N,v||"")}}}var xi=["monospace",s(319),s(627)],In=["sans-serif-thin",s(772),"Agency FB",s(951),"Arial Unicode MS",s(592),s(700),s(945),"Bitstream Vera Sans Mono","Calibri",s(738),s(412),s(689),s(872),s(277),s(934),s(864),s(886),s(531),s(258),s(341),s(269),"Humanst521 BT",s(688),"Letter Gothic",s(281),s(364),s(229),"Menlo",s(755),s(589),s(580),"MS UI Gothic","MT Extra",s(869),s(756),"Meiryo UI",s(416),s(375),s(875),s(942),"Pristina",s(624),s(701),s(555),s(373),s(978),s(801),s(458),s(318),s(773),s(536)];function qs(d){var u=s;return d[u(960)]()}var Ta,Ws;function Us(){var d=s,u=screen;return[ht(X(u.availTop),null),ht(X(u.width)-X(u.availWidth)-ht(X(u[d(815)]),0),null),ht(X(u.height)-X(u[d(613)])-ht(X(u[d(918)]),0),null),ht(X(u[d(815)]),null)]}function js(d){for(var u=0;u<4;++u)if(d[u])return!1;return!0}function Kp(d){var u;return w(this,void 0,void 0,function(){var o,p,m,f,A,R,N;return M(this,function(v){var L=oe;switch(v[L(897)]){case 0:for(o=document,p=o[L(982)](L(460)),m=new Array(d[L(463)]),f={},Dn(p),N=0;N<d.length;++N)(A=Xp(d[N])).tagName==="DIALOG"&&A[L(322)](),Dn(R=o.createElement(L(460))),R[L(299)](A),p[L(299)](R),m[N]=A;v[L(897)]=1;case 1:return o[L(722)]?[3,3]:[4,ie(50)];case 2:return v[L(434)](),[3,1];case 3:o[L(722)].appendChild(p);try{for(N=0;N<d.length;++N)m[N][L(494)]||(f[d[N]]=!0)}finally{(u=p[L(390)])===null||u===void 0||u[L(916)](p)}return[2,f]}})})}function Dn(d){var u=s;d[u(557)][u(461)](u(561),u(905),u(598))}function En(d){var u=s;return matchMedia(u(949)[u(792)](d,")"))[u(586)]}function Pn(d){var u=s;return matchMedia(u(835).concat(d,")"))[u(586)]}function Ti(d){var u=s;return matchMedia("(prefers-contrast: ".concat(d,")"))[u(586)]}function An(d){var u=s;return matchMedia(u(549)[u(792)](d,")"))[u(586)]}function Ln(d){var u=s;return matchMedia("(dynamic-range: "[u(792)](d,")"))[u(586)]}var Re=Math,ut=function(){return 0},zs={default:[],apple:[{font:s(841)}],serif:[{fontFamily:s(627)}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:s(447)}],min:[{fontSize:s(998)}],system:[{fontFamily:s(739)}]},Qp={fonts:function(){return Cn(function(d,u){var o=oe,p=u[o(544)],m=p[o(722)];m[o(557)].fontSize="48px";var f=p.createElement(o(460)),A={},R={},N=function(J){var re=o,Te=p.createElement(re(426)),_e=Te[re(557)];return _e[re(433)]=re(794),_e[re(534)]="0",_e[re(795)]="0",_e.fontFamily=J,Te.textContent="mmMwWLliI0O&1",f.appendChild(Te),Te},v=xi[o(849)](N),L=function(){for(var J=o,re={},Te=function(Ne){var $e=oe;re[Ne]=xi[$e(849)](function(Fe){return function(Ze,rt){var Ke=oe;return N("'"[Ke(792)](Ze,"',")[Ke(792)](rt))}(Ne,Fe)})},_e=0,We=In;_e<We[J(463)];_e++)Te(We[_e]);return re}();m[o(299)](f);for(var G=0;G<xi[o(463)];G++)A[xi[G]]=v[G][o(1005)],R[xi[G]]=v[G][o(724)];return In[o(867)](function(J){var re=o;return Te=L[J],xi[re(825)](function(_e,We){var Ne=re;return Te[We][Ne(1005)]!==A[_e]||Te[We][Ne(724)]!==R[_e]});var Te})})},domBlockers:function(d){var u=s,o=(d===void 0?{}:d)[u(859)];return w(this,void 0,void 0,function(){var p,m,f,A,R;return M(this,function(N){var v=oe;switch(N[v(897)]){case 0:return Fi()||_n()?(L=atob,p={abpIndo:[v(310),v(321),v(654),v(999),L(v(639))],abpvn:[".quangcao","#mobileCatfish",L(v(824)),v(297),v(677)],adBlockFinland:[v(351),L(v(308)),v(282),L(v(993)),L("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:[v(259),v(409),'TABLE[width="140px"]',v(509),L(v(757))],adBlockWarningRemoval:[v(943),v(517),v(903),L(v(836)),L("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[v(922),v(400),v(349),v(971),v(372)],adGuardBase:[v(965),L(v(800)),L(v(768)),L(v(338)),L(v(333))],adGuardChinese:[L(v(843)),L("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),v(362),L(v(685)),L(v(889))],adGuardFrench:[v(547),L(v(473)),".mobile_adhesion",v(858),L(v(628))],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:[v(596),L("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),L("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),L("LmFkZ29vZ2xl"),L(v(854))],adGuardMobile:[L("YW1wLWF1dG8tYWRz"),L(v(649)),v(751),v(988),L(v(582))],adGuardRussian:[L("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),L(v(579)),v(974),L("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[L(v(785)),L(v(236)),".etsy-tweet",v(572),".popup-social"],adGuardSpanishPortuguese:[v(276),v(510),v(893),v(607),v(708)],adGuardTrackingProtection:["#qoo-counter",L(v(511)),L(v(298)),L(v(428)),"#top100counter"],adGuardTurkish:["#backkapat",L(v(750)),L("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),L("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),L(v(744))],bulgarian:[L("dGQjZnJlZW5ldF90YWJsZV9hZHM="),v(806),".lapni-pop-over",v(488)],easyList:[v(818),L("LndpZGdldF9wb19hZHNfd2lkZ2V0"),L(v(641)),v(424),L(v(226))],easyListChina:[L(v(636)),L(v(441)),v(697),v(759),".cfa_popup"],easyListCookie:[v(774),".cc-CookieWarning",v(935),L("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:[v(264),L(v(261)),L(v(567)),v(389),L("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[L(v(415)),L("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),v(656),L(v(894)),v(1003)],easyListGermany:[v(265),L(v(878)),L("I3dlcmJ1bmdza3k="),L(v(565)),L(v(384))],easyListItaly:[L(v(603)),v(832),L(v(320)),L(v(292)),L(v(657))],easyListLithuania:[L(v(1009)),L(v(952)),L("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),L(v(941)),L("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[L(v(1e3))],fanboyAnnoyances:[v(994),".navigate-to-top","#subscribe_popup",v(391),v(456)],fanboyAntiFacebook:[v(1007)],fanboyEnhancedTrackers:[v(328),v(868),v(490),'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',v(857)],fanboySocial:[v(487),"#meteored_share",v(885),v(713),v(285)],frellwitSwedish:[L(v(790)),L(v(520)),v(927),L(v(668)),v(332)],greekAdBlock:[L(v(448)),L("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),L(v(246)),"DIV.agores300",v(904)],hungarian:[v(749),".optimonk-iframe-container",L(v(743)),L(v(432)),"#hirdetesek_box"],iDontCareAboutCookies:[v(294),".ModuleTemplateCookieIndicator",v(652),v(834),v(399)],icelandicAbp:[L(v(898))],latvian:[L(v(248)),L(v(377))],listKr:[L(v(809)),L(v(324)),L(v(671)),L("aW5zLmZhc3R2aWV3LWFk"),v(315)],listeAr:[L(v(711)),v(370),L(v(826)),L(v(382)),L(v(541))],listeFr:[L(v(637)),L("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),L(v(891)),v(451),'div[id^="crt-"][data-criteo-id]'],officialPolish:[v(232),L(v(420)),L(v(828)),L(v(989)),L(v(262))],ro:[L(v(926)),L(v(491)),L(v(658)),L(v(467)),v(663)],ruAd:[L(v(672)),L(v(570)),L("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",v(411)],thaiAds:[v(721),L(v(833)),L(v(573)),v(524),v(847)],webAnnoyancesUltralist:[v(705),v(754),L(v(890)),".zergnet-recommend",v(811)]},m=Object[v(542)](p),[4,Kp((R=[])[v(792)][v(260)](R,m.map(function(G){return p[G]})))]):[2,void 0];case 1:return f=N[v(434)](),o&&function(G,J){for(var re=v,Te=re(740),_e=0,We=Object[re(542)](G);_e<We[re(463)];_e++){var Ne=We[_e];Te+=`
`[re(792)](Ne,":");for(var $e=0,Fe=G[Ne];$e<Fe[re(463)];$e++){var Ze=Fe[$e];Te+=re(464).concat(J[Ze]?"\u{1F6AB}":"\u27A1\uFE0F"," ").concat(Ze)}}console[re(871)]("".concat(Te,re(736)))}(p,f),(A=m[v(867)](function(G){var J=v,re=p[G];return st(re[J(849)](function(Te){return f[Te]}))>.6*re[J(463)]}))[v(783)](),[2,A]}var L})})},fontPreferences:function(){var d=s;return u===void 0&&(u=4e3),Cn(function(o,p){var m=oe,f=p[m(544)],A=f[m(722)],R=A.style;R[m(845)]="".concat(u,"px"),R.webkitTextSizeAdjust=R[m(973)]=m(931),wt()?A[m(557)][m(642)]=""[m(792)](1/p.devicePixelRatio):Fi()&&(A.style[m(642)]=m(421));var N=f[m(982)](m(460));return N[m(417)]=H([],Array(u/20<<0),!0)[m(849)](function(){var v=m;return v(608)})[m(493)](" "),A[m(299)](N),function(v,L){for(var G=m,J={},re={},Te=0,_e=Object.keys(zs);Te<_e[G(463)];Te++){var We=_e[Te],Ne=zs[We],$e=Ne[0],Fe=$e===void 0?{}:$e,Ze=Ne[1],rt=Ze===void 0?G(646):Ze,Ke=v[G(982)]("span");Ke.textContent=rt,Ke.style[G(913)]=G(489);for(var Dt=0,hi=Object[G(542)](Fe);Dt<hi[G(463)];Dt++){var wa=hi[Dt],Rn=Fe[wa];Rn!==void 0&&(Ke.style[wa]=Rn)}J[We]=Ke,L[G(299)](v[G(982)]("br")),L[G(299)](Ke)}for(var Fs=0,Hn=Object[G(542)](zs);Fs<Hn[G(463)];Fs++)re[We=Hn[Fs]]=J[We][G(492)]()[G(845)];return re}(f,A)},d(396));var u},audio:function(){var d=s,u=window,o=u.OfflineAudioContext||u[d(735)];if(!o)return-2;if(Fi()&&!Vs()&&!function(){var L=d,G=window;return st([L(702)in G,L(842)in G,L(687)in G,"ontransitioncancel"in G])>=3}())return-1;var p=new o(1,5e3,44100),m=p.createOscillator();m[d(554)]=d(925),m[d(414)][d(535)]=1e4;var f=p[d(742)]();f[d(645)][d(535)]=-50,f[d(553)][d(535)]=40,f.ratio[d(535)]=12,f.attack.value=0,f[d(526)][d(535)]=.25,m[d(917)](f),f.connect(p.destination),m[d(407)](0);var A=function(L){var G=function(){};return[new Promise(function(J,re){var Te=oe,_e=!1,We=0,Ne=0;L[Te(571)]=function(Ze){var rt=Te;return J(Ze[rt(235)])};var $e=function(){var Ze=Te;setTimeout(function(){var rt=oe;return re(kn(rt(357)))},Math[Ze(983)](500,Ne+5e3-Date.now()))},Fe=function(){var Ze=Te;try{var rt=L[Ze(566)]();switch(Z(rt)&&ae(rt),L[Ze(233)]){case"running":Ne=Date[Ze(303)](),_e&&$e();break;case Ze(483):document[Ze(737)]||We++,_e&&We>=3?re(kn("suspended")):setTimeout(Fe,500)}}catch(Ke){re(Ke)}};Fe(),G=function(){_e||(_e=!0,Ne>0&&$e())}}),G]}(p),R=A[0],N=A[1],v=R[d(546)](function(L){var G=d;return function(J){for(var re=0,Te=0;Te<J.length;++Te)re+=Math.abs(J[Te]);return re}(L.getChannelData(0)[G(251)](4500))},function(L){var G=d;if(L[G(403)]==="timeout"||G(483)===L[G(403)])return-3;throw L});return ae(v),function(){return N(),v}},screenFrame:function(){var d=this,u=function(){var o=this;return function(){if(Ws===void 0){var p=function(){var m=Us();js(m)?Ws=setTimeout(p,2500):(Ta=m,Ws=void 0)};p()}}(),function(){return w(o,void 0,void 0,function(){var p;return M(this,function(m){var f=oe;switch(m[f(897)]){case 0:return js(p=Us())?Ta?[2,H([],Ta,!0)]:(A=document)[f(882)]||A[f(268)]||A.mozFullScreenElement||A[f(887)]?[4,Zp()]:[3,2]:[3,2];case 1:m[f(434)](),p=Us(),m[f(897)]=2;case 2:return js(p)||(Ta=p),[2,p]}var A})})}}();return function(){return w(d,void 0,void 0,function(){var o,p;return M(this,function(m){var f=oe;switch(m[f(897)]){case 0:return[4,u()];case 1:return o=m.sent(),[2,[(p=function(A){return A===null?null:ti(A,10)})(o[0]),p(o[1]),p(o[2]),p(o[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var d=s,u,o=navigator,p=[],m=o[d(343)]||o[d(392)]||o[d(507)]||o[d(787)];if(m!==void 0&&p.push([m]),Array[d(714)](o.languages))wt()&&st([!(d(840)in(u=window)),d(852)in u,""+u[d(984)]==d(484),""+u.Reflect==d(556)])>=3||p.push(o[d(468)]);else if(d(682)==typeof o[d(468)]){var f=o[d(468)];f&&p[d(530)](f.split(","))}return p},colorDepth:function(){var d=s;return window[d(778)][d(861)]},deviceMemory:function(){var d=s;return ht(X(navigator[d(884)]),void 0)},screenResolution:function(){var d=s,u=screen,o=function(m){return ht(K(m),null)},p=[o(u.width),o(u[d(497)])];return p.sort()[d(761)](),p},hardwareConcurrency:function(){var d=s;return ht(K(navigator[d(459)]),void 0)},timezone:function(){var d=s,u,o=(u=window[d(984)])===null||u===void 0?void 0:u[d(405)];if(o){var p=new o()[d(812)]()[d(822)];if(p)return p}var m,f=(m=new Date().getFullYear(),-Math[d(781)](X(new Date(m,0,1).getTimezoneOffset()),X(new Date(m,6,1)[d(588)]())));return d(537)[d(792)](f>=0?"+":"").concat(Math[d(947)](f))},sessionStorage:function(){var d=s;try{return!!window[d(995)]}catch{return!0}},localStorage:function(){var d=s;try{return!!window[d(715)]}catch{return!0}},indexedDB:function(){var d=s,u,o;if(!(It()||(u=window,o=navigator,st(["msWriteProfilerMark"in u,"MSStream"in u,d(855)in o,d(485)in o])>=3&&!It())))try{return!!window[d(237)]}catch{return!0}},openDatabase:function(){var d=s;return!!window[d(591)]},cpuClass:function(){var d=s;return navigator[d(217)]},platform:function(){var d=s,u=navigator[d(267)];return d(239)===u&&Fi()&&!Vs()?function(){var o=d;if(o(939)===navigator.platform)return!0;var p=screen,m=p.width/p[o(497)];return st([o(306)in window,!!Element.prototype.webkitRequestFullscreen,m>.65&&m<1.53])>=2}()?d(939):d(437):u},plugins:function(){var d=s,u=navigator[d(355)];if(u){for(var o=[],p=0;p<u[d(463)];++p){var m=u[p];if(m){for(var f=[],A=0;A<m[d(463)];++A){var R=m[A];f.push({type:R[d(554)],suffixes:R.suffixes})}o[d(530)]({name:m[d(403)],description:m[d(838)],mimeTypes:f})}}return o}},canvas:function(){var d,u,o=!1,p=function(){var R=oe,N=document.createElement("canvas");return N[R(845)]=1,N[R(497)]=1,[N,N[R(620)]("2d")]}(),m=p[0],f=p[1];if(function(R,N){return!(!N||!R.toDataURL)}(m,f)){o=function(R){var N=oe;return R[N(727)](0,0,10,10),R[N(727)](2,2,6,6),!R[N(455)](5,5,N(538))}(f),function(R,N){var v=oe;R[v(845)]=240,R[v(497)]=60,N.textBaseline=v(814),N[v(970)]=v(548),N.fillRect(100,1,62,20),N.fillStyle=v(221),N[v(249)]=v(280);var L=v(359)[v(792)](String[v(929)](55357,56835));N.fillText(L,2,15),N.fillStyle="rgba(102, 204, 0, 0.2)",N.font="18pt Arial",N[v(698)](L,4,45)}(m,f);var A=qs(m);A!==qs(m)?d=u="unstable":(u=A,function(R,N){var v=oe;R.width=122,R[v(497)]=110,N.globalCompositeOperation=v(439);for(var L=0,G=[[v(846),40,40],[v(752),80,40],[v(693),60,80]];L<G.length;L++){var J=G[L],re=J[0],Te=J[1],_e=J[2];N[v(970)]=re,N.beginPath(),N[v(683)](Te,_e,40,0,2*Math.PI,!0),N[v(959)](),N[v(533)]()}N[v(970)]=v(587),N[v(683)](60,60,60,0,2*Math.PI,!0),N[v(683)](60,60,20,0,2*Math.PI,!0),N[v(533)](v(538))}(m,f),d=qs(m))}else d=u="";return{winding:o,geometry:d,text:u}},touchSupport:function(){var d=s,u,o=navigator,p=0;o[d(775)]!==void 0?p=K(o[d(775)]):o[d(254)]!==void 0&&(p=o[d(254)]);try{document[d(675)](d(725)),u=!0}catch{u=!1}return{maxTouchPoints:p,touchEvent:u,touchStart:d(252)in window}},vendor:function(){var d=s;return navigator[d(326)]||""},vendorFlavors:function(){for(var d=s,u=[],o=0,p=[d(762),d(940),d(992),d(640),d(410),d(288),d(545),d(709),d(525),d(921),d(401),d(766),d(438),d(336),d(388)];o<p[d(463)];o++){var m=p[o],f=window[m];f&&d(585)==typeof f&&u[d(530)](m)}return u[d(783)]()},cookiesEnabled:function(){var d=s,u=document;try{u[d(745)]="cookietest=1; SameSite=Strict;";var o=u[d(745)][d(394)](d(446))!==-1;return u[d(745)]="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",o}catch{return!1}},colorGamut:function(){for(var d=s,u=0,o=[d(472),"p3",d(418)];u<o[d(463)];u++){var p=o[u];if(matchMedia(d(839)[d(792)](p,")"))[d(586)])return p}},invertedColors:function(){var d=s;return!!En(d(224))||!En(d(931))&&void 0},forcedColors:function(){var d=s;return!!Pn(d(230))||!Pn(d(931))&&void 0},monochrome:function(){var d=s;if(matchMedia(d(314))[d(586)]){for(var u=0;u<=100;++u)if(matchMedia("(max-monochrome: "[d(792)](u,")"))[d(586)])return u;throw new Error("Too high value")}},contrast:function(){var d=s;return Ti(d(600))?0:Ti(d(786))||Ti(d(804))?1:Ti("low")||Ti("less")?-1:Ti(d(938))?10:void 0},reducedMotion:function(){var d=s;return!!An(d(470))||!An(d(600))&&void 0},hdr:function(){var d=s;return!!Ln(d(786))||!Ln(d(295))&&void 0},math:function(){var d=s,u,o=Re[d(482)]||ut,p=Re[d(635)]||ut,m=Re[d(937)]||ut,f=Re[d(699)]||ut,A=Re[d(791)]||ut,R=Re[d(728)]||ut,N=Re[d(962)]||ut,v=Re.sinh||ut,L=Re[d(776)]||ut,G=Re[d(821)]||ut,J=Re[d(678)]||ut,re=Re[d(718)]||ut,Te=Re[d(686)]||ut,_e=Re[d(730)]||ut,We=Re.log1p||ut;return{acos:o(.12312423423423424),acosh:p(1e308),acoshPf:(u=1e154,Re[d(871)](u+Re.sqrt(u*u-1))),asin:m(.12312423423423424),asinh:f(1),asinhPf:Re[d(871)](1+Re.sqrt(2)),atanh:A(.5),atanhPf:Re[d(871)](3)/2,atan:R(.5),sin:N(-1e300),sinh:v(1),sinhPf:Re[d(686)](1)-1/Re[d(686)](1)/2,cos:L(10.000000000123),cosh:G(1),coshPf:(Re.exp(1)+1/Re[d(686)](1))/2,tan:J(-1e300),tanh:re(1),tanhPf:(Re.exp(2)-1)/(Re[d(686)](2)+1),exp:Te(1),expm1:_e(1),expm1Pf:Re.exp(1)-1,log1p:We(10),log1pPf:Re[d(871)](11),powPI:Re[d(422)](Re.PI,-100)}},videoCard:function(){var d=s,u,o=document[d(982)](d(514)),p=(u=o[d(620)](d(604)))!==null&&u!==void 0?u:o[d(620)](d(644));if(p&&d(393)in p){var m=p.getExtension(d(837));if(m)return{vendor:(p.getParameter(m[d(309)])||"")[d(632)](),renderer:(p[d(287)](m[d(516)])||"")[d(632)]()}}},pdfViewerEnabled:function(){var d=s;return navigator[d(216)]},architecture:function(){var d=new Float32Array(1),u=new Uint8Array(d.buffer);return d[0]=1/0,d[0]=d[0]-d[0],u[3]}},ed="";function td(d){var u=s,o=function(m){var f=oe;if(_n())return .4;if(Fi())return Vs()?.5:.3;var A=m[f(267)].value||"";return/^Win/[f(340)](A)?.6:/^Mac/[f(340)](A)?.5:.7}(d),p=function(m){return ti(.99+.01*m,1e-4)}(o);return{score:o,comment:ed[u(981)](/\$/g,""[u(792)](p))}}function Bn(d){var u=s;return JSON[u(797)](d,function(o,p){var m=u;return p instanceof Error?O({name:(f=p)[m(403)],message:f[m(717)],stack:(A=f.stack)===null||A===void 0?void 0:A[m(1010)](`
`)},f):p;var f,A},2)}function On(d){return function(u,o){var p=oe;o=o||0;var m,f=(u=u||"")[p(463)]%16,A=u.length-f,R=[0,o],N=[0,o],v=[0,0],L=[0,0],G=[2277735313,289559509],J=[1291169091,658871167];for(m=0;m<A;m+=16)v=[255&u.charCodeAt(m+4)|(255&u[p(500)](m+5))<<8|(255&u[p(500)](m+6))<<16|(255&u[p(500)](m+7))<<24,255&u[p(500)](m)|(255&u[p(500)](m+1))<<8|(255&u[p(500)](m+2))<<16|(255&u[p(500)](m+3))<<24],L=[255&u.charCodeAt(m+12)|(255&u[p(500)](m+13))<<8|(255&u.charCodeAt(m+14))<<16|(255&u[p(500)](m+15))<<24,255&u[p(500)](m+8)|(255&u[p(500)](m+9))<<8|(255&u[p(500)](m+10))<<16|(255&u[p(500)](m+11))<<24],v=ue(v=se(v,G),31),R=me(R=ue(R=q(R,v=se(v,J)),27),N),R=me(se(R,[0,5]),[0,1390208809]),L=ue(L=se(L,J),33),N=me(N=ue(N=q(N,L=se(L,G)),31),R),N=me(se(N,[0,5]),[0,944331445]);switch(v=[0,0],L=[0,0],f){case 15:L=q(L,Me([0,u[p(500)](m+14)],48));case 14:L=q(L,Me([0,u[p(500)](m+13)],40));case 13:L=q(L,Me([0,u[p(500)](m+12)],32));case 12:L=q(L,Me([0,u.charCodeAt(m+11)],24));case 11:L=q(L,Me([0,u[p(500)](m+10)],16));case 10:L=q(L,Me([0,u[p(500)](m+9)],8));case 9:L=se(L=q(L,[0,u[p(500)](m+8)]),J),N=q(N,L=se(L=ue(L,33),G));case 8:v=q(v,Me([0,u[p(500)](m+7)],56));case 7:v=q(v,Me([0,u[p(500)](m+6)],48));case 6:v=q(v,Me([0,u[p(500)](m+5)],40));case 5:v=q(v,Me([0,u[p(500)](m+4)],32));case 4:v=q(v,Me([0,u.charCodeAt(m+3)],24));case 3:v=q(v,Me([0,u.charCodeAt(m+2)],16));case 2:v=q(v,Me([0,u[p(500)](m+1)],8));case 1:v=se(v=q(v,[0,u.charCodeAt(m)]),G),R=q(R,v=se(v=ue(v,31),J))}return R=me(R=q(R,[0,u.length]),N=q(N,[0,u[p(463)]])),N=me(N,R),R=me(R=ee(R),N=ee(N)),N=me(N,R),(p(290)+(R[0]>>>0).toString(16))[p(599)](-8)+(p(290)+(R[1]>>>0)[p(632)](16)).slice(-8)+(p(290)+(N[0]>>>0)[p(632)](16))[p(599)](-8)+(p(290)+(N[1]>>>0)[p(632)](16))[p(599)](-8)}(function(u){for(var o=oe,p="",m=0,f=Object.keys(u)[o(783)]();m<f[o(463)];m++){var A=f[m],R=u[A],N=R[o(601)]?o(601):JSON.stringify(R[o(535)]);p+=""[o(792)](p?"|":"")[o(792)](A.replace(/([:|\\])/g,"\\$1"),":").concat(N)}return p}(d))}function id(d){return d===void 0&&(d=50),function(u,o){var p=oe;o===void 0&&(o=1/0);var m=window[p(366)];return m?new Promise(function(f){var A=p;return m[A(499)](window,function(){return f()},{timeout:o})}):ie(Math[p(983)](u,o))}(d,2*d)}function ad(d,u){var o=s,p=Date[o(303)]();return{get:function(m){return w(this,void 0,void 0,function(){var f,A,R;return M(this,function(N){var v=oe;switch(N.label){case 0:return f=Date[v(303)](),[4,d()];case 1:return A=N[v(434)](),R=function(L){var G=v,J;return{get visitorId(){var re=oe;return J===void 0&&(J=On(this[re(496)])),J},set visitorId(re){J=re},confidence:td(L),components:L,version:G(765)}}(A),(u||m?.[v(859)])&&console.log(v(240).concat(R[v(481)],v(334))[v(792)](navigator[v(876)],`
timeBetweenLoadAndGet: `).concat(f-p,v(793))[v(792)](R[v(430)],`
components: `)[v(792)](Bn(A),v(736))),[2,R]}})})}}}var sd={load:function(d){var u=s,o=d===void 0?{}:d,p=o[u(997)],m=o.debug,f=o.monitoring,A=f===void 0||f;return w(this,void 0,void 0,function(){return M(this,function(R){var N=oe;switch(R.label){case 0:return A&&(void 0)(),[4,id(p)];case 1:return R[N(434)](),[2,ad(Rt(Qp,{debug:m},[]),m)]}})})},hashComponents:On,componentsToDebugString:Bn},rd=function(){var d=s;function u(){}return u[d(527)]=function(){return w(this,void 0,void 0,function(){return M(this,function(o){var p=oe;switch(o[p(897)]){case 0:return[4,sd[p(907)]({monitoring:!1})];case 1:return[2,o[p(434)]()[p(279)]()]}})})},u}(),nd=function(){var d=s;function u(o){var p=oe;this[p(932)]=o}return u[d(466)][d(331)]=function(o,p){var m=d;typeof navigator.sendBeacon=="function"?this[m(222)](o,p):this[m(670)](o,p)},u.prototype[d(670)]=function(o,p){var m=d;this[m(932)][m(982)](m(633))[m(274)]=o+"?"+g.buildQueryParams(p)},u.prototype[d(222)]=function(o,p){var m=d;try{navigator[m(222)](o+"?"+g[m(703)](p))}catch{this.sendImage(o,p)}},u}(),Mn=function(){var d=s;function u(o){var p=oe,m;this[p(521)]=o,this.config[p(932)]=this[p(521)][p(932)]||window,this.config[p(225)]=this[p(521)][p(225)]||890857896,this[p(354)]=new nd(((m=o[p(932)])===null||m===void 0?void 0:m.document)||window[p(544)])}return u[d(466)][d(679)]=function(o,p,m){var f=d;p===void 0&&(p=""),m===void 0&&(m=null);var A=this[f(521)][f(932)][f(544)][f(982)](f(780)),R={instance:this[f(521)][f(225)],source:o};if(m){this[f(307)]=m;var N=this[f(521)][f(304)]+"AnuraCallback";R[f(540)]=N,this[f(521)][f(932)][N]=this[f(856)][f(486)](this)}p!==""&&(R.campaign=p);var v=g[f(703)](R);v+="&"+new Date().getTime(),A[f(554)]=f(848),A.async=!0,A.src=u[f(948)]+"?"+v,this[f(521)][f(932)][f(544)][f(722)][f(299)](A)},u.prototype[d(856)]=function(o){var p=d,m=this[p(521)],f=this.request,A=this[p(307)];if(o.getError()||!o.getId()&&!o[p(311)]())m[p(669)]&&m[p(669)][p(977)](p(503)+o.getError());else{var R={instance:m[p(225)]},N=o[p(431)]();N&&(R.id=encodeURIComponent(N));var v=o.getExId();v&&(R.exid=encodeURIComponent(v));var L=new XMLHttpRequest;L[p(729)](p(866),u[p(335)],!0),L[p(681)](p(863),p(664)),L[p(661)]=function(){var G=p,J;try{J=JSON[G(408)](this[G(667)])}catch{return void(m[G(669)]&&m[G(669)][G(977)](G(278)+this.response))}if(J[G(574)]){var re={composite:A.composite,showHash:A[G(529)],result:J[G(574)]};m.consentData&&(m[G(647)][G(647)]!==void 0&&(re[G(647)]=m.consentData[G(647)]),m[G(647)][G(457)]!==void 0&&(re[G(457)]=m[G(647)].gdprApplies)),f[G(331)](A.resultUrl,re)}else m[G(669)]&&m[G(669)][G(977)](G(748)+this.response)},L.send(g[p(703)](R))}},u[d(948)]=d(830),u[d(335)]="https://script.anura.io/result.json",u}(),od=function(){var d=s;function u(o){var p=oe;this[p(521)]=o,this[p(521)][p(932)]=this[p(521)].context||window}return u.prototype[d(679)]=function(o){var p=d,m=this.config[p(932)].document[p(982)](p(659)),f={clid:u[p(810)],paid:u.MGID,avid:u[p(323)],caid:u.DEFAULT,plid:o[p(733)],publisherId:o[p(594)],siteId:o[p(883)],kv1:o[p(966)],kv2:window[p(990)][p(666)],kv3:o[p(253)],kv4:u.DEFAULT,kv5:o.kv5,kv6:u[p(289)],kv7:o[p(462)],kv11:o[p(449)],kv12:o.kv12,kv24:this.isMobile()?u[p(227)]:u[p(296)],kv27:encodeURIComponent(navigator[p(876)])},A=g[p(703)](f);m.src=u[p(474)]+"?"+A,this[p(521)][p(932)][p(544)][p(722)][p(299)](m)},u[d(466)][d(220)]=function(){var o=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o)},u[d(474)]=d(892),u.MGID=d(367),u[d(323)]="-",u.PLATFORM_MOBILE="Mobile_Web",u[d(296)]=d(423),u.AFRD_CLICK=d(877),u}(),ld=function(){var d=s;function u(o){var p=oe;this[p(453)]={},this[p(368)]={},this[p(932)]=o[p(932)]||window,this.id=o.id;var m=o[p(820)]||p(301),f=o.informerPrefix||p(551),A=this.context[f+p(602)]?this[p(932)][f+p(602)]:"";this[p(963)]=m+p(655)+A}return u.prototype[d(425)]=function(){var o=d,p=this[o(348)]();p[this.id]!==void 0?this[o(453)]=p[this.id]:this.cookieStorage={},p[0]!==void 0?this[o(368)]=p[0]:this[o(368)]={}},u[d(466)].setCookie=function(){var o=d,p=this[o(348)]();p[this.id]=this[o(453)],p[0]=this[o(368)];var m=encodeURIComponent(JSON[o(797)](p));this[o(932)][o(544)][o(745)]=this[o(963)]+"="+m+o(911)},u[d(466)][d(348)]=function(){var o=d,p=this[o(932)].document[o(745)][o(616)](new RegExp(o(626)+this[o(963)]+o(873))),m={};if(p)try{m=JSON.parse(decodeURIComponent(p[1]))}catch{}return m},u}(),pd=function(){var d=s;function u(o){var p=oe;this[p(980)]=o,this[p(630)]="",this[p(454)]=[],this[p(442)]=new x(new B({id:u.id,modulePrefix:u[p(344)],cookieStorage:new ld({id:u.id,context:window})})),this[p(452)]=new Mn({widgetPrefix:u.modulePrefix,context:window})}return u[d(466)][d(967)]=function(){var o=d;this[o(980)][o(631)]&&this[o(980)][o(327)]&&this[o(798)](this[o(980)].showHash),this[o(442)].initialize(),this.initAntiFraud()},u[d(466)].bindAntiFraudParams=function(o,p){var m=d,f=p.href[m(394)](m(763)),A=p[m(666)][m(394)](m(928)),R=p.href[m(394)]("?");f!==-1?p[m(666)]=p.href[m(266)](0,f):A!==-1&&(p[m(666)]=p[m(666)][m(266)](0,A)),this[m(630)]=p[m(666)],this[m(444)]=p,p[m(666)]+=f===-1&&R!==-1?"&":"?";var N=this[m(442)][m(523)](o,p,this[m(980)][m(529)]);p[m(666)]+="k="+this[m(980)].composite+"f"+N,this.dispatchAntifraudHashEvent(p,m(662))},u[d(466)][d(450)]=function(){var o=d,p=this;this[o(300)](document.getElementsByTagName("a")),setTimeout(function(){var m=o;return p[m(450)]()},750)},u.prototype[d(300)]=function(o){for(var p=d,m=/(ghits|[prt]+news|nr)/i,f=0;f<o[p(463)];f++){var A=o[f];this[p(454)][p(394)](A)===-1&&m[p(340)](A.href)&&(this[p(454)][p(530)](A),this[p(515)](A,p(924),n[p(347)]),this[p(515)](A,"mouseup",n[p(1001)]),this[p(515)](A,p(619),n[p(874)]),this[p(515)](A,p(956),n[p(241)]),this[p(515)](A,"touchstart",n[p(543)]),this[p(515)](A,p(369),n[p(590)]),this[p(515)](A,p(440),n[p(694)]))}this.app[p(257)]()},u[d(466)].bindEvent=function(o,p,m){var f=d,A=this;T[f(731)](o,p,function(R){return A.handleLinkEvent(R,o,m)})},u[d(466)].handleLinkEvent=function(o,p,m){var f=d,A=this;if(this.bindAntiFraudParams(o,p),this[f(442)].addEventBit(m),m===n.MouseUp){if(this.options[f(631)]){var R=p[f(912)]("data-hash")||this.options[f(529)];this[f(798)](R)}setTimeout(function(){return A.reWriteHref()},100)}},u[d(466)][d(710)]=function(o,p){var m=d,f=document.createEvent(m(317));f[m(629)](p,!0,!1),f[m(385)]=Date.now(),o[m(329)](f)},u[d(466)][d(502)]=function(){var o=d;this[o(630)]&&this[o(444)]&&(this.afActiveEl[o(666)]=this[o(630)])},u[d(466)][d(798)]=function(o){var p=d;this[p(452)][p(679)](this[p(980)][p(817)],this[p(980)][p(726)],{composite:this[p(980)][p(673)],resultUrl:this[p(980)][p(767)]+p(378),showHash:o})},u[d(344)]="Transit",u.id=d(398),u}()})(),vp[r(477)]=a})()});var xp={};ye(xp,{AntifraudStatisticsBlock:()=>xa});var bp,ln,ji,pn,dn,cn,xa,Tp=ne(()=>{S();_();k();C();I();D();E();yp();ge();bp=Yi(on()),ln=class{constructor(){this.mousePositions=[],this.lineSegments=[],this.lineIndex=0,this.scrollActive=!1}isLinear(){return this.calculateTotalLength()<10?!1:this.lineSegments.every(e=>{let t=this.mousePositions.slice(e.start,e.end+1);return this.checkLinear(t)})}reset(){this.mousePositions=[],this.lineSegments=[],this.lineIndex=0,this.scrollActive=!1}onMouseMoveHandler(e){this.scrollActive||(this.mousePositions.push({x:e.clientX,y:e.clientY}),this.mousePositions.length>2&&this.checkForNewLineSegment())}onScrollHandler(){this.scrollActive=!0}onScrollEndHandler(){this.scrollActive=!1}checkForNewLineSegment(){let e=this.mousePositions[this.mousePositions.length-2],t=this.mousePositions[this.mousePositions.length-1],i=(t.y-e.y)/(t.x-e.x);if(this.lineSegments[this.lineIndex]){let a=this.mousePositions[this.lineSegments[this.lineIndex].start],s=(e.y-a.y)/(e.x-a.x);Math.abs(i-s)>5?(this.lineSegments[this.lineIndex].end=this.mousePositions.length-2,this.lineSegments.push({start:this.mousePositions.length-1}),this.lineIndex++):this.lineSegments[this.lineIndex].end=this.mousePositions.length-1}else this.lineSegments.push({start:0,end:this.mousePositions.length-1})}checkLinear(e){if(e.length<2)return!0;let t=3,[i,a]=[e[0].x,e[0].y],[s,n]=[e[e.length-1].x,e[e.length-1].y];for(let l=1;l<e.length-1;l++){let[c,h]=[e[l].x,e[l].y];if(Math.abs((n-a)*c-(s-i)*h+s*a-n*i)/Math.sqrt(Math.pow(n-a,2)+Math.pow(s-i,2))>t)return!1}return!0}calculateTotalLength(){let e=0;for(let t=1;t<this.mousePositions.length;t++){let i=this.mousePositions[t-1],a=this.mousePositions[t];e+=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))}return e}},ji=class{static getClosestDistanceInSquare(e,t){let i=e.x-t.left,a=e.y-t.top,s=t.width-i,n=t.height-a;return Math.min(i,a,s,n)}static getInnerElementPercent(e,t){let i=e.getBoundingClientRect(),a=Math.abs(i.width*i.height),s=i.width,n=i.height;i.top<0&&(n+=i.top),i.left<0&&(s+=i.left);let l=i.top+i.height;t.height<l&&(n-=l-t.height);let c=i.left+i.width;return t.width<c&&(s-=c-t.width),n=n>0?n:0,s=s>0?s:0,s*n*100/a}static findImageElementOfTeaser(e){return e.querySelector("img.mcimg")}static getViewportSize(){return{width:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}},pn=class{constructor(){this.action="undefined",this.isTabActive=!0,this.clickTime=0,this.lastScrollTime=0,this.lastPageResizeTime=0,this.lastWidgetResizeTime=0,this.widgetCoordinateX=0,this.widgetCoordinateY=0,this.tapRadiusX=0,this.tapRadiusY=0,this.isHidden=!1,this.clickToBorderDistance=0,this.teaserCoordinateX=0,this.teaserCoordinateY=0,this.teaserWidth=0,this.teaserHeight=0,this.imageWidth=0,this.imageHeight=0,this.teaserViewportPercent=0,this.widgetOnLoadDisposition=!1,this.clickCoordinateX=0,this.clickCoordinateY=0,this.compileTime=1694524916,this.forbiddenPatternMatches=0,this.snapshot="",this.widgetType="",this.isLinear=!1}},dn=class{constructor(e,t,i=[]){this.app=e,this.parameters=t,this.forbiddenPatterns=i,this.linearMovementDetector=new ln}onWidgetLoadEvent(){let e=this.app.root.getBoundingClientRect();this.initialWidgetCoordinates={x:e.left+window.scrollX,y:e.top+window.scrollY},this.setForbiddenPatternMatches()}onContextFocusEvent(){this.parameters.isTabActive=!0,this.setForbiddenPatternMatches()}onContextBlurEvent(){this.parameters.isTabActive=!1,this.setForbiddenPatternMatches()}async onWidgetClickEvent(e,t){this.setWidgetCoordinates(),this.setForbiddenPatternMatches(),this.setClickCoordinates(t),this.setWidgetType(),this.parameters.action="click",this.parameters.clickTime=this.app.getCurrentTimestamp(),this.parameters.widgetOnLoadDisposition=this.getWidgetDisposition(),this.app.getWidgetValue("useSnapshot",!0)&&!this.parameters.snapshot.length&&(this.parameters.snapshot=(await bp.Snapshot.generate()).visitorId);let i=this.app.findClosest(e,"div[data-i]");if(i){let a=i.getBoundingClientRect();this.parameters.isHidden=!i.offsetParent,this.parameters.teaserCoordinateX=a.left,this.parameters.teaserCoordinateY=a.top,this.parameters.teaserWidth=a.width,this.parameters.teaserHeight=a.height,this.parameters.teaserViewportPercent=ji.getInnerElementPercent(i,ji.getViewportSize()),this.parameters.isLinear=this.linearMovementDetector.isLinear(),"clientX"in t&&"clientY"in t&&(this.parameters.clickToBorderDistance=ji.getClosestDistanceInSquare({x:t.clientX,y:t.clientY},a));let s=ji.findImageElementOfTeaser(i);s&&this.setImageProperties(s)}}setForbiddenPatternMatches(){if(typeof this.app.context.document=="object"&&typeof this.app.context.document.documentElement=="object"){let e=this.countPatternMatchesInElement(this.app.context.document.documentElement,this.forbiddenPatterns);this.parameters.forbiddenPatternMatches<e&&(this.parameters.forbiddenPatternMatches=e)}}onContextMouseMoveEvent(e){if(this.app.getCurrentTimestamp()-this.loadTimestamp>10){this.linearMovementDetector.reset();return}this.linearMovementDetector.onMouseMoveHandler(e)}onContextScrollEvent(){this.parameters.lastScrollTime=this.app.getCurrentTimestamp(),this.linearMovementDetector.onScrollHandler(),this.scrollEndHandler&&clearTimeout(this.scrollEndHandler),this.scrollEndHandler=setTimeout(()=>{this.linearMovementDetector.onScrollEndHandler()},150)}onContextResizeEvent(){this.parameters.lastPageResizeTime=this.app.getCurrentTimestamp()}onRootResizeEvent(){this.parameters.lastWidgetResizeTime=this.app.getCurrentTimestamp()}onRootTouchEndEvent(e){let t=e.changedTouches.item(0);t&&(this.parameters.tapRadiusX=t.radiusX,this.parameters.tapRadiusY=t.radiusY)}setWidgetCoordinates(){let e=this.app.root.getBoundingClientRect();this.parameters.widgetCoordinateX=e.left,this.parameters.widgetCoordinateY=e.top}setImageProperties(e){let t=e.getBoundingClientRect();this.parameters.imageWidth=t.width,this.parameters.imageHeight=t.height}getWidgetDisposition(){return this.parameters.widgetCoordinateX+window.scrollX!==this.initialWidgetCoordinates.x||this.parameters.widgetCoordinateY+window.scrollY!==this.initialWidgetCoordinates.y}setClickCoordinates(e){"clientX"in e&&"clientY"in e?(this.parameters.clickCoordinateX=e.clientX,this.parameters.clickCoordinateY=e.clientY):e.touches&&e.touches[0]&&(this.parameters.clickCoordinateX=e.touches[0].clientX,this.parameters.clickCoordinateY=e.touches[0].clientY)}setWidgetType(){switch(!0){case this.app.getWidgetValue("hasGoodsPart",!0):this.parameters.widgetType="goods";break;case this.app.getWidgetValue("hasNewsPart",!1):this.parameters.widgetType="news";break;case this.app.getWidgetValue("hasVideoPart",!0):this.parameters.widgetType="video";break;default:this.parameters.widgetType="exchange"}}countPatternMatchesInElement(e,t){let i=e.outerHTML;return t.reduce((a,s)=>{try{let n=new RegExp(s,"gi"),l=i.match(n);if(l)return a+l.length}catch(n){this.app.log(`Error processing pattern "${s}": ${n.message}`)}return a},0)}},cn=class{constructor(e,t,i){this.protocol=e,this.parameters=t,this.client=i}send(e,t){let i=btoa(JSON.stringify({rid:t,showHash:e,parameters:this.getEncodedParameters(e,t)})),a=new Blob([i]);this.client.beaconBlob("antifraud-event-hash",this.protocol+"//c.mgid.com/aws",a,{})}getEncodedParameters(e,t){let i={stringify:function(a){let s={ct:btoa(a.ciphertext.toString())};return a.iv&&(s.iv=a.iv.toString()),a.salt&&(s.s=btoa(a.salt.toString())+Math.random().toString(36).slice(-2)),JSON.stringify(s).replace(/\s/g,"")}};return btoa(ci.AES.encrypt(JSON.stringify(this.parameters),e+t,{format:i}).toString())}},xa=class extends ${constructor(e){super(e),this.name="AntifraudStatisticsBlock",this.parameters=new pn,this.statistics=new cn(this.app.webProtocol,this.parameters,this.app.request),this.eventHandler=new dn(this.app,this.parameters,Object.keys(V).length?V:[]),this.addHook("afterLoadNewsHooks",this.initAntifraudStatistics.bind(this)),this.app.onAntifraudStatisticsClickHandler=this.clickHandler.bind(this),this.app.addClickHandler(this.app.clickHandlerList.onAntifraudStatisticsClick.handler,this.app.clickHandlerList.onAntifraudStatisticsClick.priority)}initAntifraudStatistics(){this.eventHandler.onWidgetLoadEvent(),this.app.addEvent(this.app.context,"focus",()=>this.eventHandler.onContextFocusEvent()),this.app.addEvent(this.app.context,"blur",()=>this.eventHandler.onContextBlurEvent()),this.app.addEvent(this.app.context,"scroll",()=>this.eventHandler.onContextScrollEvent()),this.app.addEvent(this.app.context,"resize",()=>this.eventHandler.onContextResizeEvent()),this.app.addEvent(this.app.context,"mousemove",e=>this.eventHandler.onContextMouseMoveEvent(e)),this.app.addEvent(this.app.root,"resize",()=>this.eventHandler.onRootResizeEvent()),this.app.addEvent(this.app.root,"touchend",e=>this.eventHandler.onRootTouchEndEvent(e))}clickHandler(e,t){return this.eventHandler.onWidgetClickEvent(e,t).catch(i=>{this.app.log("Click Handler name: "+xa.name+", error: ","error",i)}).finally(()=>{this.statistics.send(e.getAttribute("data-hash"),this.app.servicerData.rid)}),!0}}});var wp={};ye(wp,{AntifraudBlock:()=>hn});var yt,hn,Sp=ne(()=>{S();_();k();C();I();D();E();ge();yt=Yi(on());bt();hn=class extends ${constructor(e){super(e),this.name="AntifraudBlock",this.addHook("beforeInitHooks",this.beforeInitHook.bind(this)),this.addHook("afterLoadNewsHooks",this.afterLoadNewsHook.bind(this)),this.addHook("afterInitHooks",this.afterInitHook.bind(this))}getAntifraudParams(e,t){if(this.app.allowReturnParams===!1)return"";t=t||this.app.context.document.createElement("A"),e=e||this.app.context.document.createEvent("MouseEvent");let i=t["data-hash"]||t.getAttribute("data-hash")||"";return this.antifraud.generateHash(e,t,i)}beforeInitHook(){let e=this.app.getWidgetValue("id",1456432),t=this.app.getWidgetValue("informerPrefix","MarketGid"),i=this.app.getWidgetValue("loggerEnabled",!1)?this.app.context[t+"InfC"+e+"Logger"]:null,a=new yt.BaseConfiguration({logger:i,afShortEnabled:!!this.app.getWidgetValue("afShortEnabled",!0),modulePrefix:this.app.getWidgetValue("modulePrefix","MarketGidC"),id:this.app.id.toString(),context:this.app.context,root:this.app.root,iframePlacementType:this.app.iframePlacementType,cookieStorage:this.app.cookieBlock,useTimePerformance:this.app.getWidgetValue("useTimePerformance",!0)});this.antifraud=new yt.AntiFraud(a),this.anura=new yt.Anura({logger:i,widgetPrefix:t+"InfC"+e,context:this.app.context,consentData:this.app.consentsBlock.getConsentData()}),this.pixalate=new yt.Pixalate({context:this.app.context}),this.app.allowReturnParams=!1}afterLoadNewsHook(){let e=this.app.root;this.app.addEvent(e,"mousedown",this.linkMouseDownHandler.bind(this)),this.app.addEvent(e,"mouseup",this.linkClickHandler.bind(this)),this.app.addEvent(e,"mouseover",this.linkMouseOverHandler.bind(this)),this.app.addEvent(e,"mousemove",this.linkMouseMoveHandler.bind(this)),this.app.addEvent(e,"touchstart",this.linkTouchStartHandler.bind(this)),this.app.addEvent(e,"touchend",this.linkTouchEndHandler.bind(this));let t=e.querySelector("a[data-hash]");t&&this.app.addEvent(t,"focus",this.linkFocusHandler.bind(this)),this.antifraud.setWidgetEvents()}afterInitHook(){this.antifraud.initialize()}linkClickHandler(e){let t=this.handleEvent(e,0);if(t){let i=t.getAttribute("data-hash");this.app.teaserData[i]&&[Se.Wages,Se.Exchange].indexOf(this.app.teaserData[i].coopType)>-1&&this.addIntegrations(i,t),setTimeout(()=>{this.app.allowReturnParams=!1,this.reWriteHref(e,t)},100)}}linkMouseOverHandler(e){this.handleEvent(e,yt.EventMask.MouseOver)}linkMouseMoveHandler(e){this.handleEvent(e,yt.EventMask.MouseMove)}linkTouchStartHandler(e){this.handleEvent(e,yt.EventMask.TouchStart)}linkTouchEndHandler(e){this.handleEvent(e,yt.EventMask.TouchEnd)}linkMouseDownHandler(e){this.handleEvent(e,yt.EventMask.MouseDown)}linkFocusHandler(e){this.handleEvent(e,yt.EventMask.Focus)}handleEvent(e,t){e||(e=this.app.context.event),e.target||(e.target=e.srcElement),this.app.allowReturnParams=!0;let i=e.target;return i.tagName!=="A"&&(i=this.app.getParentLink(i),!i)||!i.hasAttribute("data-hash")?null:(this.antifraud.addEventBit(t),this.reWriteHref(e,i),i)}reWriteHref(e,t){e||(e=this.app.context.event);let i=t["data-hash"]||t.getAttribute("data-hash");!i||(t[this.app.hrefAttr]=this.app.prepareNiceHref(i,e,t))}addIntegrations(e,t){if((this.app.servicerData.anura||0)>this.app.random(1,100)&&this.anura.send(this.getSourceId(e),this.getQueryParam(t,"pubsrcid"),{composite:this.app.getWidgetValue("id",this.app.getWidgetValue("id",1456432)),resultUrl:"https://"+this.app.getWidgetValue("countersDomain","c.mgid.com")+"/anura",showHash:e}),this.app.getWidgetValue("afCheckForensiq",!1)&&this.addForesiqScript(e),this.app.getWidgetValue("usePixelate",!0)){let i=!1,a=this.app.findClosest(t,"div[data-i]");a&&(i=a.querySelector("a").href.includes("/ghits/")),i&&this.sendPixalateRequest(a,this.getQueryParam(t,"pubsrcid"),e)}}sendPixalateRequest(e,t,i){let a=this.app.getMuid(),s=0,n=0,l=0;if(e){let c=e.getAttribute("data-i"),h=e.querySelector(".image-with-text");if(h&&(s=Math.floor(h.offsetWidth),n=Math.floor(h.offsetHeight)),c===i){let g=e.querySelectorAll("[data-i]");for(let y=0;y<g.length;y++){let T=g[y];if(i!==T.getAttribute("data-i")){l=parseInt(T.getAttribute("data-i"));break}}}else l=parseInt(c)}this.pixalate.send({plid:l,publisherId:this.app.getWidgetValue("publisherId",57788356),siteId:this.app.getWidgetValue("siteId",882635),kv1:s+"x"+n,kv3:a,kv5:t,kv7:this.app.getWidgetValue("clientId",794493),kv11:i,kv12:this.app.servicerData.rid})}addForesiqScript(e){let t=this.getSourceId(e),i=this.app.webProtocol+"//c.securepaths.com/js/implement-r.js?sl=1&org=5reyucracrajubrac4um&p="+t+"&a=0&cmp="+this.app.teaserData[e].id+"&rt=click";this.app.request.script("forensiq",i,{},{dest:this.app.context.document.body})}getSourceId(e){let t=this.app.getWidgetValue("hasNewsPart",!1)?"ni"+this.app.getWidgetValue("newsPartUid",0):"ni",i=this.app.getWidgetValue("hasGoodsPart",!0)?this.app.getWidgetValue("goodsPartUid",57788356):"";return this.app.teaserData[e].coopType===Se.Exchange?t:i}getQueryParam(e,t){let i=e.search.substring(1).split("&"),a="";for(let s=0;s<i.length;s++){let n=i[s].split("=");if(n[0]===t){a=decodeURIComponent(n[1]);break}}return a}}});var _p={};ye(_p,{AccidentalClicksBlock:()=>un});var un,kp=ne(()=>{S();_();k();C();I();D();E();ge();bt();un=class extends ${constructor(e){super(e),this.name="AccidentalClicksBlock",this.app.accidentalClicksHandler=this._onClick.bind(this),this.app.addClickHandler(this.app.clickHandlerList.accidentalClicks.handler,this.app.clickHandlerList.accidentalClicks.priority),this.accidentalClicksDelay=(parseInt(this.app.globalSettings.accidental_clicks_delay)||5)*1e3,this.accidentalClicksDisableTypes="wages".split(","),this.teasersClickTimes={}}_onClick(e,t){if(t.button===2)return!0;let i=e.getAttribute("data-hash"),a=new Date().getTime();if(this.app.isEnabledDoubleClick()||typeof this.app.servicerData.dc<"u"&&i in this.app.hashTimer&&a-this.app.hashTimer[i]<this.app.servicerData.dc)return!0;switch(this.app.teaserData[i].coopType){case Se.Wages:if(this.accidentalClicksDisableTypes.indexOf("wages")==-1)return!0;break;case Se.Exchange:if(this.accidentalClicksDisableTypes.indexOf("exchange")==-1)return!0;break;case Se.InternalExchange:if(this.accidentalClicksDisableTypes.indexOf("int_exchange")==-1)return!0;break;default:return!0}return this.teasersClickTimes.hasOwnProperty(i)?new Date().getTime()-this.teasersClickTimes[i]<=this.accidentalClicksDelay?(t.preventDefault(),this.app.doubleClickType="accidental",this.app.doubleClickHandler(e),!1):(this.teasersClickTimes[i]=new Date().getTime(),!0):(this.teasersClickTimes[i]=new Date().getTime(),!0)}}});var Cp={};ye(Cp,{ActivateDelayBlock:()=>mn});var mn,Ip=ne(()=>{S();_();k();C();I();D();E();ge();bt();mn=class extends ${constructor(e){super(e),this.name="ActivateDelayBlock",this.app.clickableDelay=!1,this.eventDisabled=!1,this.addHook("afterLoadNewsHooks",this._init),this.app.activateDelayLinkHandler=this._onClick.bind(this)}isCloseLink(e){return e.classList.contains("mg-close-button-div-inner")}isWagesLink(e){if(!e)return!1;let t=e.getAttribute("data-hash");return this.app.teaserData[t]&&this.app.teaserData[t].coopType===Se.Wages}_init(){if(this.isInited)return;this.isInited=!0;let e=parseInt(2e3);this.app.addClickHandler(this.app.clickHandlerList.activateDelayLink.handler,this.app.clickHandlerList.activateDelayLink.priority),this.app.context.setTimeout(()=>{this.eventDisabled=!0,this.app.linksBlocked=!1,this.app.clickableDelay=!1},e)}_onClick(e,t){return this.eventDisabled||this.app.clickableDelay&&this.isWagesLink(e)||this.isCloseLink(e)||typeof this.app.servicerData.dc<"u"?!0:(this.app.doubleClickType="delay",this.app.doubleClickHandler(e),this.app.linksBlocked=!0,t.preventDefault(),!1)}}});var Dp={};ye(Dp,{MonitorBlock:()=>fn});var fn,Ep=ne(()=>{S();_();k();C();I();D();E();ge();fn=class extends ${constructor(e){super(e),this.name="MonitorBlock",this.shownBlocks={},this.monitorTimeout=null,this.isFirstByType={},this.isFirstByCid={},this.regAllowedHash=/([A-Za-z0-9\-_\*]{64})/,this.addHook("beforeInjectTemplateHooks",this._init.bind(this))}_init(){if(typeof this.VisData!="function"){let t=!0,i=this.app.context.self;try{this.app.context.self!==this.app.context.top&&this.app.context.top.location.href&&(i=this.app.context.top)}catch{t=!1}this.VisData=(()=>{try{if(!t)return ae=>ae?{extTf:!1}:!0;let a,s,n={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(a in n)if(a in document){s=n[a];break}let l=-1,c=-1,h=-1,g=1,y=!1,T,b,P,x,B,O=typeof document.hasFocus=="function"?()=>{let ae=i.document.hasFocus();ae!=g&&(T=new Date().getTime()),y|=ae,g=ae}:()=>{g=1};setInterval(O,100),this.app.addEvent(i.document,s,()=>{i.document[a]?l=0:setTimeout(()=>{l=1},100),B=new Date().getTime()}),this.app.addEvent(i.document,"mouseleave",()=>{h=0,b=new Date().getTime()}),this.app.addEvent(i.document,"mouseenter",()=>{h=1,b=new Date().getTime()}),this.app.addEvent(i.document,"touchmove",()=>{h=2,b=new Date().getTime()});let w=0;this.app.addEvent(i.document,"keydown",()=>{w=1,P=new Date().getTime()});let M=0,H=0;this.app.addEvent(i.document,"click",ae=>{H=1,M=new Date().getTime();let me=ae.target;for(;me.parentElement;)if(me.tagName==="A"){H=2;break}else me=me.parentElement}),this.app.addEvent(i,"blur",()=>{i.document.activeElement&&i.document.activeElement.tagName=="IFRAME"?c=2:c=0,x=new Date().getTime()}),this.app.addEvent(i,"focus",()=>{c=1,x=new Date().getTime()});let ie=0,Z=null,Q=()=>{Z=new Date().getTime(),ie=1};i.document.addEventListener?(i.document.addEventListener("mousewheel",Q,!1),i.document.addEventListener("DOMMouseScroll",Q,!1)):i.document.attachEvent("onmousewheel",Q);let te=0;try{let ae=new Image;ae.__defineGetter__("id",()=>{te=1}),console.debug(ae)}catch{te=-1}return ae=>{O();let me=g&&(l!==0||c!==0||h!==-1||ie);if(ae){let se={extVs:me,extTv:l,extWv:c,extMa:h,extHf:g,extCl:H,extKp:w,extMw:ie,extDg:te,extFt:y},ue=new Date().getTime();return M&&(se.extClt=ue-M),Z&&(se.extMwt=ue-Z),x&&(se.extWvt=ue-x),b&&(se.extMat=ue-b),B&&(se.extTvt=ue-B),T&&(se.extHft=ue-T),P&&(se.extKpt=ue-P),se}return me}}catch{return s=>s?{}:!0}})()}let e=parseFloat(this.app.globalSettings.capping_observer_threshold);if((!e||e<=0||e>1||Number(e)!=e)&&(e=.9),typeof IntersectionObserver=="function"&&this.app.servicerData.cv===3){let i=0,a=0,s=[],n=null,l=()=>{let T=0;for(let b=0;b<s.length;b++)s[b]&&(s[b].dataset.shown?T++:s[b].dataset.observeStart>0&&parseFloat(s[b].dataset.observeTime)+(new Date().getTime()-s[b].dataset.observeStart)>1e3&&(this.app.intersectionObserver.unobserve(s[b]),this.app.intersectionObserver.observe(s[b])));T<i&&setTimeout(l,100)};if(!this.app.intersectionObserver){let T=b=>{let P={},x=0;for(let B=0;B<b.length;B++){let O=b[B];if(!(!this.regAllowedHash.exec(O.target.dataset.i)||O.target.dataset.shown)){if(O.target.width+O.target.height==0){this.app.intersectionObserver.unobserve(O.target),(()=>{let w=O.target;setTimeout(()=>{this.app.intersectionObserver.observe(w)},100)})();continue}if(O.intersectionRatio>=e)if(O.target.dataset.observeStart==0)O.target.dataset.observeStart=new Date().getTime();else{let w=new Date().getTime()-O.target.dataset.observeStart;O.target.dataset.observeTime=parseFloat(O.target.dataset.observeTime)+w}else O.target.dataset.observeTime=0,O.target.dataset.observeStart=0;O.target.dataset.observeTime>=1e3&&(O.target.dataset.shown=1,this.app.intersectionObserver.unobserve(O.target),P[O.target.dataset.i]=this._getTeaserCappingData(O.target),x++)}}x&&this._prepareCappingData(P,this.app.servicerData.cv)};this.app.intersectionObserver=new IntersectionObserver(T,{threshold:[0,e,1]})}let c=[],h=null,g=()=>{n||(n=setTimeout(l,100)),h=null;for(let T=c.pop();T;T=c.pop())this.app.intersectionObserver.observe(T)},y=T=>{c.push(T),s.push(T),i++,h&&clearTimeout(h),i<a?h=setTimeout(g,100):g()};(()=>{let T="";if(this.app.templateContent===""?T=this.app.root.getElementsByClassName("mgline"):T=this.app.templateContent.getElementsByClassName("mgline"),T.length){for(let b=0;b<T.length;b++)if(!T[b].dataset.observing)if(this.regAllowedHash.exec(T[b].dataset.i)){T[b].dataset.observeTime=0,T[b].dataset.observeStart=0,T[b].dataset.observing="yes";let P=T[b].querySelector("img.mcimg");P?((x,B)=>{this.app.addEvent(B,"load",()=>{x.dataset.completeFired||(x.dataset.loadFired=!0,y(x))}),this.app.addEvent(B,"error",()=>{x.dataset.completeFired||y(x)}),setTimeout(()=>{B.complete&&!x.dataset.loadFired&&(x.dataset.completeFired=!0,y(x))},50)})(T[b],P):y(T[b]),a++}else T[b].dataset.observing="no"}})()}else if(!this.monitorTimeout){let t=()=>{let i={},a="";this.app.templateContent&&(a=this.app.templateContent.getElementsByClassName("mgline")),a.length||(a=this.app.root.getElementsByClassName("mgline"));let s=[];for(let n=0;n<a.length;n++)if(this.regAllowedHash.exec(a[n].dataset.i)&&!this.shownBlocks[a[n].dataset.i])if(a[n].dataset.observing)s.push(a[n]);else{let l=a[n].querySelector("img.mcimg");l?((c,h)=>{this.app.addEvent(h,"load",()=>{c.dataset.observing="yes"}),this.app.addEvent(h,"error",()=>{c.dataset.observing="yes"}),setTimeout(()=>{h.complete&&(c.dataset.observing="yes")},50)})(a[n],l):a[n].dataset.observing="yes"}for(let n=0;n<s.length;n++){let l=s[n];this._elementViewportIntersection(l)>=e&&(i[l.dataset.i]=this._getTeaserCappingData(l))}this._prepareCappingData(i,"2"),this.monitorTimeout=setTimeout(t,1e3)};t()}}_getTeaserCappingData(e){let t=this.app.utils.getRect(e,!0);return{width:Math.round(t.width),height:Math.round(t.height),atf:t.top<this.app.utils.getViewportSize().height,align:this._getTeaserAlign(t),desc:this._isTeaserElementVisible(e,"mcdesc"),price:this._isTeaserElementVisible(e,"mcprice"),domain:this._isTeaserElementVisible(e,"mcdomain")}}_prepareCappingData(e,t){let i=[],a=[],s=[],n=[];this.app.lifeCycleBlock.processHooks("beforePrepareCappingDataHooks");for(let l in e){let c=l;if(this.shownBlocks[c])continue;let h=e[l].width+"|"+e[l].height+"|"+((e[l].desc?1:0)+(e[l].price?2:0)+(e[l].domain?4:0)+(e[l].atf?8:0)+(e[l].align=="right"?16:0)+(e[l].align=="left"?32:0))+"|";if(c&&this.app.teaserData[c]){this.shownBlocks[c]=1;let g=this.app.teaserData[c].coopType;this.app.teaserData[c].ch&&this.app.teaserData[c].ccid&&this.app.teaserData[c].cdomain&&(s=this._prepareMultiCappingData(s,c,h,g,t),n=s.counter,n[g][this.app.teaserData[c].cdomain]>20&&(this._multiSendCappingData(s[g]),s[g]=[],n=[])),i=this._prepareSingleCappingData(i,c,h,g,t),a=i.counter,a[g]>20&&(this._sendCappingData(i[g]),i[g]="",a[g]=0);{let y=this.app.teaserData[c].imp;for(let T of y)this.app.countersBlock.sendCustomCounter(T)}g==="w"&&this.app.sspDoubleClickHash.push(c),this.app.lifeCycleBlock.processHooks("afterPrepareCappingDataHooks",[c])}}for(let l in a)a[l]>0&&this._sendCappingData(i[l]);for(let l of Object.keys(n)){let c=n[l];Object.keys(n[c]).length>0&&this._multiSendCappingData(s[c])}}_sensorsToJsFlags(){let e=0;try{let t=this.VisData(!0),i=1500;if(t){if(t.extTf===!1)return 3;t.extVs===1&&(e=1),t.extHf&&(e+=2),t.extWv<0?e+=3<<2:t.extWv<3&&(e+=t.extWv<<2),t.extTv<0?e+=3<<4:t.extTv<3&&(e+=t.extTv<<4),t.extMa<0?e+=3<<6:t.extMa<3&&(e+=t.extMa<<6),t.extCl>0&&t.extCl<3&&(e+=t.extCl<<8),t.extMw==1&&(e+=1<<10),t.extKp==1&&(e+=1<<11),t.extDg!=0&&(e+=1<<12),t.extMa!=2&&t.extMw==1&&t.extMwt<i&&(e+=1<<13),Number(t.extHft)===t.extHft&&t.extHft>=0&&t.extHft<i&&(!t.extWvt||t.extWvt<i)&&(!t.extTvt||t.extTvt<i)&&(e+=1<<14),t.extFt&&(e+=1<<15),e=e<<1}}catch{e=1}return e}_prepareMultiCappingData(e,t,i,a,s){let n=this.app.teaserData[t].cdomain,l=this.app.teaserData[t].ch,c=this.app.teaserData[t].ccid,h="pv="+s;return h.indexOf("extjs")==-1&&(h+="&extjs="+this._sensorsToJsFlags()),typeof e[a]>"u"&&(e[a]=[],typeof e.counter>"u"&&(e.counter=[]),typeof e.counter[a]>"u"&&(e.counter[a]=[])),typeof e[a][n]>"u"&&(e[a][n]=[],e.counter[a][n]=0),typeof e[a][n][c]>"u"&&(e[a][n][c]=""),h+="&v="+i+l,(s!="0"&&!this.isFirstByType[a+c]||!this.isFirstByCid[a+c])&&(h+="&f"+a+"=1",this.isFirstByType[a+c]=1,this.isFirstByCid[a+c]=1),e[a][n][c]+=h,e.counter[a][n]++,e}_prepareSingleCappingData(e,t,i,a,s){return typeof e[a]>"u"&&(e[a]="pv="+s,typeof e.counter>"u"&&(e.counter=[])),typeof e.counter[a]>"u"&&(e.counter[a]=0),e[a]+="&v="+i+t,s!="0"&&!this.isFirstByType[a]&&(e[a]+="&f"+a+"=1",this.isFirstByType[a]=1),e[a].indexOf("extjs")==-1&&(e[a]+="&extjs="+this._sensorsToJsFlags()),e.counter[a]++,e}_multiSendCappingData(e){for(let t in e)if(e.hasOwnProperty(t)){for(let i in e[t])if(e[t].hasOwnProperty(i)){let a=e[t][i]+"&cid="+i;this._sendCappingData(a,t)}}}_sendCappingData(e,t){let i=this.app.webProtocol+"//",a=null;if(typeof t<"u"?i+=t:i+="c.mgid.com",this.app.pagesServicerData.length){let h="",g=e.split("&").filter(y=>y.indexOf("v=")===0)[0];if(g&&(h=g.split("|").filter((y,T,b)=>y===b[b.length-1])[0]),h&&this.app.teaserData[h]){let y=this.app.pagesServicerData.filter(T=>T.page===this.app.teaserData[h].page)[0];a=typeof y<"u"?y.servicerData:null}a&&a.h2&&(e+="&h2="+a.h2),a&&a.rid&&(e+="&rid="+a.rid),a&&a.tt&&(e+="&tt="+a.tt),a&&a.ts&&(e+="&ts="+a.ts),a&&a.psid&&(e+="&psid="+a.psid),a&&a.iv&&(e+="&iv="+a.iv)}let s=e.search("&cid="),n=e.search("pv=0&")>=0,l;s!=-1&&(l=e.substr(s+5).split("&")[0]),n?typeof l>"u"&&(e+="&cid="+this.app.id.toString()):((typeof this.app.context._mgwcapping>"u"||this.app.context._mgwcapping.indexOf(this.app.id.toString())==-1||typeof l<"u"&&this.app.context._mgwcapping.indexOf(l.toString())==-1)&&(e="f=1&"+e),this.app.context._mgwcapping=this.app.context._mgwcapping||[],typeof l>"u"?(e+="&cid="+this.app.id.toString(),this.app.context._mgwcapping.push(this.app.id.toString())):this.app.context._mgwcapping.push(l)),e+="&pageImp="+this._getPageImp(),e+="&pvid="+this.app.pvid,e+="&cbuster="+this.app.getCbusterParameter();let c=this.app.getMuid();c.length&&(e+="&muid="+c),e=e.split("&").filter(h=>{let g=h.split("=");return g[0]==="v"?!!this.regAllowedHash.exec(g[1]):!0}),e.some(h=>h.split("=")[0]==="v")&&(this.app.request.pixel("capping",`${i}/c?${e.join("&")}`,{},{}),this.app.lifeCycleBlock.processHooks("afterSendCappingHooks"))}_sendWidgetCappingData(e,t){let i=this.app.pageViewPixelBlock.getPageDataParams(),a={cid:`cid=${this.app.id}`,cbuster:`cbuster=${i.cbuster}`,cxurl:`cxurl=${i.cxurl}`};i.lu&&(a.lu=`lu=${i.lu}`),i.pr&&(a.pr=`pr=${i.pr}`),t&&(t.h2&&(a.h2=`h2=${t.h2}`),t.psid&&(a.psid=`psid=${t.psid}`),t.tt&&(a.tt=`tt=${t.tt}`),t.ts&&(a.ts=`ts=${t.ts}`)),a.pageImp="pageImp="+this._getPageImp(),this.app.request.pixel("widgetCapping",`${e}/w`,a,{}),this.app.lifeCycleBlock.processHooks("afterSendCappingHooks")}_getPageImp(){let e=0;if(this.app.context["isFBIA"+1456432]&&this.app.context.localStorage){let t=this.app.context.localStorage.getItem("_mgPageImp"+882635),i=this.app.globalSettings.ia_page_imp_timeout||180;(!t||new Date().getTime()-t>i*1e3)&&(this.app.context.localStorage.setItem("_mgPageImp"+882635,new Date().getTime()),e=1)}else{let t=this.app.getMostTopWindow(),i=t.location.pathname;t["_mgPageImp"+882635]=t["_mgPageImp"+882635]||[];let a=t["_mgPageImp"+882635];Array.isArray(a)&&a.indexOf(i)===-1&&(a.push(i),e=1)}return e}_getTeaserAlign(e){let t=this.app.context.document.body.scrollWidth;return e.right<.3*t?"left":e.left>=.7*t?"right":"center"}_isTeaserElementVisible(e,t){let i=e.getElementsByClassName(t);if(i.length>0){let a=i[0].getBoundingClientRect();return!(a.right-a==0||a.bottom-a.top==0)}else return!1}_elementViewportIntersection(e){let t=this.app.utils.getRect(e,!0);for(let h in t)t.hasOwnProperty(h)&&(t[h]=Math.floor(t[h]));let i=this.app.utils.getViewportSize(),a=this.app.utils.getScroll();i.top=a.top,i.bottom=a.top+i.height,i.left=a.left,i.right=a.left+i.width;let s=t.width*t.height;if(!s)return 0;let n=Math.max(0,Math.min(t.right,i.right)-Math.max(t.left,i.left)),l=Math.max(0,Math.min(t.bottom,i.bottom)-Math.max(t.top,i.top));return n*l/s}}});var Pp={};ye(Pp,{GoogleGptBlock:()=>gn});var gn,Ap=ne(()=>{S();_();k();C();I();D();E();ge();bt();gn=class extends ${constructor(e){super(e),this.gptInserted=!1,this.allowedSubTypeList=["in-article-main","under-article-widget-main","under-article-widget-pair-cards","under-article-widget-cards","under-article-widget-rectangular","smart-plus","smart-main","smart-blur"],this.name="GoogleGptBlock",this.app.gptOptions?.backfill?this.addHook("afterLoadNewsHooks",this.renderGptV2):this.allowedSubTypeList.indexOf("smart-plus")!==-1&&!this.app.adBlockDetect()&&this.addHook("afterLoadNewsHooks",this.renderGptV1)}renderGptV2(){Object.keys(this.app.teaserData).filter(t=>this.app.teaserData[t].type===fe.Gpt&&!this.app.teaserData[t].isRendered).map(t=>this.app.teaserData[t]).forEach(t=>{let i=this.app.root.querySelector(`.teaser-${t.id}`);if(t.afrd>0||t.width<300||t.height<250||this.app.context.document.querySelector(`#${t.divId}`))this.appendBackfill(t,i);else{let a=this.app.root.parentNode.host,s=this.app.context.document.createElement("SLOT"),n="gpt"+t.id;s.name=n,i.appendChild(s),this.appendGptScript(a);let l=this.app.context.document.createElement("DIV"),c=Math.ceil(t.width?t.width:i.clientWidth)+"px";l.id=t.divId,l.slot=n,l.style.width=c,l.style.maxWidth=c,l.style.minWidth="300px",l.style.minHeight="250px",l.style.margin="0",l.style.overflow="hidden",a.appendChild(l),this.setBackfillEvent(t,i,l),t.lazy&&this.app.context.IntersectionObserver&&!this.app.isAmp()?this.lazyLoadGpt(t,a,i):this.displayGpt(t,i)}t.isRendered=!0})}renderGptV1(){if(this.app.gptOptions.displayOnSubwidgets||(this.app.gptOptions=JSON.parse(this.app.getWidgetValue("gptOptions",'{"slot":"\\/22717329971,422621568\\/libero.pe\\/libero.pe_882635_1456432_smart_1_PE_ES_IAB17_web","divId":"div-gpt-ad-1456432","lazy":1000,"backfill":1510155}'))),!!this.app.gptOptions.divId&&!(this.app.servicerData.afrd&&this.app.servicerData.afrd>0)&&!this.gptInserted){let e=this.app.root.getElementsByClassName("mgline");if(!e.length)return;let t=this.getGptPosition(),i=this.app.root.parentNode.host,a=this.app.context.document.createElement("SLOT");a.name="gpt",e[t].insertAdjacentElement("afterend",a),this.appendGptScript(i);let s=this.app.root.getBoundingClientRect(),n=Math.ceil(s.width?s.width:s.right-s.left),l=this.app.context.document.createElement("DIV");l.id=this.app.gptOptions.divId,l.slot="gpt",l.style.width=n+"px",l.style.minWidth="300px",l.style.minHeight="250px",l.style.margin="5px 0",i.appendChild(l),this.app.gptOptions.lazy&&this.app.context.IntersectionObserver&&!this.app.isAmp()?this.lazyLoadGpt(this.app.gptOptions,i):this.displayGpt(this.app.gptOptions),this.gptInserted=!0}}setBackfillEvent(e,t,i){let a=new MutationObserver((s,n)=>{for(let l of s){let{target:c,type:h,attributeName:g}=l;h==="attributes"&&g==="style"&&c.style.display==="none"&&(this.app.log(`${this.name} SetBackfillEvent: gptDiv ${i} - Collapsed.`),a.disconnect(),this.appendBackfill(e,t))}});a.observe(i,{attributes:!0,attributeFilter:["style"]})}appendBackfill(e,t){if(!t.dataset.backfill){t.dataset.backfill="rendered";let i=this.app.context.document.createElement("iframe");i.id=e.id,i.scrolling="no",i.style.width=e.width?e.width+"px":"100%",i.style.height=e.height?e.height+"px":"100%",i.style.border="0px",i.style.margin="auto",i.style.overflow="hidden",i.style.position="relative",i.style.zIndex="1",t.appendChild(i);let a=this.app.utils.isSupportES6()?"https://jsc.mgid.com/l/i/libero.pe.1456432.es6.js":"https://jsc.mgid.com/l/i/libero.pe.1456432.es5.js",n=`<!DOCTYPE html><html><body style="margin: 0;">
        <script>var _mgExceptAds = [${this.app.getExceptAds()}];<\/script>
        <div id="M${882635}ScriptRootC${e.backfill}"></div>
        <script src="${a.replace(String(1456432),String(e.backfill))}" async><\/script>
        </body></html>
      `;i.contentWindow.document.open(),i.contentWindow.document.write(n),i.contentWindow.document.close()}}appendGptScript(e){let t=this.app.context.document.createElement("SCRIPT");t.async=!0,t.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",e.appendChild(t)}getGptPosition(){let e=0;return e=0,typeof this.app.gptOptions.desktopPosition<"u"&&!this.app.utils.isMobile()&&(e=Number(this.app.gptOptions.desktopPosition)-2),typeof this.app.gptOptions.mobilePosition<"u"&&this.app.utils.isMobile()&&(e=Number(this.app.gptOptions.mobilePosition)-2),e}lazyLoadGpt(e,t,i){let a=Number(e.lazy),s=new IntersectionObserver(n=>{n.forEach(l=>{l.isIntersecting&&(this.app.log(`${this.name} LazyLoadGpt: widget is Observed.`),s.disconnect(),this.displayGpt(e,i))})},{threshold:[0],rootMargin:`${a}px`});s.observe(t)}displayGpt(e,t){this.app.context.googletag=this.app.context.googletag||{cmd:[]},this.app.context.googletag.cmd=this.app.context.googletag.cmd||[],this.app.context.googletag.cmd.push(()=>{let i=this.app.context.googletag.defineSlot(e.slot,[[300,250],"fluid"],e.divId).addService(this.app.context.googletag.pubads()).setTargeting("tt",this.app.servicerData.tt).setTargeting("ts",this.app.servicerData.ts);this.app.context.googletag.pubads().collapseEmptyDivs(),this.app.isAmp()&&this.app.context.googletag.pubads().set("page_url",this.app.pageUrl),this.app.context.googletag.pubads().addEventListener("slotOnload",a=>{a.slot.getSlotElementId()===e.divId&&e?.backfill&&t&&(t.style.width="100%",t.style.height="auto")}),this.app.context.googletag.pubads().addEventListener("slotRenderEnded",a=>{let s=a.slot.getSlotElementId();s===e.divId&&a.isEmpty&&e?.backfill&&t&&(this.app.log(`${this.name} DisplayGpt: slotId ${s} - isEmpty.`),this.appendBackfill(e,t))}),this.app.context.googletag.pubadsReady?this.app.context.googletag.pubads().refresh([i]):this.app.context.googletag.enableServices()}),this.app.context.googletag.cmd.push(()=>{this.app.context.googletag.display(e.divId)})}}});var Lp={};ye(Lp,{HideDescriptionBlock:()=>yn});var yn,Bp=ne(()=>{S();_();k();C();I();D();E();ge();yn=class extends ${constructor(e){super(e),this.name="HideDescriptionBlock",typeof this.app.afterAutoplacementHooks<"u"&&this.app.widgetConstructorData.autoplacement!=="off"?this.addHook("afterAutoplacementHooks",this.hideDescription):this.addHook("afterLoadNewsHooks",this.hideDescription)}hideDescription(){let e=this.app.root.querySelector(".mcdesc");if(!e)return;let t=this.app.root.querySelector(".mcdesc > a"),i=this.app.root.querySelector(".mglbtn"),a=this.app.root.querySelector(".mglbtn > a"),s=this.app.root.querySelector("div.mcimg"),n=this.app.root.querySelector(".image-with-text"),l=t.scrollHeight-t.clientHeight,c=i.clientWidth,h=s.clientWidth,g=n.clientWidth;g-h-15-c-15<0&&(g!==h?a.innerHTML=this.app.getTranslation("[INFORMER_CTA_LEARN_MORE]")+"<span></span>":i.clientHeight>75&&(a.innerHTML=this.app.getTranslation("[INFORMER_CTA_LEARN_MORE]")+"<span></span>"),c<135&&(a.innerHTML="<span></span>")),l>1&&(e.style.display="none")}}});var Op={};ye(Op,{CollectViewDataBlock:()=>vn});var Tt,vn,Mp=ne(()=>{S();_();k();C();I();D();E();ge();(function(r){r.widgetOutOfSight="widget_out_of_sight",r.leavePage="user_change_tab_or_close_site",r.widgetOverLimitTime="widget_over_limit_time",r.siteOverLimitTime="site_over_limit_time",r.newWidgetPage="new_widget_page",r.newSitePage="new_site_page"})(Tt||(Tt={}));vn=class extends ${constructor(e){super(e),this.keyHash="_mgUniqueHash",this.keyUserPages="_mgUserPages",this.timeOutLimit=30,this.viewMinTime=1,this.widget={isVisible:!1,isStartView:!1,startingViewTime:0,requestsList:[]},this.teasersList=[],this.teasersVisibleList=[],this.acceptableTeaserTypes=["type-w","type-i","mgline-banner"],this.acceptableSiteEvents=[Tt.leavePage,Tt.newSitePage,Tt.siteOverLimitTime],this.name="CollectViewDataBlock",!this.app.isAmp()&&!this.app.isIframe()&&this.init()}init(){if(this.currentPath=this.app.context.document.location.pathname,typeof this.app.context[this.keyUserPages]>"u"){this.app.context[this.keyUserPages]=[];let e=Math.round(this.app.context.performance?.timeOrigin)||this.app.context.performance.timing.navigationStart,t={pathname:this.currentPath,href:this.app.context.document.location.href,startingViewTime:e,isOverLimitTime:!1};this.app.context[this.keyUserPages].push(t)}setInterval(()=>{this.detectUrlChanged(),this.detectTimeOverLimit()},1e3),this.setupLeavePageEvents(),this.addHook("afterLoadNewsHooks",this.startObserving)}detectUrlChanged(){if(this.currentPath!==this.app.context.document.location.pathname){this.sendAnalyticsData(Tt.newSitePage),this.currentPath=this.app.context.document.location.pathname;let e=this.getCurrentPage();if(!e){let t={pathname:this.currentPath,href:this.app.context.document.location.href,startingViewTime:new Date().getTime(),isOverLimitTime:!1};this.app.context[this.keyUserPages].push(t)}e&&e.startingViewTime===0&&this.updateCurrentUserPage({startingViewTime:new Date().getTime(),href:this.app.context.document.location.href})}}detectTimeOverLimit(){let e=this.getCurrentPage();e&&!e.isOverLimitTime&&e.startingViewTime>0&&this.isTimeOverLimit(new Date().getTime()-e.startingViewTime)&&(this.updateCurrentUserPage({isOverLimitTime:!0}),this.sendAnalyticsData(Tt.siteOverLimitTime)),this.widget.isStartView&&this.isTimeOverLimit(new Date().getTime()-this.widget.startingViewTime)&&this.sendAnalyticsData(Tt.widgetOverLimitTime)}setupLeavePageEvents(){let t=["hidden","mozHidden","msHidden","webkitHidden"].filter(a=>typeof this.app.context.document[a]<"u")[0],i=t==="hidden"?"visibilitychange":t.replace("Hidden","")+"visibilitychange";this.app.context.document.addEventListener(i,()=>{if(this.app.context.document[t]&&this.sendAnalyticsData(Tt.leavePage),this.widget.isVisible&&!this.app.context.document[t]&&this.restartTeasersViewTime(),!this.app.context.document[t]){let a=this.getCurrentPage();a&&a.startingViewTime===0&&this.updateCurrentUserPage({startingViewTime:new Date().getTime()})}}),this.app.context.addEventListener("beforeunload",()=>{this.sendAnalyticsData(Tt.leavePage)})}startObserving(){let e={page:this.app.pagesServicerData.length,requestId:this.app.servicerData.rid};this.widget.requestsList.push(e);let t=typeof this.app.context[this.keyHash+this.app.id+"_"+this.app.uniqId]<"u";t&&this.widget.isStartView&&(this.sendAnalyticsData(Tt.newWidgetPage),this.teasersVisibleList.length?this.restartTeasersViewTime():(this.widget.isStartView=!0,this.widget.startingViewTime=new Date().getTime())),t||(this.app.context[this.keyHash+this.app.id+"_"+this.app.uniqId]=this.app.utils.generateHash(),this.addHook("observerTeasersHooks",this.teasersObserving),["mobile-widget","in-site-notification","passage","interstitial"].includes("smart")===!1&&this.addHook("observerWidgetHooks",this.widgetObserving))}teasersObserving(e,t,i,a,s){let n,l;if(a&&s&&(n=s+"-"+a,l=this.teasersList.filter(c=>c.order===n)[0]),i===0&&n&&l&&l.isVisible&&(this.teasersList=this.teasersList.map(c=>{if(c.order===n){let h=new Date().getTime()-c.startingViewTime,g=c.viewTime?c.viewTime+h:h;return{...c,viewTime:g,isVisible:!1,startingViewTime:0}}else return c})),i>.5){if(this.widget.isVisible=!0,this.widget.isStartView||(this.widget.isStartView=!0,this.widget.startingViewTime=new Date().getTime()),!l&&n&&e&&a&&s){let c={order:n,iteration:a,page:s,isVisible:!0,startingViewTime:new Date().getTime(),viewTime:0,requestId:this.widget.requestsList.filter(h=>h.page===s)[0]?.requestId,showHash:e.dataset.i||"",className:e.className};this.teasersList.push(c)}l&&!l.isVisible&&n&&(this.teasersList=this.teasersList.map(c=>c.order===n?{...c,isVisible:!0,startingViewTime:new Date().getTime()}:c))}this.teasersList.length&&this.teasersList.every(c=>!c.isVisible)&&["mobile-widget","passage","interstitial"].includes("smart")&&(this.sendAnalyticsData(Tt.widgetOutOfSight),this.widget.isVisible=!1)}widgetObserving(e,t){typeof e<"u"&&!e&&(this.sendAnalyticsData(Tt.widgetOutOfSight),this.widget.isVisible=!1)}sendAnalyticsData(e){let t;if(this.widget.isStartView){let s=new Date().getTime()-this.widget.startingViewTime;this.isTimeMoreMinLimit(s)&&(t=t||{},t.widget_data=this.preparedWidgetData(e)),this.widget.isStartView=!1,this.widget.startingViewTime=0}if(this.teasersList.some(s=>s.viewTime>0||s.isVisible)){this.teasersVisibleList=this.teasersList.filter(n=>n.isVisible);let s=this.preparedTeasersData();s.length&&(t=t||{},t.teasers_data=s),this.resetTeasersViewTime()}let i=this.getCurrentPage(),a=this.acceptableSiteEvents.some(s=>s===e);if(i&&a&&i.startingViewTime>0){let s=new Date().getTime()-i.startingViewTime;this.isTimeMoreMinLimit(s)&&(t=t||{},t.user_data=this.preparedUserData(i)),this.updateCurrentUserPage({startingViewTime:0})}if(t&&Object.keys(t).length&&this.isMuidn()){t.event_name=e;let s=new Blob([JSON.stringify(t)],{type:"text/plain"});this.app.request.beaconBlob("visibility",this.app.webProtocol+"//c.mgid.com/vz",s,{})}}preparedWidgetData(e){let t=this.getSessionId(),i={composite_id:this.app.id,device:this.app.servicerData.dt,muidn:this.app.getMuid(),unique_hash:this.app.context[this.keyHash+this.app.id+"_"+this.app.uniqId],visible_time:new Date().getTime()-this.widget.startingViewTime};t&&(i.session_id=t);let a=this.teasersList.filter(s=>s.viewTime>0||s.isVisible).map(s=>s.requestId).filter((s,n,l)=>l.indexOf(s)===n);return e===Tt.newWidgetPage?(i.request_id=this.widget.requestsList[this.widget.requestsList.length-2]?.requestId,a.length>=2&&(i.first_request_id=this.widget.requestsList[0]?.requestId),i):(a.length===1?i.request_id=a[0]:a.length>=2?(i.request_id=this.widget.requestsList[this.widget.requestsList.length-1]?.requestId,i.first_request_id=this.widget.requestsList[0]?.requestId):i.request_id=this.app.servicerData.rid,i)}preparedTeasersData(){return this.teasersList.map(e=>{if(e.isVisible){let t=new Date().getTime()-e.startingViewTime,i=e.viewTime?e.viewTime+t:t;return{...e,viewTime:i}}else return e}).filter(e=>this.isTimeMoreMinLimit(e.viewTime)&&this.acceptableTeaserTypes.some(t=>e.className.indexOf(t)!==-1)&&e.showHash.length&&e.showHash!=="undefined").map(e=>({composite_id:this.app.id,show_hash:e.showHash,muidn:this.app.getMuid(),request_id:e.requestId,visible_time:e.viewTime}))}preparedUserData(e){let t=new Date().getTime()-e.startingViewTime;return{muidn:this.app.getMuid(),page_view_id:this.getPvid(),page_url:e.href,visible_time:t}}resetTeasersViewTime(){this.teasersList=this.teasersList.map(e=>({...e,viewTime:0,isVisible:!1,startingViewTime:0}))}restartTeasersViewTime(){this.teasersVisibleList.forEach(e=>{this.teasersObserving(null,!0,1,e.iteration,e.page)}),this.teasersVisibleList=[]}updateCurrentUserPage(e){this.app.context[this.keyUserPages]=this.app.context[this.keyUserPages].map(t=>t.pathname===this.currentPath?{...t,...e}:t)}isMuidn(){return!!this.app.getMuid().length}isTimeOverLimit(e){return e>this.timeOutLimit*6e4}isTimeMoreMinLimit(e){return e>this.viewMinTime*1e3}getCurrentPage(){return this.app.context[this.keyUserPages].filter(e=>e.pathname===this.currentPath)[0]}getPvid(){let e="";try{e=this.app.pvid||this.app.context._mgPvid||this.app.context.localStorage.getItem("_mgPvid")||""}catch{}return e}getSessionId(){let e=null;try{this.app.context.localStorage&&(e=this.app.context.localStorage.getItem("_mgSessionId"))}catch{}return e}}});var Rp={};ye(Rp,{RtbBlock:()=>bn});var bn,Hp=ne(()=>{S();_();k();C();I();D();E();ge();bn=class extends ${constructor(e){super(e),this.name="RtbBlock",this.addHook("afterLoadNewsHooks",this.cmPixelLoad)}cmPixelLoad(){if(!this.app.context["i.js.loaded"]&&this.app.cookieMatchingDomain.length){this.app.context["i.js.loaded"]=!0;let e=this.app.webProtocol+"//"+this.app.cookieMatchingDomain+"/i.js?",t=typeof this.app.realRoot<"u"?this.app.realRoot:this.app.root,i={},a=this.app.getMuid();a.length&&(i.muid=a),i.cbuster=this.app.getCbusterParameter(),e+=Object.keys(i).map(n=>n+"="+encodeURIComponent(i[n])).join("&");let s={charset:"utf-8",onerror:()=>{this.app.context["i.js.loaded"]=!1},dest:t.parentNode};this.app.request.script("i.js",e,{},s)}if(!this.app.context["i-noref.js.loaded"]&&this.app.cookieMatchingDomain.length){this.app.context["i-noref.js.loaded"]=!0;let e=this.app.context.document.createElement("IFRAME");e.src="about:blank",e.frameBorder="0",e.style.position="absolute",e.style.top="0px",e.style.left="-1px",e.style.width="0px",e.style.height="0px",e.style.display="none",e.onload=()=>{setTimeout(()=>{let t=this.app.webProtocol+"//"+this.app.cookieMatchingDomain+"/i-noref.js?cbuster="+this.app.getCbusterParameter(),i={charset:"utf-8",onerror:()=>{this.app.context["i-noref.js.loaded"]=!1},dest:e.contentDocument.body};this.app.request.script("i-noref",t,{},i)},0)},setTimeout(()=>{this.app.context.document.body.appendChild(e)},0)}}}});var zi,xn=ne(()=>{S();_();k();C();I();D();E();ge();zi=class extends ${constructor(e){super(e),this.addHook("afterInitHooks",this.init)}init(){if(!this.initCheck())return;this.check()||this.addHook("afterLoadNewsHooks",this.load);let e=this.getData();e!==""&&(this.app.requestParams[this.paramName]=encodeURIComponent(e))}initCheck(){return!0}}});var Np={};ye(Np,{ID5Block:()=>Tn});var Tn,Gp=ne(()=>{S();_();k();C();I();D();E();xn();Tn=class extends zi{constructor(e){super(e),this.storageKey="_mgID5",this.name="ID5Block",this.paramName="id5",this.refreshTime=36e5}id5Init(){let e="https://cdn.id5-sync.com/api/1.0/id5-api.js",t=this.app.context.document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e,this.app.root.parentNode.insertBefore(t,this.app.root);let i=0,a=setInterval(()=>{i++,i>20&&clearInterval(a),typeof this.app.context.ID5<"u"&&this.app.context.ID5.loaded===!0&&(clearInterval(a),this.app.context.ID5.init(this.id5Params())?.onAvailable(this.id5Callback.bind(this)))},100)}id5Params(){return{partnerId:231,refreshInSeconds:15}}id5Callback(e){let t=e.getUserId();if(typeof t<"u"&&t!=0)if(this.app.context._mgID5Exists=!0,this.app.isAmp()){let i=this.storageKey+"="+t+";domain=.ampproject.net;Max-Age="+this.refreshTime/1e3+";SameSite=None;Secure";this.app.context.document.cookie=i}else this.app.context.localStorage.setItem(this.storageKey,JSON.stringify({time:new Date().getTime(),data:t}))}check(){let e=!0;if(this.app.isAmp())this.app.getCookieValue(this.storageKey).length||(e=!1);else{let t=this.app.context.localStorage.getItem(this.storageKey);if(t){let i=JSON.parse(t);new Date().getTime()-i.time>this.refreshTime&&(e=!1)}else e=!1}return e}getData(){let e="";if(this.app.isAmp())e=this.app.getCookieValue(this.storageKey);else{let t=this.app.context.localStorage.getItem(this.storageKey);t&&(e=JSON.parse(t).data)}return e}load(){typeof this.app.context._mgID5Exists>"u"&&this.id5Init()}initCheck(){return this.app.currentSubnet===0}}});var Vp={};ye(Vp,{PubmaticBlock:()=>wn});var wn,qp=ne(()=>{S();_();k();C();I();D();E();xn();wn=class extends zi{constructor(e){super(e),this.storageKey="_mgPubmatic",this.name="PubmaticBlock",this.paramName="pubmatic",this.refreshTime=36e5}initPubmaticCode(){this.app.context.PWT={},this.app.context.pbjs=this.app.context.pbjs||{},this.app.context.pbjs.que=this.app.context.pbjs.que||[],this.app.context.PWT.jsLoaded=()=>{this.app.context._mgPubmaticExists=!0,this.app.context.localStorage.setItem(this.storageKey,JSON.stringify({time:new Date().getTime(),data:JSON.stringify(this.app.context.PWT.getUserIds())}))};let e=this.app.context.location.href,t="https://ads.pubmatic.com/AdServer/js/pwt/161673/7165",i="";if(e.indexOf("pwtv=")>0){let n=/pwtv=(.*?)(&|$)/g.exec(e);n.length>=2&&n[1].length>0&&(i="/"+n[1])}let a=this.app.context.document.createElement("script");a.async=!0,a.type="text/javascript",a.src=t+i+"/pwt.js",this.app.root.parentNode.insertBefore(a,this.app.root)}check(){let e=this.app.context.localStorage.getItem(this.storageKey);if(e){let t=JSON.parse(e);if(new Date().getTime()-t.time>this.refreshTime)return!1}else return!1;return!0}getData(){let e=this.app.context.localStorage.getItem(this.storageKey);return e?JSON.parse(e).data:""}load(){typeof this.app.context._mgPubmaticExists>"u"&&this.initPubmaticCode()}}});var Wp={};ye(Wp,{ObserverBlock:()=>Sn});var Sn,Up=ne(()=>{S();_();k();C();I();D();E();ge();Sn=class extends ${constructor(e){super(e),this.name="ObserverBlock",this.addHook("afterLoadNewsHooks",this.initWidgetObserver)}initWidgetObserver(){if(this.app.context.IntersectionObserver){this.app.widgetObserver=new IntersectionObserver(t=>{t.forEach(i=>{let a=i.isIntersecting?"shown":"hidden";if(i.target==this.app.root)this.app.log(`Observer. Widget ${a}. Ratio: ${i.intersectionRatio}`),this.app.lifeCycleBlock.processHooks("observerWidgetHooks",[i.isIntersecting,i.intersectionRatio]);else for(let s=0;s<this.app.observerTeasersHooks.length;s++){let n=1,l=1;try{i.target instanceof HTMLElement&&(n=this.app.teaserData[i.target.dataset.i].iteration,l=this.app.teaserData[i.target.dataset.i].page)}catch{}this.app.log(`Observer. Teaser[${l}, ${n}] ${a}. 
                Ratio: ${i.intersectionRatio}`),this.app.lifeCycleBlock.processHooks("observerTeasersHooks",[i.target,i.isIntersecting,i.intersectionRatio,n,l])}})},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.app.widgetObserver.observe(this.app.root);let e=[].slice.call(this.app.root.getElementsByClassName("mgline"));for(let t of e)this.app.widgetObserver.observe(t)}}}});var jp=pe(()=>{S();_();k();C();I();D();E()});var zp=pe(()=>{S();_();k();C();I();D();E()});var Rs,Hs,Fp=ne(()=>{S();_();k();C();I();D();E();(function(r){r.Init="init",r.Render="render"})(Rs||(Rs={}));Hs=class{constructor(e){this.app=e,this.app.debugBlock.initDebugger(),this.app.lifeCycleBlock=this,this.stage=null,this.workInProgress=!1,this.isAdBlockDetect=this.app.adBlockDetect(),this.mirrorName=JSON.parse('[{"id":0,"informer_prefix":"MarketGid","mirror":"mgid.com","mirrorName":"adsmovil","imageDomain":"mgid.com","dashboardDomain":"dashboard.mgid.com","utm":"?utm_source={domain}&utm_medium=referral&utm_campaign=widgets&utm_content="}]')[0]?.mirrorName,this.workersAvailable=typeof Worker<"u";try{let t=new Worker(window.URL.createObjectURL(new Blob([],{type:"text/javascript"})))}catch{this.workersAvailable=!1}if(this.workersAvailable){let t=new Blob([`self.onmessage = function(e) { 
              if (e.data.timeout === 0) { self.postMessage({ eventId: e.data.eventId }); }
              else { setTimeout(function() { self.postMessage({ eventId: e.data.eventId }); }, e.data.timeout); }
            }`],{type:"text/javascript"});this.worker=new Worker(window.URL.createObjectURL(t)),this.workerCallbacks={},this.worker.addEventListener("message",i=>{this.workerCallbacks[i.data.eventId](),delete this.workerCallbacks[i.data.eventId]})}}async run(){this.stage=Rs.Init,this.workInProgress=!0,this.app.time("run()");try{this.app.time("initNavigatorAgentDataBlock"),await this.execute("",async()=>{this.app.navigatorAgentDataBlock=new(await Promise.resolve().then(()=>(br(),vr))).NavigatorAgentDataBlock(this.app)}),this.app.timeEnd("initNavigatorAgentDataBlock"),typeof this.app.context?.navigator?.userAgentData?.getHighEntropyValues=="function"&&(this.app.time("app.navigatorAgentDataBlock.waitForUserAgentData()"),await this.app.navigatorAgentDataBlock.waitForUserAgentData(),this.app.timeEnd("app.navigatorAgentDataBlock.waitForUserAgentData()")),await this.execute("",async()=>{this.app.ampRenderBlock=new(await Promise.resolve().then(()=>(Yo(),Fo))).AmpRenderBlock(this.app)}),this.app.time("processHooks(beforeInitBlockHooks)"),await this.processHooks("beforeInitBlockHooks",null),this.app.timeEnd("processHooks(beforeInitBlockHooks)"),this.app.time("initBlocks()"),await this.initBlocks(),this.app.timeEnd("initBlocks()"),this.app.rootId==="TempRootId"&&(this.app.time("waitWidgetLoad()"),await this.waitWidgetLoad(),this.app.timeEnd("waitWidgetLoad()")),this.app.time("processHooks(beforeInitHooks)"),await this.processHooks("beforeInitHooks",null),this.app.timeEnd("processHooks(beforeInitHooks)"),await this.execute("app.init()",()=>{this.app.init()}),await this.execute("app.utils.isMobile()",()=>{this.app.utils.isMobile()}),this.app.time("processHooks(afterInitHooks)"),await this.processHooks("afterInitHooks",null),this.app.timeEnd("processHooks(afterInitHooks)"),this.app.time("app.videoMetricsBlock.waitForCollectMetrics()"),await this.app.videoMetricsBlock.waitForCollectMetrics(),this.app.timeEnd("app.videoMetricsBlock.waitForCollectMetrics()");{let e=await this.execute("app.preparePrerenderData()",()=>this.app.preparePrerenderData()),t=await this.execute("app.templateFunc()",()=>{let i=this.app.getRenderer(this.app.templateText);return i.setRawTemplate(this.app.templateText),i.getHtml(e)});await this.execute("app.prerenderNews()",()=>{this.app.prerenderNews(t)}),await this.execute("app.calcPreRenderingBlock()",()=>{this.app.calcPreRenderingBlock()},50)}this.app.time("processHooks(beforeInjectScriptHooks)"),await this.processHooks("beforeInjectScriptHooks",null),this.app.timeEnd("processHooks(beforeInjectScriptHooks)"),await this.execute("app.injectScript()",()=>{this.app.injectScript(!1)}),this.app.initServicerRequest||(this.app.time("processHooks(afterInjectScriptHooks)"),await this.processHooks("afterInjectScriptHooks",null),this.app.timeEnd("processHooks(afterInjectScriptHooks)"))}catch(e){this.app.log("","error",e)}this.workInProgress=!1,this.app.timeEnd("run()")}async render(e,t){await this.waitForFree(),this.stage=Rs.Render,this.workInProgress=!0,this.app.time("render()");try{await this.execute("loadNewsPrestart()",()=>{this.app.loadNewsPrestart(t)});let i=this.app.responseParser.getAdUnitsFromJson(e);this.app.responseParser.fillAdUnitsData(i),this.app.time("processHooks(beforeLoadNewsHooks)"),await this.processHooks("beforeLoadNewsHooks",[e,t]),this.app.timeEnd("processHooks(beforeLoadNewsHooks)"),await this.execute("app.loadNews()",()=>{this.app.getRenderer(this.app.templateText).setRawTemplate(this.app.templateText),this.app.loadNews(i)}),this.app.time("processHooks(afterLoadNewsHooks)"),await this.processHooks("afterLoadNewsHooks",null),this.app.timeEnd("processHooks(afterLoadNewsHooks)")}catch(i){this.app.log("","error",i)}this.workInProgress=!1,this.app.timeEnd("render()")}async initBlocks(){if(await this.execute("",async()=>{this.app.mgqBlock=new(await Promise.resolve().then(()=>(Zo(),$o))).MgqBlock(this.app)}),await this.execute("",async()=>{this.app.consentsBlock=new(await Promise.resolve().then(()=>(_r(),Sr))).ConsentsBlock(this.app)}),await this.execute("",async()=>{this.app.request=new(await Promise.resolve().then(()=>(Qo(),Ko))).RequestBlock(this.app)}),await this.execute("",async()=>{this.app.contextBlock=new(await Promise.resolve().then(()=>(tl(),el))).ContextBlock(this.app)}),await this.execute("",async()=>{this.app.pageViewPixelBlock=new(await Promise.resolve().then(()=>(al(),il))).PageViewPixelBlock(this.app)}),await this.execute("",async()=>{this.app.utils=new(await Promise.resolve().then(()=>(rl(),sl))).UtilsBlock(this.app)}),await this.execute("",async()=>{this.app.backButtonBlock=new(await Promise.resolve().then(()=>(ll(),ol))).BackButtonBlock(this.app)}),await this.execute("",async()=>{this.app.main=new(await Promise.resolve().then(()=>(dl(),pl))).MainBlock(this.app)}),await this.execute("",async()=>{this.app.responseParser=new(await Promise.resolve().then(()=>(hl(),cl))).ResponseParserBlock(this.app)}),await this.execute("",async()=>{this.app.cookieBlock=new(await Promise.resolve().then(()=>(ml(),ul))).CookieBlock(this.app)}),await this.execute("",async()=>{this.app.stylesheetsBlock=new(await Promise.resolve().then(()=>(gl(),fl))).StylesheetsBlock(this.app)}),await this.execute("",async()=>{this.app.sendDimensions=new(await Promise.resolve().then(()=>(vl(),yl))).SendDimensionsBlock(this.app)}),await this.execute("",async()=>{this.app.versionControl=new(await Promise.resolve().then(()=>(xl(),bl))).VersionControlBlock(this.app)}),await this.execute("",async()=>{this.app.internalExchangeBlock=new(await Promise.resolve().then(()=>(wl(),Tl))).InternalExchangeBlock(this.app)}),await this.execute("",async()=>{this.app.InternalExchangeLogger=new(await Promise.resolve().then(()=>(_l(),Sl))).InternalExchangeLoggerBlock(this.app)}),await this.execute("",async()=>{this.app.advertLinkBlock=new(await Promise.resolve().then(()=>(Cl(),kl))).AdvertLinkBlock(this.app)}),await this.execute("",async()=>{this.app.colorBlock=new(await Promise.resolve().then(()=>(Dl(),Il))).ColorBlock(this.app)}),await this.execute("",async()=>{this.app.gradientBlock=new(await Promise.resolve().then(()=>(Pl(),El))).GradientBlock(this.app)}),await this.execute("",async()=>{this.app.adChoiceBlock=new(await Promise.resolve().then(()=>(Ll(),Al))).AdChoiceBlock(this.app)}),this.mirrorName!=="trafficmedia"&&await this.execute("",async()=>{this.app.rejectBlock=new(await Promise.resolve().then(()=>(Ol(),Bl))).RejectBlock(this.app)}),await this.execute("",async()=>{this.app.teaserHoverBlock=new(await Promise.resolve().then(()=>(Rl(),Ml))).TeaserHoverBlock(this.app)}),await this.execute("",async()=>{this.app.consentsBlock=new(await Promise.resolve().then(()=>(_r(),Sr))).ConsentsBlock(this.app)}),await this.execute("",async()=>{this.app.inAppParamsBlock=new(await Promise.resolve().then(()=>(Gl(),Nl))).InAppParamsBlock(this.app)}),await this.execute("",async()=>{this.app.navigatorAgentDataBlock=new(await Promise.resolve().then(()=>(br(),vr))).NavigatorAgentDataBlock(this.app)}),await this.execute("",async()=>{this.app.countersBlock=new(await Promise.resolve().then(()=>(ql(),Vl))).CountersBlock(this.app)}),await this.execute("",async()=>{this.app.blurBlock=new(await Promise.resolve().then(()=>(Ul(),Wl))).BlurBlock(this.app)}),await this.execute("",async()=>{this.app.subnetsBlock=new(await Promise.resolve().then(()=>(zl(),jl))).SubnetsBlock(this.app)}),await this.execute("",async()=>{this.app.smartDoubleClickBlock=new(await Promise.resolve().then(()=>($l(),Yl))).SmartDoubleClickBlock(this.app)}),await this.execute("",async()=>{this.app.mobileDoubleClickBlock=new(await Promise.resolve().then(()=>(Xl(),Zl))).MobileDoubleClickBlock(this.app)}),await this.execute("",async()=>{this.app.desktopDoubleClickBlock=new(await Promise.resolve().then(()=>(Kl(),Jl))).DesktopDoubleClickBlock(this.app)}),await this.execute("",async()=>{this.app.sspDoubleClickBlock=new(await Promise.resolve().then(()=>(ep(),Ql))).SspDoubleClickBlock(this.app)}),await this.execute("",async()=>{}),await this.execute("",async()=>{this.app.externalCountersBlock=new(await Promise.resolve().then(()=>(ip(),tp))).ExternalCountersBlock(this.app)}),await this.execute("",async()=>{this.app.videoMetricsBlock=new(await Promise.resolve().then(()=>(sp(),ap))).VideoMetricsBlock(this.app)}),await this.execute("",async()=>{this.app.originTrialsBlock=new(await Promise.resolve().then(()=>(np(),rp))).OriginTrialsBlock(this.app)}),await this.execute("",async()=>{this.app.browserTopicsBlock=new(await Promise.resolve().then(()=>(lp(),op))).BrowserTopicsBlock(this.app)}),await this.execute("",async()=>{this.app.calculateSessionsBlock=new(await Promise.resolve().then(()=>(dp(),pp))).CalculateSessionsBlock(this.app)}),await this.execute("",async()=>{this.app.renderClassicBlock=new(await Promise.resolve().then(()=>(hp(),cp))).RenderClassicBlock(this.app)}),await this.execute("",async()=>{this.app.renderSchematicBlock=new(await Promise.resolve().then(()=>(mp(),up))).RenderSchematicBlock(this.app)}),await this.execute("",async()=>{this.app.elasticBlock=new(await Promise.resolve().then(()=>(gp(),fp))).ElasticBlock(this.app)}),await this.execute("",async()=>{this.app.antifraudStatisticsBlock=new(await Promise.resolve().then(()=>(Tp(),xp))).AntifraudStatisticsBlock(this.app)}),await this.execute("",async()=>{this.app.antifraudBlock=new(await Promise.resolve().then(()=>(Sp(),wp))).AntifraudBlock(this.app)}),5>0&&await this.execute("",async()=>{this.app.accidentalClicksBlock=new(await Promise.resolve().then(()=>(kp(),_p))).AccidentalClicksBlock(this.app)}),await this.execute("",async()=>{this.app.activateDelayBlock=new(await Promise.resolve().then(()=>(Ip(),Cp))).ActivateDelayBlock(this.app)}),await this.execute("",async()=>{this.app.monitorBlock=new(await Promise.resolve().then(()=>(Ep(),Dp))).MonitorBlock(this.app)}),await this.execute("",async()=>{this.app.googleGptBlock=new(await Promise.resolve().then(()=>(Ap(),Pp))).GoogleGptBlock(this.app)}),this.isAdBlockDetect){for(let e in this.app.childWidgetsData)if(this.app.childWidgetsData.hasOwnProperty(e)){let t=this.app.childWidgetsData[e].isAdblockChild,i=this.app.childWidgetsData[e].childSubtype;if(t&&i==="in-article-adblock"){await this.execute("",async()=>{this.app.hideDescriptionBlock=new(await Promise.resolve().then(()=>(Bp(),Lp))).HideDescriptionBlock(this.app)});break}}}await this.execute("",async()=>{this.app.collectViewDataBlock=new(await Promise.resolve().then(()=>(Mp(),Op))).CollectViewDataBlock(this.app)}),await this.execute("",async()=>{this.app.rtbBlock=new(await Promise.resolve().then(()=>(Hp(),Rp))).RtbBlock(this.app)});try{this.app.context.localStorage&&(await this.execute("ID5Block",async()=>{this.app.id5Block=new(await Promise.resolve().then(()=>(Gp(),Np))).ID5Block(this.app)}),await this.execute("PubmaticBlock",async()=>{this.app.pubmaticBlock=new(await Promise.resolve().then(()=>(qp(),Vp))).PubmaticBlock(this.app)}))}catch{}await this.execute("",async()=>{this.app.observerBlock=new(await Promise.resolve().then(()=>(Up(),Wp))).ObserverBlock(this.app)});try{await Promise.resolve().then(()=>Yi(jp())),await Promise.resolve().then(()=>Yi(zp())),await this.initializeCustomFuncBlocks()}catch(e){this.app.log("LifeCycleBlock - Initialize Custom Func Blocks error:","error",e)}}async initializeCustomFuncBlocks(){let e=window["MarketGidInfC1456432"].parentCustomFuncBlocks||{};for(let t in e)if(e.hasOwnProperty(t)){let i=t.replace(/[-_]/g,"").replace(/./,s=>s.toUpperCase())+"Block",a=`Custom func block - ${t}`;await this.execute(a,s=>{try{this.app[i]=new e[t](this.app),s()}catch(n){this.app.log(`LifeCycleBlock - ${a} error:`,"error",n),s()}},0,!1,!0)}}async processHooks(e,t){for(let i=0;i<this.app[e].length;i++){let a=this.app[e][i];try{await a(t)}catch(s){this.app.log(`LifeCycleBlock - ${e} hook ${a} failed`,"error",s)}}}async execute(e,t,i=0,a=!1,s=!1){e&&typeof this.app.time=="function"&&this.app.time(e);let n=navigator.userAgent.toLowerCase(),l=this.app.isAmp()||!(n.indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1)||n.indexOf("fbav")>-1||n.indexOf("fban")>-1;return new Promise(c=>{if(l&&!a)s?t(c):c(t());else if(this.workersAvailable){let h=("0000000000"+Math.round(Math.random()*1e10).toString(16)).slice(-10);this.workerCallbacks[h]=()=>{s?t(c):c(t())},this.worker.postMessage({eventId:h,timeout:i})}else setTimeout(()=>{s?t(c):c(t())},i)}).finally(()=>{e&&typeof this.app.timeEnd=="function"&&this.app.timeEnd(e)})}async waitForFree(){return new Promise(e=>{(function t(){this.workInProgress?this.execute("",()=>{t.bind(this)()},50,!0):e()}).bind(this)()})}async waitWidgetLoad(){return new Promise(e=>{this.app.lifeCycleLoadResolver=e})}}});var Ns,Yp=ne(()=>{S();_();k();C();I();D();E();gr();Fp();Ns=class{canLoad(){let e=this._getVersion();return e!=null?(this._loadVersion(e),!0):!1}_getVersion(){let e=this._getMgID(),t=this._getCodes();if(e!=null){if(parent.window.document.getElementById(t[9]))return 9;if(parent.window.document.getElementById(t[10]))return 10}else if([this._getCodes(1456432)[9],this._getCodes(1456432)[9],this._getCodes(1456432)[10],this._getCodes(1456432)[10]].filter(a=>document.getElementById(a))[0])return 11;if(document.getElementById(t[3]))return 3;if(document.getElementById(t[4]))return 4}_loadVersion(e){+e<=4?this._loadVersion3To4(e):+e<=10?this._loadVersion9To10(e):+e==11&&this._loadVersion11WithWidgetID()}_loadVersion11WithWidgetID(){let e=this._getUniqID(),t=e!==""?"_"+e:"",i=null;if([[this._getCode(10,1456432),1456432],[this._getCode(10,1456432),1456432],[this._getCode(9,1456432),1456432],[this._getCode(9,1456432),1456432]].some(([s,n])=>{if(document.getElementById(s))return i=n,!0}),!window.document.getElementById(this._getCode(3,i))||!window.document.getElementById(this._getCode(4,i))){let s=[this._getCode(9,i),this._getCode(10,i)].filter(l=>window.document.getElementById(l))[0],n=this._getCode(3,i+t)+t;this._setDivs({id:n,rootID:s,newRootID:s+t})}this._setPreloadBlockId(i,t);let a=[this._getCode(3,i+t)+t,this._getCode(4,i+t)+t].filter(s=>document.getElementById(s))[0];this._loadApp({id:a,containerID:i+t,version:11})}_loadVersion3To4(e){let i=this._getCode(e);document.getElementById(i).innerHTML="",this._loadApp({id:i,version:e,fallback:!1,containerID:0})}_loadVersion9To10(e){let t="_"+this._getUniqID(),i=this._getCode(e),a="MarketGidComposite"+1456432+t,s=parent.window;this._setPreloadBlockId(this._getMgID(),t),this._setDivs({id:a,rootID:i,context:s,newRootID:i+t}),this._loadApp({id:a,version:e,context:s,containerID:this._getMgID()+t})}_loadApp({id:e,context:t=window,fallback:i=!1,containerID:a=this._getMgID(),uniqID:s=this._getUniqID(),version:n}){this.widgetLoadV16Count&&(n=16),this.widget=new Wi(e,t,i,a,s,n),this.lifeCycle=new Hs(this.widget),window["MarketGidInfC1456432"]=this.widget}_setDivs({rootID:e,id:t,context:i=window,newRootID:a=null}){let s=i.document.getElementById(e),n=i.document.createElement("div");n.id=t,s.appendChild(n),a&&(s.id=a)}_setPreloadBlockId(e,t){let i="MarketGidPreloadC"+e,a="M"+882635+"PreloadC"+e,s=[i,a].filter(n=>{try{return parent.window.document.getElementById(n)}catch{return window.document.getElementById(n)}})[0];if(s)try{parent.window.document.getElementById(s).id=s+t}catch{window.document.getElementById(s).id=s+t}}_getUniqID(){return this.uniqID||(this.uniqID=window.uniqId||("00000"+Math.round(Math.random()*1e5).toString(16)).slice(-5)),this.uniqID}_getCodes(e=null){let t=e||this._getMgID();return{3:"MarketGidComposite"+1456432,4:"M"+882635+"Composite"+1456432,9:"MarketGidScriptRootC"+t,10:"M"+882635+"ScriptRootC"+t}}_getCode(e,t=null){return this._getCodes(t)[e]}_getMgID(){return typeof this.mgID>"u"&&(document.getElementById("MG_ID")?this.mgID=document.getElementById("MG_ID").innerHTML:this.mgID=null),this.mgID}loadCurrentWidget(){let e=!0,t=`mg_loaded_${882635}_${1456432}`;typeof window[t]<"u",e&&(window[t]=!0,window[t]=!0,this.lifeCycle.run())}waitAndLoadWidget(e){let i=!1;this.widgetLoadV16Count=0;let a,s;e&&(a=this._getUniqID(),s=a!==""?"_"+a:"",this._loadApp({id:"TempRootId",containerID:1456432+s,version:16}),this.loadCurrentWidget()),window["_mgWidgetLoad"+1456432]=()=>{if(this.widgetLoadV16Count++,this.widget&&this.widget.versionWidget!==16&&(this.widget.versionWidget=16),e&&!i){if(i=!0,!window.document.getElementById(this._getCode(3,1456432))||!window.document.getElementById(this._getCode(4,1456432))){let l=[this._getCode(9,1456432),this._getCode(10,1456432)].filter(h=>window.document.getElementById(h))[0],c=this._getCode(3,1456432+s)+s;this._setDivs({id:c,rootID:l,newRootID:l+s})}this._setPreloadBlockId(1456432,s);let n=[this._getCode(3,1456432+s)+s,this._getCode(4,1456432+s)+s].filter(l=>document.getElementById(l))[0];this.widget.root=document.getElementById(n),this.widget.lifeCycleLoadResolver&&this.widget.lifeCycleLoadResolver()}else this.uniqID=null,this.canLoad()&&this.loadCurrentWidget()}}}});var Af={};var Gs,$p=ne(()=>{S();_();k();C();I();D();E();Yp();Gs=new Ns;Gs.canLoad()?(Gs.loadCurrentWidget(),Gs.waitAndLoadWidget(!1)):Gs.waitAndLoadWidget(!0)});S();_();k();C();I();D();E();Promise.resolve().then(()=>$p());})();